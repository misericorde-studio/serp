(function (ae) { typeof define == "function" && define.amd ? define(ae) : ae() })(function () {
  "use strict"; function ae(a) { if (a === void 0) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return a } function Ui(a, e) { a.prototype = Object.create(e.prototype), a.prototype.constructor = a, a.__proto__ = e }/*!
 * GSAP 3.9.1
 * https://greensock.com
 *
 * @license Copyright 2008-2021, GreenSock. All rights reserved.
 * Subject to the terms at https://greensock.com/standard-license or for
 * Club GreenSock members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
*/var ne = { autoSleep: 120, force3D: "auto", nullTargetWarn: 1, units: { lineHeight: "" } }, et = { duration: .5, overwrite: !1, delay: 0 }, ei, le = 1e8, z = 1 / le, ti = Math.PI * 2, br = ti / 4, wr = 0, Gi = Math.sqrt, xr = Math.cos, Sr = Math.sin, V = function (e) { return typeof e == "string" }, W = function (e) { return typeof e == "function" }, we = function (e) { return typeof e == "number" }, ii = function (e) { return typeof e == "undefined" }, xe = function (e) { return typeof e == "object" }, K = function (e) { return e !== !1 }, $i = function () { return typeof window != "undefined" }, Dt = function (e) { return W(e) || V(e) }, ji = typeof ArrayBuffer == "function" && ArrayBuffer.isView || function () { }, j = Array.isArray, ni = /(?:-?\.?\d|\.)+/gi, Xi = /[-+=.]*\d+[.e\-+]*\d*[e\-+]*\d*/g, tt = /[-+=.]*\d+[.e-]*\d*[a-z%]*/g, ri = /[-+=.]*\d+\.?\d*(?:e-|e\+)?\d*/gi, Yi = /[+-]=-?[.\d]+/, Qi = /[^,'"\[\]\s]+/gi, Tr = /[\d.+\-=]+(?:e[-+]\d*)*/i, H, pe, si, oi, re = {}, zt = {}, Ki, Zi = function (e) { return (zt = it(e, re)) && _e }, ai = function (e, t) { return console.warn("Invalid property", e, "set to", t, "Missing plugin? gsap.registerPlugin()") }, qt = function (e, t) { return !t && console.warn(e) }, Ji = function (e, t) { return e && (re[e] = t) && zt && (zt[e] = t) || re }, dt = function () { return 0 }, li = {}, Pe = [], ci = {}, en, se = {}, ui = {}, tn = 30, It = [], hi = "", fi = function (e) { var t = e[0], i, n; if (xe(t) || W(t) || (e = [e]), !(i = (t._gsap || {}).harness)) { for (n = It.length; n-- && !It[n].targetTest(t);); i = It[n] } for (n = e.length; n--;)e[n] && (e[n]._gsap || (e[n]._gsap = new Mn(e[n], i))) || e.splice(n, 1); return e }, Ne = function (e) { return e._gsap || fi(he(e))[0]._gsap }, nn = function (e, t, i) { return (i = e[t]) && W(i) ? e[t]() : ii(i) && e.getAttribute && e.getAttribute(t) || i }, Z = function (e, t) { return (e = e.split(",")).forEach(t) || e }, N = function (e) { return Math.round(e * 1e5) / 1e5 || 0 }, X = function (e) { return Math.round(e * 1e7) / 1e7 || 0 }, Pr = function (e, t) { for (var i = t.length, n = 0; e.indexOf(t[n]) < 0 && ++n < i;); return n < i }, Bt = function () { var e = Pe.length, t = Pe.slice(0), i, n; for (ci = {}, Pe.length = 0, i = 0; i < e; i++)n = t[i], n && n._lazy && (n.render(n._lazy[0], n._lazy[1], !0)._lazy = 0) }, rn = function (e, t, i, n) { Pe.length && Bt(), e.render(t, i, n), Pe.length && Bt() }, sn = function (e) { var t = parseFloat(e); return (t || t === 0) && (e + "").match(Qi).length < 2 ? t : V(e) ? e.trim() : e }, on = function (e) { return e }, ce = function (e, t) { for (var i in t) i in e || (e[i] = t[i]); return e }, Cr = function (e) { return function (t, i) { for (var n in i) n in t || n === "duration" && e || n === "ease" || (t[n] = i[n]) } }, it = function (e, t) { for (var i in t) e[i] = t[i]; return e }, an = function a(e, t) { for (var i in t) i !== "__proto__" && i !== "constructor" && i !== "prototype" && (e[i] = xe(t[i]) ? a(e[i] || (e[i] = {}), t[i]) : t[i]); return e }, Ht = function (e, t) { var i = {}, n; for (n in e) n in t || (i[n] = e[n]); return i }, mt = function (e) { var t = e.parent || H, i = e.keyframes ? Cr(j(e.keyframes)) : ce; if (K(e.inherit)) for (; t;)i(e, t.vars.defaults), t = t.parent || t._dp; return e }, kr = function (e, t) { for (var i = e.length, n = i === t.length; n && i-- && e[i] === t[i];); return i < 0 }, Er = function (e, t, i, n, r) { i === void 0 && (i = "_first"), n === void 0 && (n = "_last"); var s = e[n], o; if (r) for (o = t[r]; s && s[r] > o;)s = s._prev; return s ? (t._next = s._next, s._next = t) : (t._next = e[i], e[i] = t), t._next ? t._next._prev = t : e[n] = t, t._prev = s, t.parent = t._dp = e, t }, Nt = function (e, t, i, n) { i === void 0 && (i = "_first"), n === void 0 && (n = "_last"); var r = t._prev, s = t._next; r ? r._next = s : e[i] === t && (e[i] = s), s ? s._prev = r : e[n] === t && (e[n] = r), t._next = t._prev = t.parent = null }, Se = function (e, t) { e.parent && (!t || e.parent.autoRemoveChildren) && e.parent.remove(e), e._act = 0 }, Fe = function (e, t) { if (e && (!t || t._end > e._dur || t._start < 0)) for (var i = e; i;)i._dirty = 1, i = i.parent; return e }, Mr = function (e) { for (var t = e.parent; t && t.parent;)t._dirty = 1, t.totalDuration(), t = t.parent; return e }, Or = function a(e) { return !e || e._ts && a(e.parent) }, ln = function (e) { return e._repeat ? nt(e._tTime, e = e.duration() + e._rDelay) * e : 0 }, nt = function (e, t) { var i = Math.floor(e /= t); return e && i === e ? i - 1 : i }, Ft = function (e, t) { return (e - t._start) * t._ts + (t._ts >= 0 ? 0 : t._dirty ? t.totalDuration() : t._tDur) }, Vt = function (e) { return e._end = X(e._start + (e._tDur / Math.abs(e._ts || e._rts || z) || 0)) }, cn = function (e, t) { var i = e._dp; return i && i.smoothChildTiming && e._ts && (e._start = X(i._time - (e._ts > 0 ? t / e._ts : ((e._dirty ? e.totalDuration() : e._tDur) - t) / -e._ts)), Vt(e), i._dirty || Fe(i, e)), e }, un = function (e, t) { var i; if ((t._time || t._initted && !t._dur) && (i = Ft(e.rawTime(), t), (!t._dur || gt(0, t.totalDuration(), i) - t._tTime > z) && t.render(i, !0)), Fe(e, t)._dp && e._initted && e._time >= e._dur && e._ts) { if (e._dur < e.duration()) for (i = e; i._dp;)i.rawTime() >= 0 && i.totalTime(i._tTime), i = i._dp; e._zTime = -z } }, ge = function (e, t, i, n) { return t.parent && Se(t), t._start = X((we(i) ? i : i || e !== H ? ue(e, i, t) : e._time) + t._delay), t._end = X(t._start + (t.totalDuration() / Math.abs(t.timeScale()) || 0)), Er(e, t, "_first", "_last", e._sort ? "_start" : 0), di(t) || (e._recent = t), n || un(e, t), e }, hn = function (e, t) { return (re.ScrollTrigger || ai("scrollTrigger", t)) && re.ScrollTrigger.create(t, e) }, fn = function (e, t, i, n) { if (Jr(e, t), !e._initted) return 1; if (!i && e._pt && (e._dur && e.vars.lazy !== !1 || !e._dur && e.vars.lazy) && en !== de.frame) return Pe.push(e), e._lazy = [t, n], 1 }, Lr = function a(e) { var t = e.parent; return t && t._ts && t._initted && !t._lock && (t.rawTime() < 0 || a(t)) }, di = function (e) { var t = e.data; return t === "isFromStart" || t === "isStart" }, Ar = function (e, t, i, n) { var r = e.ratio, s = t < 0 || !t && (!e._start && Lr(e) && !(!e._initted && di(e)) || (e._ts < 0 || e._dp._ts < 0) && !di(e)) ? 0 : 1, o = e._rDelay, l = 0, c, u, h; if (o && e._repeat && (l = gt(0, e._tDur, t), u = nt(l, o), e._yoyo && u & 1 && (s = 1 - s), u !== nt(e._tTime, o) && (r = 1 - s, e.vars.repeatRefresh && e._initted && e.invalidate())), s !== r || n || e._zTime === z || !t && e._zTime) { if (!e._initted && fn(e, t, n, i)) return; for (h = e._zTime, e._zTime = t || (i ? z : 0), i || (i = t && !h), e.ratio = s, e._from && (s = 1 - s), e._time = 0, e._tTime = l, c = e._pt; c;)c.r(s, c.d), c = c._next; e._startAt && t < 0 && e._startAt.render(t, !0, !0), e._onUpdate && !i && fe(e, "onUpdate"), l && e._repeat && !i && e.parent && fe(e, "onRepeat"), (t >= e._tDur || t < 0) && e.ratio === s && (s && Se(e, 1), i || (fe(e, s ? "onComplete" : "onReverseComplete", !0), e._prom && e._prom())) } else e._zTime || (e._zTime = t) }, Rr = function (e, t, i) { var n; if (i > t) for (n = e._first; n && n._start <= i;) { if (n.data === "isPause" && n._start > t) return n; n = n._next } else for (n = e._last; n && n._start >= i;) { if (n.data === "isPause" && n._start < t) return n; n = n._prev } }, rt = function (e, t, i, n) { var r = e._repeat, s = X(t) || 0, o = e._tTime / e._tDur; return o && !n && (e._time *= s / e._dur), e._dur = s, e._tDur = r ? r < 0 ? 1e10 : X(s * (r + 1) + e._rDelay * r) : s, o > 0 && !n ? cn(e, e._tTime = e._tDur * o) : e.parent && Vt(e), i || Fe(e.parent, e), e }, dn = function (e) { return e instanceof ee ? Fe(e) : rt(e, e._dur) }, Dr = { _start: 0, endTime: dt, totalDuration: dt }, ue = function a(e, t, i) { var n = e.labels, r = e._recent || Dr, s = e.duration() >= le ? r.endTime(!1) : e._dur, o, l, c; return V(t) && (isNaN(t) || t in n) ? (l = t.charAt(0), c = t.substr(-1) === "%", o = t.indexOf("="), l === "<" || l === ">" ? (o >= 0 && (t = t.replace(/=/, "")), (l === "<" ? r._start : r.endTime(r._repeat >= 0)) + (parseFloat(t.substr(1)) || 0) * (c ? (o < 0 ? r : i).totalDuration() / 100 : 1)) : o < 0 ? (t in n || (n[t] = s), n[t]) : (l = parseFloat(t.charAt(o - 1) + t.substr(o + 1)), c && i && (l = l / 100 * (j(i) ? i[0] : i).totalDuration()), o > 1 ? a(e, t.substr(0, o - 1), i) + l : s + l)) : t == null ? s : +t }, pt = function (e, t, i) { var n = we(t[1]), r = (n ? 2 : 1) + (e < 2 ? 0 : 1), s = t[r], o, l; if (n && (s.duration = t[1]), s.parent = i, e) { for (o = s, l = i; l && !("immediateRender" in o);)o = l.vars.defaults || {}, l = K(l.vars.inherit) && l.parent; s.immediateRender = K(o.immediateRender), e < 2 ? s.runBackwards = 1 : s.startAt = t[r - 1] } return new U(t[0], s, t[r + 1]) }, Ce = function (e, t) { return e || e === 0 ? t(e) : t }, gt = function (e, t, i) { return i < e ? e : i > t ? t : i }, J = function (e, t) { return !V(e) || !(t = Tr.exec(e)) ? "" : e.substr(t.index + t[0].length) }, zr = function (e, t, i) { return Ce(i, function (n) { return gt(e, t, n) }) }, mi = [].slice, mn = function (e, t) { return e && xe(e) && "length" in e && (!t && !e.length || e.length - 1 in e && xe(e[0])) && !e.nodeType && e !== pe }, qr = function (e, t, i) { return i === void 0 && (i = []), e.forEach(function (n) { var r; return V(n) && !t || mn(n, 1) ? (r = i).push.apply(r, he(n)) : i.push(n) }) || i }, he = function (e, t, i) { return V(e) && !i && (si || !ot()) ? mi.call((t || oi).querySelectorAll(e), 0) : j(e) ? qr(e, i) : mn(e) ? mi.call(e, 0) : e ? [e] : [] }, Ir = function (e) { return e = he(e)[0] || qt("Invalid scope") || {}, function (t) { var i = e.current || e.nativeElement || e; return he(t, i.querySelectorAll ? i : i === e ? qt("Invalid scope") || oi.createElement("div") : e) } }, pn = function (e) { return e.sort(function () { return .5 - Math.random() }) }, gn = function (e) { if (W(e)) return e; var t = xe(e) ? e : { each: e }, i = Ve(t.ease), n = t.from || 0, r = parseFloat(t.base) || 0, s = {}, o = n > 0 && n < 1, l = isNaN(n) || o, c = t.axis, u = n, h = n; return V(n) ? u = h = { center: .5, edges: .5, end: 1 }[n] || 0 : !o && l && (u = n[0], h = n[1]), function (d, m, p) { var f = (p || t).length, _ = s[f], g, y, v, x, b, w, T, P, S; if (!_) { if (S = t.grid === "auto" ? 0 : (t.grid || [1, le])[1], !S) { for (T = -le; T < (T = p[S++].getBoundingClientRect().left) && S < f;); S-- } for (_ = s[f] = [], g = l ? Math.min(S, f) * u - .5 : n % S, y = S === le ? 0 : l ? f * h / S - .5 : n / S | 0, T = 0, P = le, w = 0; w < f; w++)v = w % S - g, x = y - (w / S | 0), _[w] = b = c ? Math.abs(c === "y" ? x : v) : Gi(v * v + x * x), b > T && (T = b), b < P && (P = b); n === "random" && pn(_), _.max = T - P, _.min = P, _.v = f = (parseFloat(t.amount) || parseFloat(t.each) * (S > f ? f - 1 : c ? c === "y" ? f / S : S : Math.max(S, f / S)) || 0) * (n === "edges" ? -1 : 1), _.b = f < 0 ? r - f : r, _.u = J(t.amount || t.each) || 0, i = i && f < 0 ? Cn(i) : i } return f = (_[d] - _.min) / _.max || 0, X(_.b + (i ? i(f) : f) * _.v) + _.u } }, pi = function (e) { var t = Math.pow(10, ((e + "").split(".")[1] || "").length); return function (i) { var n = Math.round(parseFloat(i) / e) * e * t; return (n - n % 1) / t + (we(i) ? 0 : J(i)) } }, _n = function (e, t) { var i = j(e), n, r; return !i && xe(e) && (n = i = e.radius || le, e.values ? (e = he(e.values), (r = !we(e[0])) && (n *= n)) : e = pi(e.increment)), Ce(t, i ? W(e) ? function (s) { return r = e(s), Math.abs(r - s) <= n ? r : s } : function (s) { for (var o = parseFloat(r ? s.x : s), l = parseFloat(r ? s.y : 0), c = le, u = 0, h = e.length, d, m; h--;)r ? (d = e[h].x - o, m = e[h].y - l, d = d * d + m * m) : d = Math.abs(e[h] - o), d < c && (c = d, u = h); return u = !n || c <= n ? e[u] : s, r || u === s || we(s) ? u : u + J(s) } : pi(e)) }, yn = function (e, t, i, n) { return Ce(j(e) ? !t : i === !0 ? !!(i = 0) : !n, function () { return j(e) ? e[~~(Math.random() * e.length)] : (i = i || 1e-5) && (n = i < 1 ? Math.pow(10, (i + "").length - 2) : 1) && Math.floor(Math.round((e - i / 2 + Math.random() * (t - e + i * .99)) / i) * i * n) / n }) }, Br = function () { for (var e = arguments.length, t = new Array(e), i = 0; i < e; i++)t[i] = arguments[i]; return function (n) { return t.reduce(function (r, s) { return s(r) }, n) } }, Hr = function (e, t) { return function (i) { return e(parseFloat(i)) + (t || J(i)) } }, Nr = function (e, t, i) { return bn(e, t, 0, 1, i) }, vn = function (e, t, i) { return Ce(i, function (n) { return e[~~t(n)] }) }, Fr = function a(e, t, i) { var n = t - e; return j(e) ? vn(e, a(0, e.length), t) : Ce(i, function (r) { return (n + (r - e) % n) % n + e }) }, Vr = function a(e, t, i) { var n = t - e, r = n * 2; return j(e) ? vn(e, a(0, e.length - 1), t) : Ce(i, function (s) { return s = (r + (s - e) % r) % r || 0, e + (s > n ? r - s : s) }) }, _t = function (e) { for (var t = 0, i = "", n, r, s, o; ~(n = e.indexOf("random(", t));)s = e.indexOf(")", n), o = e.charAt(n + 7) === "[", r = e.substr(n + 7, s - n - 7).match(o ? Qi : ni), i += e.substr(t, n - t) + yn(o ? r : +r[0], o ? 0 : +r[1], +r[2] || 1e-5), t = s + 1; return i + e.substr(t, e.length - t) }, bn = function (e, t, i, n, r) { var s = t - e, o = n - i; return Ce(r, function (l) { return i + ((l - e) / s * o || 0) }) }, Wr = function a(e, t, i, n) { var r = isNaN(e + t) ? 0 : function (m) { return (1 - m) * e + m * t }; if (!r) { var s = V(e), o = {}, l, c, u, h, d; if (i === !0 && (n = 1) && (i = null), s) e = { p: e }, t = { p: t }; else if (j(e) && !j(t)) { for (u = [], h = e.length, d = h - 2, c = 1; c < h; c++)u.push(a(e[c - 1], e[c])); h--, r = function (p) { p *= h; var f = Math.min(d, ~~p); return u[f](p - f) }, i = t } else n || (e = it(j(e) ? [] : {}, e)); if (!u) { for (l in t) vi.call(o, e, l, "get", t[l]); r = function (p) { return xi(p, o) || (s ? e.p : e) } } } return Ce(i, r) }, wn = function (e, t, i) { var n = e.labels, r = le, s, o, l; for (s in n) o = n[s] - t, o < 0 == !!i && o && r > (o = Math.abs(o)) && (l = s, r = o); return l }, fe = function (e, t, i) { var n = e.vars, r = n[t], s, o; if (!!r) return s = n[t + "Params"], o = n.callbackScope || e, i && Pe.length && Bt(), s ? r.apply(o, s) : r.call(o) }, yt = function (e) { return Se(e), e.scrollTrigger && e.scrollTrigger.kill(!1), e.progress() < 1 && fe(e, "onInterrupt"), e }, st, Ur = function (e) { e = !e.name && e.default || e; var t = e.name, i = W(e), n = t && !i && e.init ? function () { this._props = [] } : e, r = { init: dt, render: xi, add: vi, kill: os, modifier: ss, rawVars: 0 }, s = { targetTest: 0, get: 0, getSetter: wi, aliases: {}, register: 0 }; if (ot(), e !== n) { if (se[t]) return; ce(n, ce(Ht(e, r), s)), it(n.prototype, it(r, Ht(e, s))), se[n.prop = t] = n, e.targetTest && (It.push(n), li[t] = 1), t = (t === "css" ? "CSS" : t.charAt(0).toUpperCase() + t.substr(1)) + "Plugin" } Ji(t, n), e.register && e.register(_e, n, te) }, q = 255, vt = { aqua: [0, q, q], lime: [0, q, 0], silver: [192, 192, 192], black: [0, 0, 0], maroon: [128, 0, 0], teal: [0, 128, 128], blue: [0, 0, q], navy: [0, 0, 128], white: [q, q, q], olive: [128, 128, 0], yellow: [q, q, 0], orange: [q, 165, 0], gray: [128, 128, 128], purple: [128, 0, 128], green: [0, 128, 0], red: [q, 0, 0], pink: [q, 192, 203], cyan: [0, q, q], transparent: [q, q, q, 0] }, gi = function (e, t, i) { return e += e < 0 ? 1 : e > 1 ? -1 : 0, (e * 6 < 1 ? t + (i - t) * e * 6 : e < .5 ? i : e * 3 < 2 ? t + (i - t) * (2 / 3 - e) * 6 : t) * q + .5 | 0 }, xn = function (e, t, i) { var n = e ? we(e) ? [e >> 16, e >> 8 & q, e & q] : 0 : vt.black, r, s, o, l, c, u, h, d, m, p; if (!n) { if (e.substr(-1) === "," && (e = e.substr(0, e.length - 1)), vt[e]) n = vt[e]; else if (e.charAt(0) === "#") { if (e.length < 6 && (r = e.charAt(1), s = e.charAt(2), o = e.charAt(3), e = "#" + r + r + s + s + o + o + (e.length === 5 ? e.charAt(4) + e.charAt(4) : "")), e.length === 9) return n = parseInt(e.substr(1, 6), 16), [n >> 16, n >> 8 & q, n & q, parseInt(e.substr(7), 16) / 255]; e = parseInt(e.substr(1), 16), n = [e >> 16, e >> 8 & q, e & q] } else if (e.substr(0, 3) === "hsl") { if (n = p = e.match(ni), !t) l = +n[0] % 360 / 360, c = +n[1] / 100, u = +n[2] / 100, s = u <= .5 ? u * (c + 1) : u + c - u * c, r = u * 2 - s, n.length > 3 && (n[3] *= 1), n[0] = gi(l + 1 / 3, r, s), n[1] = gi(l, r, s), n[2] = gi(l - 1 / 3, r, s); else if (~e.indexOf("=")) return n = e.match(Xi), i && n.length < 4 && (n[3] = 1), n } else n = e.match(ni) || vt.transparent; n = n.map(Number) } return t && !p && (r = n[0] / q, s = n[1] / q, o = n[2] / q, h = Math.max(r, s, o), d = Math.min(r, s, o), u = (h + d) / 2, h === d ? l = c = 0 : (m = h - d, c = u > .5 ? m / (2 - h - d) : m / (h + d), l = h === r ? (s - o) / m + (s < o ? 6 : 0) : h === s ? (o - r) / m + 2 : (r - s) / m + 4, l *= 60), n[0] = ~~(l + .5), n[1] = ~~(c * 100 + .5), n[2] = ~~(u * 100 + .5)), i && n.length < 4 && (n[3] = 1), n }, Sn = function (e) { var t = [], i = [], n = -1; return e.split(ke).forEach(function (r) { var s = r.match(tt) || []; t.push.apply(t, s), i.push(n += s.length + 1) }), t.c = i, t }, Tn = function (e, t, i) { var n = "", r = (e + n).match(ke), s = t ? "hsla(" : "rgba(", o = 0, l, c, u, h; if (!r) return e; if (r = r.map(function (d) { return (d = xn(d, t, 1)) && s + (t ? d[0] + "," + d[1] + "%," + d[2] + "%," + d[3] : d.join(",")) + ")" }), i && (u = Sn(e), l = i.c, l.join(n) !== u.c.join(n))) for (c = e.replace(ke, "1").split(tt), h = c.length - 1; o < h; o++)n += c[o] + (~l.indexOf(o) ? r.shift() || s + "0,0,0,0)" : (u.length ? u : r.length ? r : i).shift()); if (!c) for (c = e.split(ke), h = c.length - 1; o < h; o++)n += c[o] + r[o]; return n + c[h] }, ke = function () { var a = "(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#(?:[0-9a-f]{3,4}){1,2}\\b", e; for (e in vt) a += "|" + e + "\\b"; return new RegExp(a + ")", "gi") }(), Gr = /hsl[a]?\(/, Pn = function (e) { var t = e.join(" "), i; if (ke.lastIndex = 0, ke.test(t)) return i = Gr.test(t), e[1] = Tn(e[1], i), e[0] = Tn(e[0], i, Sn(e[1])), !0 }, Wt, de = function () { var a = Date.now, e = 500, t = 33, i = a(), n = i, r = 1e3 / 240, s = r, o = [], l, c, u, h, d, m, p = function f(_) { var g = a() - n, y = _ === !0, v, x, b, w; if (g > e && (i += g - t), n += g, b = n - i, v = b - s, (v > 0 || y) && (w = ++h.frame, d = b - h.time * 1e3, h.time = b = b / 1e3, s += v + (v >= r ? 4 : r - v), x = 1), y || (l = c(f)), x) for (m = 0; m < o.length; m++)o[m](b, d, w, _) }; return h = { time: 0, frame: 0, tick: function () { p(!0) }, deltaRatio: function (_) { return d / (1e3 / (_ || 60)) }, wake: function () { Ki && (!si && $i() && (pe = si = window, oi = pe.document || {}, re.gsap = _e, (pe.gsapVersions || (pe.gsapVersions = [])).push(_e.version), Zi(zt || pe.GreenSockGlobals || !pe.gsap && pe || {}), u = pe.requestAnimationFrame), l && h.sleep(), c = u || function (_) { return setTimeout(_, s - h.time * 1e3 + 1 | 0) }, Wt = 1, p(2)) }, sleep: function () { (u ? pe.cancelAnimationFrame : clearTimeout)(l), Wt = 0, c = dt }, lagSmoothing: function (_, g) { e = _ || 1 / z, t = Math.min(g, e, 0) }, fps: function (_) { r = 1e3 / (_ || 240), s = h.time * 1e3 + r }, add: function (_) { o.indexOf(_) < 0 && o.push(_), ot() }, remove: function (_, g) { ~(g = o.indexOf(_)) && o.splice(g, 1) && m >= g && m-- }, _listeners: o }, h }(), ot = function () { return !Wt && de.wake() }, R = {}, $r = /^[\d.\-M][\d.\-,\s]/, jr = /["']/g, Xr = function (e) { for (var t = {}, i = e.substr(1, e.length - 3).split(":"), n = i[0], r = 1, s = i.length, o, l, c; r < s; r++)l = i[r], o = r !== s - 1 ? l.lastIndexOf(",") : l.length, c = l.substr(0, o), t[n] = isNaN(c) ? c.replace(jr, "").trim() : +c, n = l.substr(o + 1).trim(); return t }, Yr = function (e) { var t = e.indexOf("(") + 1, i = e.indexOf(")"), n = e.indexOf("(", t); return e.substring(t, ~n && n < i ? e.indexOf(")", i + 1) : i) }, Qr = function (e) { var t = (e + "").split("("), i = R[t[0]]; return i && t.length > 1 && i.config ? i.config.apply(null, ~e.indexOf("{") ? [Xr(t[1])] : Yr(e).split(",").map(sn)) : R._CE && $r.test(e) ? R._CE("", e) : i }, Cn = function (e) { return function (t) { return 1 - e(1 - t) } }, kn = function a(e, t) { for (var i = e._first, n; i;)i instanceof ee ? a(i, t) : i.vars.yoyoEase && (!i._yoyo || !i._repeat) && i._yoyo !== t && (i.timeline ? a(i.timeline, t) : (n = i._ease, i._ease = i._yEase, i._yEase = n, i._yoyo = t)), i = i._next }, Ve = function (e, t) { return e && (W(e) ? e : R[e] || Qr(e)) || t }, We = function (e, t, i, n) { i === void 0 && (i = function (l) { return 1 - t(1 - l) }), n === void 0 && (n = function (l) { return l < .5 ? t(l * 2) / 2 : 1 - t((1 - l) * 2) / 2 }); var r = { easeIn: t, easeOut: i, easeInOut: n }, s; return Z(e, function (o) { R[o] = re[o] = r, R[s = o.toLowerCase()] = i; for (var l in r) R[s + (l === "easeIn" ? ".in" : l === "easeOut" ? ".out" : ".inOut")] = R[o + "." + l] = r[l] }), r }, En = function (e) { return function (t) { return t < .5 ? (1 - e(1 - t * 2)) / 2 : .5 + e((t - .5) * 2) / 2 } }, _i = function a(e, t, i) { var n = t >= 1 ? t : 1, r = (i || (e ? .3 : .45)) / (t < 1 ? t : 1), s = r / ti * (Math.asin(1 / n) || 0), o = function (u) { return u === 1 ? 1 : n * Math.pow(2, -10 * u) * Sr((u - s) * r) + 1 }, l = e === "out" ? o : e === "in" ? function (c) { return 1 - o(1 - c) } : En(o); return r = ti / r, l.config = function (c, u) { return a(e, c, u) }, l }, yi = function a(e, t) { t === void 0 && (t = 1.70158); var i = function (s) { return s ? --s * s * ((t + 1) * s + t) + 1 : 0 }, n = e === "out" ? i : e === "in" ? function (r) { return 1 - i(1 - r) } : En(i); return n.config = function (r) { return a(e, r) }, n }; Z("Linear,Quad,Cubic,Quart,Quint,Strong", function (a, e) { var t = e < 5 ? e + 1 : e; We(a + ",Power" + (t - 1), e ? function (i) { return Math.pow(i, t) } : function (i) { return i }, function (i) { return 1 - Math.pow(1 - i, t) }, function (i) { return i < .5 ? Math.pow(i * 2, t) / 2 : 1 - Math.pow((1 - i) * 2, t) / 2 }) }), R.Linear.easeNone = R.none = R.Linear.easeIn, We("Elastic", _i("in"), _i("out"), _i()), function (a, e) { var t = 1 / e, i = 2 * t, n = 2.5 * t, r = function (o) { return o < t ? a * o * o : o < i ? a * Math.pow(o - 1.5 / e, 2) + .75 : o < n ? a * (o -= 2.25 / e) * o + .9375 : a * Math.pow(o - 2.625 / e, 2) + .984375 }; We("Bounce", function (s) { return 1 - r(1 - s) }, r) }(7.5625, 2.75), We("Expo", function (a) { return a ? Math.pow(2, 10 * (a - 1)) : 0 }), We("Circ", function (a) { return -(Gi(1 - a * a) - 1) }), We("Sine", function (a) { return a === 1 ? 1 : -xr(a * br) + 1 }), We("Back", yi("in"), yi("out"), yi()), R.SteppedEase = R.steps = re.SteppedEase = { config: function (e, t) { e === void 0 && (e = 1); var i = 1 / e, n = e + (t ? 0 : 1), r = t ? 1 : 0, s = 1 - z; return function (o) { return ((n * gt(0, s, o) | 0) + r) * i } } }, et.ease = R["quad.out"], Z("onComplete,onUpdate,onStart,onRepeat,onReverseComplete,onInterrupt", function (a) { return hi += a + "," + a + "Params," }); var Mn = function (e, t) { this.id = wr++, e._gsap = this, this.target = e, this.harness = t, this.get = t ? t.get : nn, this.set = t ? t.getSetter : wi }, bt = function () { function a(t) { this.vars = t, this._delay = +t.delay || 0, (this._repeat = t.repeat === 1 / 0 ? -2 : t.repeat || 0) && (this._rDelay = t.repeatDelay || 0, this._yoyo = !!t.yoyo || !!t.yoyoEase), this._ts = 1, rt(this, +t.duration, 1, 1), this.data = t.data, Wt || de.wake() } var e = a.prototype; return e.delay = function (i) { return i || i === 0 ? (this.parent && this.parent.smoothChildTiming && this.startTime(this._start + i - this._delay), this._delay = i, this) : this._delay }, e.duration = function (i) { return arguments.length ? this.totalDuration(this._repeat > 0 ? i + (i + this._rDelay) * this._repeat : i) : this.totalDuration() && this._dur }, e.totalDuration = function (i) { return arguments.length ? (this._dirty = 0, rt(this, this._repeat < 0 ? i : (i - this._repeat * this._rDelay) / (this._repeat + 1))) : this._tDur }, e.totalTime = function (i, n) { if (ot(), !arguments.length) return this._tTime; var r = this._dp; if (r && r.smoothChildTiming && this._ts) { for (cn(this, i), !r._dp || r.parent || un(r, this); r && r.parent;)r.parent._time !== r._start + (r._ts >= 0 ? r._tTime / r._ts : (r.totalDuration() - r._tTime) / -r._ts) && r.totalTime(r._tTime, !0), r = r.parent; !this.parent && this._dp.autoRemoveChildren && (this._ts > 0 && i < this._tDur || this._ts < 0 && i > 0 || !this._tDur && !i) && ge(this._dp, this, this._start - this._delay) } return (this._tTime !== i || !this._dur && !n || this._initted && Math.abs(this._zTime) === z || !i && !this._initted && (this.add || this._ptLookup)) && (this._ts || (this._pTime = i), rn(this, i, n)), this }, e.time = function (i, n) { return arguments.length ? this.totalTime(Math.min(this.totalDuration(), i + ln(this)) % (this._dur + this._rDelay) || (i ? this._dur : 0), n) : this._time }, e.totalProgress = function (i, n) { return arguments.length ? this.totalTime(this.totalDuration() * i, n) : this.totalDuration() ? Math.min(1, this._tTime / this._tDur) : this.ratio }, e.progress = function (i, n) { return arguments.length ? this.totalTime(this.duration() * (this._yoyo && !(this.iteration() & 1) ? 1 - i : i) + ln(this), n) : this.duration() ? Math.min(1, this._time / this._dur) : this.ratio }, e.iteration = function (i, n) { var r = this.duration() + this._rDelay; return arguments.length ? this.totalTime(this._time + (i - 1) * r, n) : this._repeat ? nt(this._tTime, r) + 1 : 1 }, e.timeScale = function (i) { if (!arguments.length) return this._rts === -z ? 0 : this._rts; if (this._rts === i) return this; var n = this.parent && this._ts ? Ft(this.parent._time, this) : this._tTime; return this._rts = +i || 0, this._ts = this._ps || i === -z ? 0 : this._rts, Mr(this.totalTime(gt(-this._delay, this._tDur, n), !0)), Vt(this), this }, e.paused = function (i) { return arguments.length ? (this._ps !== i && (this._ps = i, i ? (this._pTime = this._tTime || Math.max(-this._delay, this.rawTime()), this._ts = this._act = 0) : (ot(), this._ts = this._rts, this.totalTime(this.parent && !this.parent.smoothChildTiming ? this.rawTime() : this._tTime || this._pTime, this.progress() === 1 && Math.abs(this._zTime) !== z && (this._tTime -= z)))), this) : this._ps }, e.startTime = function (i) { if (arguments.length) { this._start = i; var n = this.parent || this._dp; return n && (n._sort || !this.parent) && ge(n, this, i - this._delay), this } return this._start }, e.endTime = function (i) { return this._start + (K(i) ? this.totalDuration() : this.duration()) / Math.abs(this._ts || 1) }, e.rawTime = function (i) { var n = this.parent || this._dp; return n ? i && (!this._ts || this._repeat && this._time && this.totalProgress() < 1) ? this._tTime % (this._dur + this._rDelay) : this._ts ? Ft(n.rawTime(i), this) : this._tTime : this._tTime }, e.globalTime = function (i) { for (var n = this, r = arguments.length ? i : n.rawTime(); n;)r = n._start + r / (n._ts || 1), n = n._dp; return r }, e.repeat = function (i) { return arguments.length ? (this._repeat = i === 1 / 0 ? -2 : i, dn(this)) : this._repeat === -2 ? 1 / 0 : this._repeat }, e.repeatDelay = function (i) { if (arguments.length) { var n = this._time; return this._rDelay = i, dn(this), n ? this.time(n) : this } return this._rDelay }, e.yoyo = function (i) { return arguments.length ? (this._yoyo = i, this) : this._yoyo }, e.seek = function (i, n) { return this.totalTime(ue(this, i), K(n)) }, e.restart = function (i, n) { return this.play().totalTime(i ? -this._delay : 0, K(n)) }, e.play = function (i, n) { return i != null && this.seek(i, n), this.reversed(!1).paused(!1) }, e.reverse = function (i, n) { return i != null && this.seek(i || this.totalDuration(), n), this.reversed(!0).paused(!1) }, e.pause = function (i, n) { return i != null && this.seek(i, n), this.paused(!0) }, e.resume = function () { return this.paused(!1) }, e.reversed = function (i) { return arguments.length ? (!!i !== this.reversed() && this.timeScale(-this._rts || (i ? -z : 0)), this) : this._rts < 0 }, e.invalidate = function () { return this._initted = this._act = 0, this._zTime = -z, this }, e.isActive = function () { var i = this.parent || this._dp, n = this._start, r; return !!(!i || this._ts && this._initted && i.isActive() && (r = i.rawTime(!0)) >= n && r < this.endTime(!0) - z) }, e.eventCallback = function (i, n, r) { var s = this.vars; return arguments.length > 1 ? (n ? (s[i] = n, r && (s[i + "Params"] = r), i === "onUpdate" && (this._onUpdate = n)) : delete s[i], this) : s[i] }, e.then = function (i) { var n = this; return new Promise(function (r) { var s = W(i) ? i : on, o = function () { var c = n.then; n.then = null, W(s) && (s = s(n)) && (s.then || s === n) && (n.then = c), r(s), n.then = c }; n._initted && n.totalProgress() === 1 && n._ts >= 0 || !n._tTime && n._ts < 0 ? o() : n._prom = o }) }, e.kill = function () { yt(this) }, a }(); ce(bt.prototype, { _time: 0, _start: 0, _end: 0, _tTime: 0, _tDur: 0, _dirty: 0, _repeat: 0, _yoyo: !1, parent: null, _initted: !1, _rDelay: 0, _ts: 1, _dp: 0, ratio: 0, _zTime: -z, _prom: 0, _ps: !1, _rts: 1 }); var ee = function (a) { Ui(e, a); function e(i, n) { var r; return i === void 0 && (i = {}), r = a.call(this, i) || this, r.labels = {}, r.smoothChildTiming = !!i.smoothChildTiming, r.autoRemoveChildren = !!i.autoRemoveChildren, r._sort = K(i.sortChildren), H && ge(i.parent || H, ae(r), n), i.reversed && r.reverse(), i.paused && r.paused(!0), i.scrollTrigger && hn(ae(r), i.scrollTrigger), r } var t = e.prototype; return t.to = function (n, r, s) { return pt(0, arguments, this), this }, t.from = function (n, r, s) { return pt(1, arguments, this), this }, t.fromTo = function (n, r, s, o) { return pt(2, arguments, this), this }, t.set = function (n, r, s) { return r.duration = 0, r.parent = this, mt(r).repeatDelay || (r.repeat = 0), r.immediateRender = !!r.immediateRender, new U(n, r, ue(this, s), 1), this }, t.call = function (n, r, s) { return ge(this, U.delayedCall(0, n, r), s) }, t.staggerTo = function (n, r, s, o, l, c, u) { return s.duration = r, s.stagger = s.stagger || o, s.onComplete = c, s.onCompleteParams = u, s.parent = this, new U(n, s, ue(this, l)), this }, t.staggerFrom = function (n, r, s, o, l, c, u) { return s.runBackwards = 1, mt(s).immediateRender = K(s.immediateRender), this.staggerTo(n, r, s, o, l, c, u) }, t.staggerFromTo = function (n, r, s, o, l, c, u, h) { return o.startAt = s, mt(o).immediateRender = K(o.immediateRender), this.staggerTo(n, r, o, l, c, u, h) }, t.render = function (n, r, s) { var o = this._time, l = this._dirty ? this.totalDuration() : this._tDur, c = this._dur, u = n <= 0 ? 0 : X(n), h = this._zTime < 0 != n < 0 && (this._initted || !c), d, m, p, f, _, g, y, v, x, b, w, T; if (this !== H && u > l && n >= 0 && (u = l), u !== this._tTime || s || h) { if (o !== this._time && c && (u += this._time - o, n += this._time - o), d = u, x = this._start, v = this._ts, g = !v, h && (c || (o = this._zTime), (n || !r) && (this._zTime = n)), this._repeat) { if (w = this._yoyo, _ = c + this._rDelay, this._repeat < -1 && n < 0) return this.totalTime(_ * 100 + n, r, s); if (d = X(u % _), u === l ? (f = this._repeat, d = c) : (f = ~~(u / _), f && f === u / _ && (d = c, f--), d > c && (d = c)), b = nt(this._tTime, _), !o && this._tTime && b !== f && (b = f), w && f & 1 && (d = c - d, T = 1), f !== b && !this._lock) { var P = w && b & 1, S = P === (w && f & 1); if (f < b && (P = !P), o = P ? 0 : c, this._lock = 1, this.render(o || (T ? 0 : X(f * _)), r, !c)._lock = 0, this._tTime = u, !r && this.parent && fe(this, "onRepeat"), this.vars.repeatRefresh && !T && (this.invalidate()._lock = 1), o && o !== this._time || g !== !this._ts || this.vars.onRepeat && !this.parent && !this._act) return this; if (c = this._dur, l = this._tDur, S && (this._lock = 2, o = P ? c : -1e-4, this.render(o, !0), this.vars.repeatRefresh && !T && this.invalidate()), this._lock = 0, !this._ts && !g) return this; kn(this, T) } } if (this._hasPause && !this._forcing && this._lock < 2 && (y = Rr(this, X(o), X(d)), y && (u -= d - (d = y._start))), this._tTime = u, this._time = d, this._act = !v, this._initted || (this._onUpdate = this.vars.onUpdate, this._initted = 1, this._zTime = n, o = 0), !o && d && !r && (fe(this, "onStart"), this._tTime !== u)) return this; if (d >= o && n >= 0) for (m = this._first; m;) { if (p = m._next, (m._act || d >= m._start) && m._ts && y !== m) { if (m.parent !== this) return this.render(n, r, s); if (m.render(m._ts > 0 ? (d - m._start) * m._ts : (m._dirty ? m.totalDuration() : m._tDur) + (d - m._start) * m._ts, r, s), d !== this._time || !this._ts && !g) { y = 0, p && (u += this._zTime = -z); break } } m = p } else { m = this._last; for (var C = n < 0 ? n : d; m;) { if (p = m._prev, (m._act || C <= m._end) && m._ts && y !== m) { if (m.parent !== this) return this.render(n, r, s); if (m.render(m._ts > 0 ? (C - m._start) * m._ts : (m._dirty ? m.totalDuration() : m._tDur) + (C - m._start) * m._ts, r, s), d !== this._time || !this._ts && !g) { y = 0, p && (u += this._zTime = C ? -z : z); break } } m = p } } if (y && !r && (this.pause(), y.render(d >= o ? 0 : -z)._zTime = d >= o ? 1 : -1, this._ts)) return this._start = x, Vt(this), this.render(n, r, s); this._onUpdate && !r && fe(this, "onUpdate", !0), (u === l && l >= this.totalDuration() || !u && o) && (x === this._start || Math.abs(v) !== Math.abs(this._ts)) && (this._lock || ((n || !c) && (u === l && this._ts > 0 || !u && this._ts < 0) && Se(this, 1), !r && !(n < 0 && !o) && (u || o || !l) && (fe(this, u === l && n >= 0 ? "onComplete" : "onReverseComplete", !0), this._prom && !(u < l && this.timeScale() > 0) && this._prom()))) } return this }, t.add = function (n, r) { var s = this; if (we(r) || (r = ue(this, r, n)), !(n instanceof bt)) { if (j(n)) return n.forEach(function (o) { return s.add(o, r) }), this; if (V(n)) return this.addLabel(n, r); if (W(n)) n = U.delayedCall(0, n); else return this } return this !== n ? ge(this, n, r) : this }, t.getChildren = function (n, r, s, o) { n === void 0 && (n = !0), r === void 0 && (r = !0), s === void 0 && (s = !0), o === void 0 && (o = -le); for (var l = [], c = this._first; c;)c._start >= o && (c instanceof U ? r && l.push(c) : (s && l.push(c), n && l.push.apply(l, c.getChildren(!0, r, s)))), c = c._next; return l }, t.getById = function (n) { for (var r = this.getChildren(1, 1, 1), s = r.length; s--;)if (r[s].vars.id === n) return r[s] }, t.remove = function (n) { return V(n) ? this.removeLabel(n) : W(n) ? this.killTweensOf(n) : (Nt(this, n), n === this._recent && (this._recent = this._last), Fe(this)) }, t.totalTime = function (n, r) { return arguments.length ? (this._forcing = 1, !this._dp && this._ts && (this._start = X(de.time - (this._ts > 0 ? n / this._ts : (this.totalDuration() - n) / -this._ts))), a.prototype.totalTime.call(this, n, r), this._forcing = 0, this) : this._tTime }, t.addLabel = function (n, r) { return this.labels[n] = ue(this, r), this }, t.removeLabel = function (n) { return delete this.labels[n], this }, t.addPause = function (n, r, s) { var o = U.delayedCall(0, r || dt, s); return o.data = "isPause", this._hasPause = 1, ge(this, o, ue(this, n)) }, t.removePause = function (n) { var r = this._first; for (n = ue(this, n); r;)r._start === n && r.data === "isPause" && Se(r), r = r._next }, t.killTweensOf = function (n, r, s) { for (var o = this.getTweensOf(n, s), l = o.length; l--;)Ee !== o[l] && o[l].kill(n, r); return this }, t.getTweensOf = function (n, r) { for (var s = [], o = he(n), l = this._first, c = we(r), u; l;)l instanceof U ? Pr(l._targets, o) && (c ? (!Ee || l._initted && l._ts) && l.globalTime(0) <= r && l.globalTime(l.totalDuration()) > r : !r || l.isActive()) && s.push(l) : (u = l.getTweensOf(o, r)).length && s.push.apply(s, u), l = l._next; return s }, t.tweenTo = function (n, r) { r = r || {}; var s = this, o = ue(s, n), l = r, c = l.startAt, u = l.onStart, h = l.onStartParams, d = l.immediateRender, m, p = U.to(s, ce({ ease: r.ease || "none", lazy: !1, immediateRender: !1, time: o, overwrite: "auto", duration: r.duration || Math.abs((o - (c && "time" in c ? c.time : s._time)) / s.timeScale()) || z, onStart: function () { if (s.pause(), !m) { var _ = r.duration || Math.abs((o - (c && "time" in c ? c.time : s._time)) / s.timeScale()); p._dur !== _ && rt(p, _, 0, 1).render(p._time, !0, !0), m = 1 } u && u.apply(p, h || []) } }, r)); return d ? p.render(0) : p }, t.tweenFromTo = function (n, r, s) { return this.tweenTo(r, ce({ startAt: { time: ue(this, n) } }, s)) }, t.recent = function () { return this._recent }, t.nextLabel = function (n) { return n === void 0 && (n = this._time), wn(this, ue(this, n)) }, t.previousLabel = function (n) { return n === void 0 && (n = this._time), wn(this, ue(this, n), 1) }, t.currentLabel = function (n) { return arguments.length ? this.seek(n, !0) : this.previousLabel(this._time + z) }, t.shiftChildren = function (n, r, s) { s === void 0 && (s = 0); for (var o = this._first, l = this.labels, c; o;)o._start >= s && (o._start += n, o._end += n), o = o._next; if (r) for (c in l) l[c] >= s && (l[c] += n); return Fe(this) }, t.invalidate = function () { var n = this._first; for (this._lock = 0; n;)n.invalidate(), n = n._next; return a.prototype.invalidate.call(this) }, t.clear = function (n) { n === void 0 && (n = !0); for (var r = this._first, s; r;)s = r._next, this.remove(r), r = s; return this._dp && (this._time = this._tTime = this._pTime = 0), n && (this.labels = {}), Fe(this) }, t.totalDuration = function (n) { var r = 0, s = this, o = s._last, l = le, c, u, h; if (arguments.length) return s.timeScale((s._repeat < 0 ? s.duration() : s.totalDuration()) / (s.reversed() ? -n : n)); if (s._dirty) { for (h = s.parent; o;)c = o._prev, o._dirty && o.totalDuration(), u = o._start, u > l && s._sort && o._ts && !s._lock ? (s._lock = 1, ge(s, o, u - o._delay, 1)._lock = 0) : l = u, u < 0 && o._ts && (r -= u, (!h && !s._dp || h && h.smoothChildTiming) && (s._start += u / s._ts, s._time -= u, s._tTime -= u), s.shiftChildren(-u, !1, -1 / 0), l = 0), o._end > r && o._ts && (r = o._end), o = c; rt(s, s === H && s._time > r ? s._time : r, 1, 1), s._dirty = 0 } return s._tDur }, e.updateRoot = function (n) { if (H._ts && (rn(H, Ft(n, H)), en = de.frame), de.frame >= tn) { tn += ne.autoSleep || 120; var r = H._first; if ((!r || !r._ts) && ne.autoSleep && de._listeners.length < 2) { for (; r && !r._ts;)r = r._next; r || de.sleep() } } }, e }(bt); ce(ee.prototype, { _lock: 0, _hasPause: 0, _forcing: 0 }); var Kr = function (e, t, i, n, r, s, o) { var l = new te(this._pt, e, t, 0, 1, zn, null, r), c = 0, u = 0, h, d, m, p, f, _, g, y; for (l.b = i, l.e = n, i += "", n += "", (g = ~n.indexOf("random(")) && (n = _t(n)), s && (y = [i, n], s(y, e, t), i = y[0], n = y[1]), d = i.match(ri) || []; h = ri.exec(n);)p = h[0], f = n.substring(c, h.index), m ? m = (m + 1) % 5 : f.substr(-5) === "rgba(" && (m = 1), p !== d[u++] && (_ = parseFloat(d[u - 1]) || 0, l._pt = { _next: l._pt, p: f || u === 1 ? f : ",", s: _, c: p.charAt(1) === "=" ? parseFloat(p.substr(2)) * (p.charAt(0) === "-" ? -1 : 1) : parseFloat(p) - _, m: m && m < 4 ? Math.round : 0 }, c = ri.lastIndex); return l.c = c < n.length ? n.substring(c, n.length) : "", l.fp = o, (Yi.test(n) || g) && (l.e = 0), this._pt = l, l }, vi = function (e, t, i, n, r, s, o, l, c) { W(n) && (n = n(r || 0, e, s)); var u = e[t], h = i !== "get" ? i : W(u) ? c ? e[t.indexOf("set") || !W(e["get" + t.substr(3)]) ? t : "get" + t.substr(3)](c) : e[t]() : u, d = W(u) ? c ? is : Rn : bi, m; if (V(n) && (~n.indexOf("random(") && (n = _t(n)), n.charAt(1) === "=" && (m = parseFloat(h) + parseFloat(n.substr(2)) * (n.charAt(0) === "-" ? -1 : 1) + (J(h) || 0), (m || m === 0) && (n = m))), h !== n) return !isNaN(h * n) && n !== "" ? (m = new te(this._pt, e, t, +h || 0, n - (h || 0), typeof u == "boolean" ? rs : Dn, 0, d), c && (m.fp = c), o && m.modifier(o, this, e), this._pt = m) : (!u && !(t in e) && ai(t, n), Kr.call(this, e, t, h, n, d, l || ne.stringFilter, c)) }, Zr = function (e, t, i, n, r) { if (W(e) && (e = wt(e, r, t, i, n)), !xe(e) || e.style && e.nodeType || j(e) || ji(e)) return V(e) ? wt(e, r, t, i, n) : e; var s = {}, o; for (o in e) s[o] = wt(e[o], r, t, i, n); return s }, On = function (e, t, i, n, r, s) { var o, l, c, u; if (se[e] && (o = new se[e]).init(r, o.rawVars ? t[e] : Zr(t[e], n, r, s, i), i, n, s) !== !1 && (i._pt = l = new te(i._pt, r, e, 0, 1, o.render, o, 0, o.priority), i !== st)) for (c = i._ptLookup[i._targets.indexOf(r)], u = o._props.length; u--;)c[o._props[u]] = l; return o }, Ee, Jr = function a(e, t) { var i = e.vars, n = i.ease, r = i.startAt, s = i.immediateRender, o = i.lazy, l = i.onUpdate, c = i.onUpdateParams, u = i.callbackScope, h = i.runBackwards, d = i.yoyoEase, m = i.keyframes, p = i.autoRevert, f = e._dur, _ = e._startAt, g = e._targets, y = e.parent, v = y && y.data === "nested" ? y.parent._targets : g, x = e._overwrite === "auto" && !ei, b = e.timeline, w, T, P, S, C, M, k, O, E, L, A, B, Y; if (b && (!m || !n) && (n = "none"), e._ease = Ve(n, et.ease), e._yEase = d ? Cn(Ve(d === !0 ? n : d, et.ease)) : 0, d && e._yoyo && !e._repeat && (d = e._yEase, e._yEase = e._ease, e._ease = d), e._from = !b && !!i.runBackwards, !b || m && !i.stagger) { if (O = g[0] ? Ne(g[0]).harness : 0, B = O && i[O.prop], w = Ht(i, li), _ && Se(_.render(-1, !0)), r) if (Se(e._startAt = U.set(g, ce({ data: "isStart", overwrite: !1, parent: y, immediateRender: !0, lazy: K(o), startAt: null, delay: 0, onUpdate: l, onUpdateParams: c, callbackScope: u, stagger: 0 }, r))), t < 0 && !s && !p && e._startAt.render(-1, !0), s) { if (t > 0 && !p && (e._startAt = 0), f && t <= 0) { t && (e._zTime = t); return } } else p === !1 && (e._startAt = 0); else if (h && f) { if (_) !p && (e._startAt = 0); else if (t && (s = !1), P = ce({ overwrite: !1, data: "isFromStart", lazy: s && K(o), immediateRender: s, stagger: 0, parent: y }, w), B && (P[O.prop] = B), Se(e._startAt = U.set(g, P)), t < 0 && e._startAt.render(-1, !0), e._zTime = t, !s) a(e._startAt, z); else if (!t) return } for (e._pt = 0, o = f && K(o) || o && !f, T = 0; T < g.length; T++) { if (C = g[T], k = C._gsap || fi(g)[T]._gsap, e._ptLookup[T] = L = {}, ci[k.id] && Pe.length && Bt(), A = v === g ? T : v.indexOf(C), O && (E = new O).init(C, B || w, e, A, v) !== !1 && (e._pt = S = new te(e._pt, C, E.name, 0, 1, E.render, E, 0, E.priority), E._props.forEach(function (D) { L[D] = S }), E.priority && (M = 1)), !O || B) for (P in w) se[P] && (E = On(P, w, e, A, C, v)) ? E.priority && (M = 1) : L[P] = S = vi.call(e, C, P, "get", w[P], A, v, 0, i.stringFilter); e._op && e._op[T] && e.kill(C, e._op[T]), x && e._pt && (Ee = e, H.killTweensOf(C, L, e.globalTime(t)), Y = !e.parent, Ee = 0), e._pt && o && (ci[k.id] = 1) } M && qn(e), e._onInit && e._onInit(e) } e._onUpdate = l, e._initted = (!e._op || e._pt) && !Y, m && t <= 0 && b.render(le, !0, !0) }, es = function (e, t) { var i = e[0] ? Ne(e[0]).harness : 0, n = i && i.aliases, r, s, o, l; if (!n) return t; r = it({}, t); for (s in n) if (s in r) for (l = n[s].split(","), o = l.length; o--;)r[l[o]] = r[s]; return r }, ts = function (e, t, i, n) { var r = t.ease || n || "power1.inOut", s, o; if (j(t)) o = i[e] || (i[e] = []), t.forEach(function (l, c) { return o.push({ t: c / (t.length - 1) * 100, v: l, e: r }) }); else for (s in t) o = i[s] || (i[s] = []), s === "ease" || o.push({ t: parseFloat(e), v: t[s], e: r }) }, wt = function (e, t, i, n, r) { return W(e) ? e.call(t, i, n, r) : V(e) && ~e.indexOf("random(") ? _t(e) : e }, Ln = hi + "repeat,repeatDelay,yoyo,repeatRefresh,yoyoEase", An = {}; Z(Ln + ",id,stagger,delay,duration,paused,scrollTrigger", function (a) { return An[a] = 1 }); var U = function (a) { Ui(e, a); function e(i, n, r, s) { var o; typeof n == "number" && (r.duration = n, n = r, r = null), o = a.call(this, s ? n : mt(n)) || this; var l = o.vars, c = l.duration, u = l.delay, h = l.immediateRender, d = l.stagger, m = l.overwrite, p = l.keyframes, f = l.defaults, _ = l.scrollTrigger, g = l.yoyoEase, y = n.parent || H, v = (j(i) || ji(i) ? we(i[0]) : "length" in n) ? [i] : he(i), x, b, w, T, P, S, C, M; if (o._targets = v.length ? fi(v) : qt("GSAP target " + i + " not found. https://greensock.com", !ne.nullTargetWarn) || [], o._ptLookup = [], o._overwrite = m, p || d || Dt(c) || Dt(u)) { if (n = o.vars, x = o.timeline = new ee({ data: "nested", defaults: f || {} }), x.kill(), x.parent = x._dp = ae(o), x._start = 0, d || Dt(c) || Dt(u)) { if (T = v.length, C = d && gn(d), xe(d)) for (P in d) ~Ln.indexOf(P) && (M || (M = {}), M[P] = d[P]); for (b = 0; b < T; b++)w = Ht(n, An), w.stagger = 0, g && (w.yoyoEase = g), M && it(w, M), S = v[b], w.duration = +wt(c, ae(o), b, S, v), w.delay = (+wt(u, ae(o), b, S, v) || 0) - o._delay, !d && T === 1 && w.delay && (o._delay = u = w.delay, o._start += u, w.delay = 0), x.to(S, w, C ? C(b, S, v) : 0), x._ease = R.none; x.duration() ? c = u = 0 : o.timeline = 0 } else if (p) { mt(ce(x.vars.defaults, { ease: "none" })), x._ease = Ve(p.ease || n.ease || "none"); var k = 0, O, E, L; if (j(p)) p.forEach(function (A) { return x.to(v, A, ">") }); else { w = {}; for (P in p) P === "ease" || P === "easeEach" || ts(P, p[P], w, p.easeEach); for (P in w) for (O = w[P].sort(function (A, B) { return A.t - B.t }), k = 0, b = 0; b < O.length; b++)E = O[b], L = { ease: E.e, duration: (E.t - (b ? O[b - 1].t : 0)) / 100 * c }, L[P] = E.v, x.to(v, L, k), k += L.duration; x.duration() < c && x.to({}, { duration: c - x.duration() }) } } c || o.duration(c = x.duration()) } else o.timeline = 0; return m === !0 && !ei && (Ee = ae(o), H.killTweensOf(v), Ee = 0), ge(y, ae(o), r), n.reversed && o.reverse(), n.paused && o.paused(!0), (h || !c && !p && o._start === X(y._time) && K(h) && Or(ae(o)) && y.data !== "nested") && (o._tTime = -z, o.render(Math.max(0, -u))), _ && hn(ae(o), _), o } var t = e.prototype; return t.render = function (n, r, s) { var o = this._time, l = this._tDur, c = this._dur, u = n > l - z && n >= 0 ? l : n < z ? 0 : n, h, d, m, p, f, _, g, y, v; if (!c) Ar(this, n, r, s); else if (u !== this._tTime || !n || s || !this._initted && this._tTime || this._startAt && this._zTime < 0 != n < 0) { if (h = u, y = this.timeline, this._repeat) { if (p = c + this._rDelay, this._repeat < -1 && n < 0) return this.totalTime(p * 100 + n, r, s); if (h = X(u % p), u === l ? (m = this._repeat, h = c) : (m = ~~(u / p), m && m === u / p && (h = c, m--), h > c && (h = c)), _ = this._yoyo && m & 1, _ && (v = this._yEase, h = c - h), f = nt(this._tTime, p), h === o && !s && this._initted) return this; m !== f && (y && this._yEase && kn(y, _), this.vars.repeatRefresh && !_ && !this._lock && (this._lock = s = 1, this.render(X(p * m), !0).invalidate()._lock = 0)) } if (!this._initted) { if (fn(this, n < 0 ? n : h, s, r)) return this._tTime = 0, this; if (c !== this._dur) return this.render(n, r, s) } if (this._tTime = u, this._time = h, !this._act && this._ts && (this._act = 1, this._lazy = 0), this.ratio = g = (v || this._ease)(h / c), this._from && (this.ratio = g = 1 - g), h && !o && !r && (fe(this, "onStart"), this._tTime !== u)) return this; for (d = this._pt; d;)d.r(g, d.d), d = d._next; y && y.render(n < 0 ? n : !h && _ ? -z : y._dur * y._ease(h / this._dur), r, s) || this._startAt && (this._zTime = n), this._onUpdate && !r && (n < 0 && this._startAt && this._startAt.render(n, !0, s), fe(this, "onUpdate")), this._repeat && m !== f && this.vars.onRepeat && !r && this.parent && fe(this, "onRepeat"), (u === this._tDur || !u) && this._tTime === u && (n < 0 && this._startAt && !this._onUpdate && this._startAt.render(n, !0, !0), (n || !c) && (u === this._tDur && this._ts > 0 || !u && this._ts < 0) && Se(this, 1), !r && !(n < 0 && !o) && (u || o) && (fe(this, u === l ? "onComplete" : "onReverseComplete", !0), this._prom && !(u < l && this.timeScale() > 0) && this._prom())) } return this }, t.targets = function () { return this._targets }, t.invalidate = function () { return this._pt = this._op = this._startAt = this._onUpdate = this._lazy = this.ratio = 0, this._ptLookup = [], this.timeline && this.timeline.invalidate(), a.prototype.invalidate.call(this) }, t.kill = function (n, r) { if (r === void 0 && (r = "all"), !n && (!r || r === "all")) return this._lazy = this._pt = 0, this.parent ? yt(this) : this; if (this.timeline) { var s = this.timeline.totalDuration(); return this.timeline.killTweensOf(n, r, Ee && Ee.vars.overwrite !== !0)._first || yt(this), this.parent && s !== this.timeline.totalDuration() && rt(this, this._dur * this.timeline._tDur / s, 0, 1), this } var o = this._targets, l = n ? he(n) : o, c = this._ptLookup, u = this._pt, h, d, m, p, f, _, g; if ((!r || r === "all") && kr(o, l)) return r === "all" && (this._pt = 0), yt(this); for (h = this._op = this._op || [], r !== "all" && (V(r) && (f = {}, Z(r, function (y) { return f[y] = 1 }), r = f), r = es(o, r)), g = o.length; g--;)if (~l.indexOf(o[g])) { d = c[g], r === "all" ? (h[g] = r, p = d, m = {}) : (m = h[g] = h[g] || {}, p = r); for (f in p) _ = d && d[f], _ && ((!("kill" in _.d) || _.d.kill(f) === !0) && Nt(this, _, "_pt"), delete d[f]), m !== "all" && (m[f] = 1) } return this._initted && !this._pt && u && yt(this), this }, e.to = function (n, r) { return new e(n, r, arguments[2]) }, e.from = function (n, r) { return pt(1, arguments) }, e.delayedCall = function (n, r, s, o) { return new e(r, 0, { immediateRender: !1, lazy: !1, overwrite: !1, delay: n, onComplete: r, onReverseComplete: r, onCompleteParams: s, onReverseCompleteParams: s, callbackScope: o }) }, e.fromTo = function (n, r, s) { return pt(2, arguments) }, e.set = function (n, r) { return r.duration = 0, r.repeatDelay || (r.repeat = 0), new e(n, r) }, e.killTweensOf = function (n, r, s) { return H.killTweensOf(n, r, s) }, e }(bt); ce(U.prototype, { _targets: [], _lazy: 0, _startAt: 0, _op: 0, _onInit: 0 }), Z("staggerTo,staggerFrom,staggerFromTo", function (a) { U[a] = function () { var e = new ee, t = mi.call(arguments, 0); return t.splice(a === "staggerFromTo" ? 5 : 4, 0, 0), e[a].apply(e, t) } }); var bi = function (e, t, i) { return e[t] = i }, Rn = function (e, t, i) { return e[t](i) }, is = function (e, t, i, n) { return e[t](n.fp, i) }, ns = function (e, t, i) { return e.setAttribute(t, i) }, wi = function (e, t) { return W(e[t]) ? Rn : ii(e[t]) && e.setAttribute ? ns : bi }, Dn = function (e, t) { return t.set(t.t, t.p, Math.round((t.s + t.c * e) * 1e6) / 1e6, t) }, rs = function (e, t) { return t.set(t.t, t.p, !!(t.s + t.c * e), t) }, zn = function (e, t) { var i = t._pt, n = ""; if (!e && t.b) n = t.b; else if (e === 1 && t.e) n = t.e; else { for (; i;)n = i.p + (i.m ? i.m(i.s + i.c * e) : Math.round((i.s + i.c * e) * 1e4) / 1e4) + n, i = i._next; n += t.c } t.set(t.t, t.p, n, t) }, xi = function (e, t) { for (var i = t._pt; i;)i.r(e, i.d), i = i._next }, ss = function (e, t, i, n) { for (var r = this._pt, s; r;)s = r._next, r.p === n && r.modifier(e, t, i), r = s }, os = function (e) { for (var t = this._pt, i, n; t;)n = t._next, t.p === e && !t.op || t.op === e ? Nt(this, t, "_pt") : t.dep || (i = 1), t = n; return !i }, as = function (e, t, i, n) { n.mSet(e, t, n.m.call(n.tween, i, n.mt), n) }, qn = function (e) { for (var t = e._pt, i, n, r, s; t;) { for (i = t._next, n = r; n && n.pr > t.pr;)n = n._next; (t._prev = n ? n._prev : s) ? t._prev._next = t : r = t, (t._next = n) ? n._prev = t : s = t, t = i } e._pt = r }, te = function () { function a(t, i, n, r, s, o, l, c, u) { this.t = i, this.s = r, this.c = s, this.p = n, this.r = o || Dn, this.d = l || this, this.set = c || bi, this.pr = u || 0, this._next = t, t && (t._prev = this) } var e = a.prototype; return e.modifier = function (i, n, r) { this.mSet = this.mSet || this.set, this.set = as, this.m = i, this.mt = r, this.tween = n }, a }(); Z(hi + "parent,duration,ease,delay,overwrite,runBackwards,startAt,yoyo,immediateRender,repeat,repeatDelay,data,paused,reversed,lazy,callbackScope,stringFilter,id,yoyoEase,stagger,inherit,repeatRefresh,keyframes,autoRevert,scrollTrigger", function (a) { return li[a] = 1 }), re.TweenMax = re.TweenLite = U, re.TimelineLite = re.TimelineMax = ee, H = new ee({ sortChildren: !1, defaults: et, autoRemoveChildren: !0, id: "root", smoothChildTiming: !0 }), ne.stringFilter = Pn; var Ut = { registerPlugin: function () { for (var e = arguments.length, t = new Array(e), i = 0; i < e; i++)t[i] = arguments[i]; t.forEach(function (n) { return Ur(n) }) }, timeline: function (e) { return new ee(e) }, getTweensOf: function (e, t) { return H.getTweensOf(e, t) }, getProperty: function (e, t, i, n) { V(e) && (e = he(e)[0]); var r = Ne(e || {}).get, s = i ? on : sn; return i === "native" && (i = ""), e && (t ? s((se[t] && se[t].get || r)(e, t, i, n)) : function (o, l, c) { return s((se[o] && se[o].get || r)(e, o, l, c)) }) }, quickSetter: function (e, t, i) { if (e = he(e), e.length > 1) { var n = e.map(function (u) { return _e.quickSetter(u, t, i) }), r = n.length; return function (u) { for (var h = r; h--;)n[h](u) } } e = e[0] || {}; var s = se[t], o = Ne(e), l = o.harness && (o.harness.aliases || {})[t] || t, c = s ? function (u) { var h = new s; st._pt = 0, h.init(e, i ? u + i : u, st, 0, [e]), h.render(1, h), st._pt && xi(1, st) } : o.set(e, l); return s ? c : function (u) { return c(e, l, i ? u + i : u, o, 1) } }, isTweening: function (e) { return H.getTweensOf(e, !0).length > 0 }, defaults: function (e) { return e && e.ease && (e.ease = Ve(e.ease, et.ease)), an(et, e || {}) }, config: function (e) { return an(ne, e || {}) }, registerEffect: function (e) { var t = e.name, i = e.effect, n = e.plugins, r = e.defaults, s = e.extendTimeline; (n || "").split(",").forEach(function (o) { return o && !se[o] && !re[o] && qt(t + " effect requires " + o + " plugin.") }), ui[t] = function (o, l, c) { return i(he(o), ce(l || {}, r), c) }, s && (ee.prototype[t] = function (o, l, c) { return this.add(ui[t](o, xe(l) ? l : (c = l) && {}, this), c) }) }, registerEase: function (e, t) { R[e] = Ve(t) }, parseEase: function (e, t) { return arguments.length ? Ve(e, t) : R }, getById: function (e) { return H.getById(e) }, exportRoot: function (e, t) { e === void 0 && (e = {}); var i = new ee(e), n, r; for (i.smoothChildTiming = K(e.smoothChildTiming), H.remove(i), i._dp = 0, i._time = i._tTime = H._time, n = H._first; n;)r = n._next, (t || !(!n._dur && n instanceof U && n.vars.onComplete === n._targets[0])) && ge(i, n, n._start - n._delay), n = r; return ge(H, i, 0), i }, utils: { wrap: Fr, wrapYoyo: Vr, distribute: gn, random: yn, snap: _n, normalize: Nr, getUnit: J, clamp: zr, splitColor: xn, toArray: he, selector: Ir, mapRange: bn, pipe: Br, unitize: Hr, interpolate: Wr, shuffle: pn }, install: Zi, effects: ui, ticker: de, updateRoot: ee.updateRoot, plugins: se, globalTimeline: H, core: { PropTween: te, globals: Ji, Tween: U, Timeline: ee, Animation: bt, getCache: Ne, _removeLinkedListItem: Nt, suppressOverwrites: function (e) { return ei = e } } }; Z("to,from,fromTo,delayedCall,set,killTweensOf", function (a) { return Ut[a] = U[a] }), de.add(ee.updateRoot), st = Ut.to({}, { duration: 0 }); var ls = function (e, t) { for (var i = e._pt; i && i.p !== t && i.op !== t && i.fp !== t;)i = i._next; return i }, cs = function (e, t) { var i = e._targets, n, r, s; for (n in t) for (r = i.length; r--;)s = e._ptLookup[r][n], s && (s = s.d) && (s._pt && (s = ls(s, n)), s && s.modifier && s.modifier(t[n], e, i[r], n)) }, Si = function (e, t) { return { name: e, rawVars: 1, init: function (n, r, s) { s._onInit = function (o) { var l, c; if (V(r) && (l = {}, Z(r, function (u) { return l[u] = 1 }), r = l), t) { l = {}; for (c in r) l[c] = t(r[c]); r = l } cs(o, r) } } } }, _e = Ut.registerPlugin({ name: "attr", init: function (e, t, i, n, r) { var s, o; for (s in t) o = this.add(e, "setAttribute", (e.getAttribute(s) || 0) + "", t[s], n, r, 0, 0, s), o && (o.op = s), this._props.push(s) } }, { name: "endArray", init: function (e, t) { for (var i = t.length; i--;)this.add(e, i, e[i] || 0, t[i]) } }, Si("roundProps", pi), Si("modifiers"), Si("snap", _n)) || Ut; U.version = ee.version = _e.version = "3.9.1", Ki = 1, $i() && ot(), R.Power0, R.Power1, R.Power2, R.Power3, R.Power4, R.Linear, R.Quad, R.Cubic, R.Quart, R.Quint, R.Strong, R.Elastic, R.Back, R.SteppedEase, R.Bounce, R.Sine, R.Expo, R.Circ;/*!
 * CSSPlugin 3.9.1
 * https://greensock.com
 *
 * Copyright 2008-2021, GreenSock. All rights reserved.
 * Subject to the terms at https://greensock.com/standard-license or for
 * Club GreenSock members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
*/var In, Me, at, Ti, Ue, Bn, us = function () { return typeof window != "undefined" }, Oe = {}, Ge = 180 / Math.PI, lt = Math.PI / 180, ct = Math.atan2, Hn = 1e8, Nn = /([A-Z])/g, hs = /(?:left|right|width|margin|padding|x)/i, fs = /[\s,\(]\S/, Le = { autoAlpha: "opacity,visibility", scale: "scaleX,scaleY", alpha: "opacity" }, Fn = function (e, t) { return t.set(t.t, t.p, Math.round((t.s + t.c * e) * 1e4) / 1e4 + t.u, t) }, ds = function (e, t) { return t.set(t.t, t.p, e === 1 ? t.e : Math.round((t.s + t.c * e) * 1e4) / 1e4 + t.u, t) }, ms = function (e, t) { return t.set(t.t, t.p, e ? Math.round((t.s + t.c * e) * 1e4) / 1e4 + t.u : t.b, t) }, ps = function (e, t) { var i = t.s + t.c * e; t.set(t.t, t.p, ~~(i + (i < 0 ? -.5 : .5)) + t.u, t) }, Vn = function (e, t) { return t.set(t.t, t.p, e ? t.e : t.b, t) }, Wn = function (e, t) { return t.set(t.t, t.p, e !== 1 ? t.b : t.e, t) }, gs = function (e, t, i) { return e.style[t] = i }, _s = function (e, t, i) { return e.style.setProperty(t, i) }, ys = function (e, t, i) { return e._gsap[t] = i }, vs = function (e, t, i) { return e._gsap.scaleX = e._gsap.scaleY = i }, bs = function (e, t, i, n, r) { var s = e._gsap; s.scaleX = s.scaleY = i, s.renderTransform(r, s) }, ws = function (e, t, i, n, r) { var s = e._gsap; s[t] = i, s.renderTransform(r, s) }, G = "transform", Ae = G + "Origin", Un, Pi = function (e, t) { var i = Me.createElementNS ? Me.createElementNS((t || "http://www.w3.org/1999/xhtml").replace(/^https/, "http"), e) : Me.createElement(e); return i.style ? i : Me.createElement(e) }, Te = function a(e, t, i) { var n = getComputedStyle(e); return n[t] || n.getPropertyValue(t.replace(Nn, "-$1").toLowerCase()) || n.getPropertyValue(t) || !i && a(e, ut(t) || t, 1) || "" }, Gn = "O,Moz,ms,Ms,Webkit".split(","), ut = function (e, t, i) { var n = t || Ue, r = n.style, s = 5; if (e in r && !i) return e; for (e = e.charAt(0).toUpperCase() + e.substr(1); s-- && !(Gn[s] + e in r);); return s < 0 ? null : (s === 3 ? "ms" : s >= 0 ? Gn[s] : "") + e }, Ci = function () { us() && window.document && (In = window, Me = In.document, at = Me.documentElement, Ue = Pi("div") || { style: {} }, Pi("div"), G = ut(G), Ae = G + "Origin", Ue.style.cssText = "border-width:0;line-height:0;position:absolute;padding:0", Un = !!ut("perspective"), Ti = 1) }, ki = function a(e) { var t = Pi("svg", this.ownerSVGElement && this.ownerSVGElement.getAttribute("xmlns") || "http://www.w3.org/2000/svg"), i = this.parentNode, n = this.nextSibling, r = this.style.cssText, s; if (at.appendChild(t), t.appendChild(this), this.style.display = "block", e) try { s = this.getBBox(), this._gsapBBox = this.getBBox, this.getBBox = a } catch { } else this._gsapBBox && (s = this._gsapBBox()); return i && (n ? i.insertBefore(this, n) : i.appendChild(this)), at.removeChild(t), this.style.cssText = r, s }, $n = function (e, t) { for (var i = t.length; i--;)if (e.hasAttribute(t[i])) return e.getAttribute(t[i]) }, jn = function (e) { var t; try { t = e.getBBox() } catch { t = ki.call(e, !0) } return t && (t.width || t.height) || e.getBBox === ki || (t = ki.call(e, !0)), t && !t.width && !t.x && !t.y ? { x: +$n(e, ["x", "cx", "x1"]) || 0, y: +$n(e, ["y", "cy", "y1"]) || 0, width: 0, height: 0 } : t }, Xn = function (e) { return !!(e.getCTM && (!e.parentNode || e.ownerSVGElement) && jn(e)) }, xt = function (e, t) { if (t) { var i = e.style; t in Oe && t !== Ae && (t = G), i.removeProperty ? ((t.substr(0, 2) === "ms" || t.substr(0, 6) === "webkit") && (t = "-" + t), i.removeProperty(t.replace(Nn, "-$1").toLowerCase())) : i.removeAttribute(t) } }, Re = function (e, t, i, n, r, s) { var o = new te(e._pt, t, i, 0, 1, s ? Wn : Vn); return e._pt = o, o.b = n, o.e = r, e._props.push(i), o }, Yn = { deg: 1, rad: 1, turn: 1 }, De = function a(e, t, i, n) { var r = parseFloat(i) || 0, s = (i + "").trim().substr((r + "").length) || "px", o = Ue.style, l = hs.test(t), c = e.tagName.toLowerCase() === "svg", u = (c ? "client" : "offset") + (l ? "Width" : "Height"), h = 100, d = n === "px", m = n === "%", p, f, _, g; return n === s || !r || Yn[n] || Yn[s] ? r : (s !== "px" && !d && (r = a(e, t, i, "px")), g = e.getCTM && Xn(e), (m || s === "%") && (Oe[t] || ~t.indexOf("adius")) ? (p = g ? e.getBBox()[l ? "width" : "height"] : e[u], N(m ? r / p * h : r / 100 * p)) : (o[l ? "width" : "height"] = h + (d ? s : n), f = ~t.indexOf("adius") || n === "em" && e.appendChild && !c ? e : e.parentNode, g && (f = (e.ownerSVGElement || {}).parentNode), (!f || f === Me || !f.appendChild) && (f = Me.body), _ = f._gsap, _ && m && _.width && l && _.time === de.time ? N(r / _.width * h) : ((m || s === "%") && (o.position = Te(e, "position")), f === e && (o.position = "static"), f.appendChild(Ue), p = Ue[u], f.removeChild(Ue), o.position = "absolute", l && m && (_ = Ne(f), _.time = de.time, _.width = f[u]), N(d ? p * r / h : p && r ? h / p * r : 0)))) }, $e = function (e, t, i, n) { var r; return Ti || Ci(), t in Le && t !== "transform" && (t = Le[t], ~t.indexOf(",") && (t = t.split(",")[0])), Oe[t] && t !== "transform" ? (r = Tt(e, n), r = t !== "transformOrigin" ? r[t] : r.svg ? r.origin : $t(Te(e, Ae)) + " " + r.zOrigin + "px") : (r = e.style[t], (!r || r === "auto" || n || ~(r + "").indexOf("calc(")) && (r = Gt[t] && Gt[t](e, t, i) || Te(e, t) || nn(e, t) || (t === "opacity" ? 1 : 0))), i && !~(r + "").trim().indexOf(" ") ? De(e, t, r, i) + i : r }, xs = function (e, t, i, n) { if (!i || i === "none") { var r = ut(t, e, 1), s = r && Te(e, r, 1); s && s !== i ? (t = r, i = s) : t === "borderColor" && (i = Te(e, "borderTopColor")) } var o = new te(this._pt, e.style, t, 0, 1, zn), l = 0, c = 0, u, h, d, m, p, f, _, g, y, v, x, b, w; if (o.b = i, o.e = n, i += "", n += "", n === "auto" && (e.style[t] = n, n = Te(e, t) || n, e.style[t] = i), u = [i, n], Pn(u), i = u[0], n = u[1], d = i.match(tt) || [], w = n.match(tt) || [], w.length) { for (; h = tt.exec(n);)_ = h[0], y = n.substring(l, h.index), p ? p = (p + 1) % 5 : (y.substr(-5) === "rgba(" || y.substr(-5) === "hsla(") && (p = 1), _ !== (f = d[c++] || "") && (m = parseFloat(f) || 0, x = f.substr((m + "").length), b = _.charAt(1) === "=" ? +(_.charAt(0) + "1") : 0, b && (_ = _.substr(2)), g = parseFloat(_), v = _.substr((g + "").length), l = tt.lastIndex - v.length, v || (v = v || ne.units[t] || x, l === n.length && (n += v, o.e += v)), x !== v && (m = De(e, t, f, v) || 0), o._pt = { _next: o._pt, p: y || c === 1 ? y : ",", s: m, c: b ? b * g : g - m, m: p && p < 4 || t === "zIndex" ? Math.round : 0 }); o.c = l < n.length ? n.substring(l, n.length) : "" } else o.r = t === "display" && n === "none" ? Wn : Vn; return Yi.test(n) && (o.e = 0), this._pt = o, o }, Qn = { top: "0%", bottom: "100%", left: "0%", right: "100%", center: "50%" }, Ss = function (e) { var t = e.split(" "), i = t[0], n = t[1] || "50%"; return (i === "top" || i === "bottom" || n === "left" || n === "right") && (e = i, i = n, n = e), t[0] = Qn[i] || i, t[1] = Qn[n] || n, t.join(" ") }, Ts = function (e, t) { if (t.tween && t.tween._time === t.tween._dur) { var i = t.t, n = i.style, r = t.u, s = i._gsap, o, l, c; if (r === "all" || r === !0) n.cssText = "", l = 1; else for (r = r.split(","), c = r.length; --c > -1;)o = r[c], Oe[o] && (l = 1, o = o === "transformOrigin" ? Ae : G), xt(i, o); l && (xt(i, G), s && (s.svg && i.removeAttribute("transform"), Tt(i, 1), s.uncache = 1)) } }, Gt = { clearProps: function (e, t, i, n, r) { if (r.data !== "isFromStart") { var s = e._pt = new te(e._pt, t, i, 0, 0, Ts); return s.u = n, s.pr = -10, s.tween = r, e._props.push(i), 1 } } }, St = [1, 0, 0, 1, 0, 0], Kn = {}, Zn = function (e) { return e === "matrix(1, 0, 0, 1, 0, 0)" || e === "none" || !e }, Jn = function (e) { var t = Te(e, G); return Zn(t) ? St : t.substr(7).match(Xi).map(N) }, Ei = function (e, t) { var i = e._gsap || Ne(e), n = e.style, r = Jn(e), s, o, l, c; return i.svg && e.getAttribute("transform") ? (l = e.transform.baseVal.consolidate().matrix, r = [l.a, l.b, l.c, l.d, l.e, l.f], r.join(",") === "1,0,0,1,0,0" ? St : r) : (r === St && !e.offsetParent && e !== at && !i.svg && (l = n.display, n.display = "block", s = e.parentNode, (!s || !e.offsetParent) && (c = 1, o = e.nextSibling, at.appendChild(e)), r = Jn(e), l ? n.display = l : xt(e, "display"), c && (o ? s.insertBefore(e, o) : s ? s.appendChild(e) : at.removeChild(e))), t && r.length > 6 ? [r[0], r[1], r[4], r[5], r[12], r[13]] : r) }, Mi = function (e, t, i, n, r, s) { var o = e._gsap, l = r || Ei(e, !0), c = o.xOrigin || 0, u = o.yOrigin || 0, h = o.xOffset || 0, d = o.yOffset || 0, m = l[0], p = l[1], f = l[2], _ = l[3], g = l[4], y = l[5], v = t.split(" "), x = parseFloat(v[0]) || 0, b = parseFloat(v[1]) || 0, w, T, P, S; i ? l !== St && (T = m * _ - p * f) && (P = x * (_ / T) + b * (-f / T) + (f * y - _ * g) / T, S = x * (-p / T) + b * (m / T) - (m * y - p * g) / T, x = P, b = S) : (w = jn(e), x = w.x + (~v[0].indexOf("%") ? x / 100 * w.width : x), b = w.y + (~(v[1] || v[0]).indexOf("%") ? b / 100 * w.height : b)), n || n !== !1 && o.smooth ? (g = x - c, y = b - u, o.xOffset = h + (g * m + y * f) - g, o.yOffset = d + (g * p + y * _) - y) : o.xOffset = o.yOffset = 0, o.xOrigin = x, o.yOrigin = b, o.smooth = !!n, o.origin = t, o.originIsAbsolute = !!i, e.style[Ae] = "0px 0px", s && (Re(s, o, "xOrigin", c, x), Re(s, o, "yOrigin", u, b), Re(s, o, "xOffset", h, o.xOffset), Re(s, o, "yOffset", d, o.yOffset)), e.setAttribute("data-svg-origin", x + " " + b) }, Tt = function (e, t) { var i = e._gsap || new Mn(e); if ("x" in i && !t && !i.uncache) return i; var n = e.style, r = i.scaleX < 0, s = "px", o = "deg", l = Te(e, Ae) || "0", c, u, h, d, m, p, f, _, g, y, v, x, b, w, T, P, S, C, M, k, O, E, L, A, B, Y, D, Q, $, Rt, F, me; return c = u = h = p = f = _ = g = y = v = 0, d = m = 1, i.svg = !!(e.getCTM && Xn(e)), w = Ei(e, i.svg), i.svg && (A = (!i.uncache || l === "0px 0px") && !t && e.getAttribute("data-svg-origin"), Mi(e, A || l, !!A || i.originIsAbsolute, i.smooth !== !1, w)), x = i.xOrigin || 0, b = i.yOrigin || 0, w !== St && (C = w[0], M = w[1], k = w[2], O = w[3], c = E = w[4], u = L = w[5], w.length === 6 ? (d = Math.sqrt(C * C + M * M), m = Math.sqrt(O * O + k * k), p = C || M ? ct(M, C) * Ge : 0, g = k || O ? ct(k, O) * Ge + p : 0, g && (m *= Math.abs(Math.cos(g * lt))), i.svg && (c -= x - (x * C + b * k), u -= b - (x * M + b * O))) : (me = w[6], Rt = w[7], D = w[8], Q = w[9], $ = w[10], F = w[11], c = w[12], u = w[13], h = w[14], T = ct(me, $), f = T * Ge, T && (P = Math.cos(-T), S = Math.sin(-T), A = E * P + D * S, B = L * P + Q * S, Y = me * P + $ * S, D = E * -S + D * P, Q = L * -S + Q * P, $ = me * -S + $ * P, F = Rt * -S + F * P, E = A, L = B, me = Y), T = ct(-k, $), _ = T * Ge, T && (P = Math.cos(-T), S = Math.sin(-T), A = C * P - D * S, B = M * P - Q * S, Y = k * P - $ * S, F = O * S + F * P, C = A, M = B, k = Y), T = ct(M, C), p = T * Ge, T && (P = Math.cos(T), S = Math.sin(T), A = C * P + M * S, B = E * P + L * S, M = M * P - C * S, L = L * P - E * S, C = A, E = B), f && Math.abs(f) + Math.abs(p) > 359.9 && (f = p = 0, _ = 180 - _), d = N(Math.sqrt(C * C + M * M + k * k)), m = N(Math.sqrt(L * L + me * me)), T = ct(E, L), g = Math.abs(T) > 2e-4 ? T * Ge : 0, v = F ? 1 / (F < 0 ? -F : F) : 0), i.svg && (A = e.getAttribute("transform"), i.forceCSS = e.setAttribute("transform", "") || !Zn(Te(e, G)), A && e.setAttribute("transform", A))), Math.abs(g) > 90 && Math.abs(g) < 270 && (r ? (d *= -1, g += p <= 0 ? 180 : -180, p += p <= 0 ? 180 : -180) : (m *= -1, g += g <= 0 ? 180 : -180)), i.x = c - ((i.xPercent = c && (i.xPercent || (Math.round(e.offsetWidth / 2) === Math.round(-c) ? -50 : 0))) ? e.offsetWidth * i.xPercent / 100 : 0) + s, i.y = u - ((i.yPercent = u && (i.yPercent || (Math.round(e.offsetHeight / 2) === Math.round(-u) ? -50 : 0))) ? e.offsetHeight * i.yPercent / 100 : 0) + s, i.z = h + s, i.scaleX = N(d), i.scaleY = N(m), i.rotation = N(p) + o, i.rotationX = N(f) + o, i.rotationY = N(_) + o, i.skewX = g + o, i.skewY = y + o, i.transformPerspective = v + s, (i.zOrigin = parseFloat(l.split(" ")[2]) || 0) && (n[Ae] = $t(l)), i.xOffset = i.yOffset = 0, i.force3D = ne.force3D, i.renderTransform = i.svg ? Cs : Un ? er : Ps, i.uncache = 0, i }, $t = function (e) { return (e = e.split(" "))[0] + " " + e[1] }, Oi = function (e, t, i) { var n = J(t); return N(parseFloat(t) + parseFloat(De(e, "x", i + "px", n))) + n }, Ps = function (e, t) { t.z = "0px", t.rotationY = t.rotationX = "0deg", t.force3D = 0, er(e, t) }, je = "0deg", Pt = "0px", Xe = ") ", er = function (e, t) { var i = t || this, n = i.xPercent, r = i.yPercent, s = i.x, o = i.y, l = i.z, c = i.rotation, u = i.rotationY, h = i.rotationX, d = i.skewX, m = i.skewY, p = i.scaleX, f = i.scaleY, _ = i.transformPerspective, g = i.force3D, y = i.target, v = i.zOrigin, x = "", b = g === "auto" && e && e !== 1 || g === !0; if (v && (h !== je || u !== je)) { var w = parseFloat(u) * lt, T = Math.sin(w), P = Math.cos(w), S; w = parseFloat(h) * lt, S = Math.cos(w), s = Oi(y, s, T * S * -v), o = Oi(y, o, -Math.sin(w) * -v), l = Oi(y, l, P * S * -v + v) } _ !== Pt && (x += "perspective(" + _ + Xe), (n || r) && (x += "translate(" + n + "%, " + r + "%) "), (b || s !== Pt || o !== Pt || l !== Pt) && (x += l !== Pt || b ? "translate3d(" + s + ", " + o + ", " + l + ") " : "translate(" + s + ", " + o + Xe), c !== je && (x += "rotate(" + c + Xe), u !== je && (x += "rotateY(" + u + Xe), h !== je && (x += "rotateX(" + h + Xe), (d !== je || m !== je) && (x += "skew(" + d + ", " + m + Xe), (p !== 1 || f !== 1) && (x += "scale(" + p + ", " + f + Xe), y.style[G] = x || "translate(0, 0)" }, Cs = function (e, t) { var i = t || this, n = i.xPercent, r = i.yPercent, s = i.x, o = i.y, l = i.rotation, c = i.skewX, u = i.skewY, h = i.scaleX, d = i.scaleY, m = i.target, p = i.xOrigin, f = i.yOrigin, _ = i.xOffset, g = i.yOffset, y = i.forceCSS, v = parseFloat(s), x = parseFloat(o), b, w, T, P, S; l = parseFloat(l), c = parseFloat(c), u = parseFloat(u), u && (u = parseFloat(u), c += u, l += u), l || c ? (l *= lt, c *= lt, b = Math.cos(l) * h, w = Math.sin(l) * h, T = Math.sin(l - c) * -d, P = Math.cos(l - c) * d, c && (u *= lt, S = Math.tan(c - u), S = Math.sqrt(1 + S * S), T *= S, P *= S, u && (S = Math.tan(u), S = Math.sqrt(1 + S * S), b *= S, w *= S)), b = N(b), w = N(w), T = N(T), P = N(P)) : (b = h, P = d, w = T = 0), (v && !~(s + "").indexOf("px") || x && !~(o + "").indexOf("px")) && (v = De(m, "x", s, "px"), x = De(m, "y", o, "px")), (p || f || _ || g) && (v = N(v + p - (p * b + f * T) + _), x = N(x + f - (p * w + f * P) + g)), (n || r) && (S = m.getBBox(), v = N(v + n / 100 * S.width), x = N(x + r / 100 * S.height)), S = "matrix(" + b + "," + w + "," + T + "," + P + "," + v + "," + x + ")", m.setAttribute("transform", S), y && (m.style[G] = S) }, ks = function (e, t, i, n, r, s) { var o = 360, l = V(r), c = parseFloat(r) * (l && ~r.indexOf("rad") ? Ge : 1), u = s ? c * s : c - n, h = n + u + "deg", d, m; return l && (d = r.split("_")[1], d === "short" && (u %= o, u !== u % (o / 2) && (u += u < 0 ? o : -o)), d === "cw" && u < 0 ? u = (u + o * Hn) % o - ~~(u / o) * o : d === "ccw" && u > 0 && (u = (u - o * Hn) % o - ~~(u / o) * o)), e._pt = m = new te(e._pt, t, i, n, u, ds), m.e = h, m.u = "deg", e._props.push(i), m }, tr = function (e, t) { for (var i in t) e[i] = t[i]; return e }, Es = function (e, t, i) { var n = tr({}, i._gsap), r = "perspective,force3D,transformOrigin,svgOrigin", s = i.style, o, l, c, u, h, d, m, p; n.svg ? (c = i.getAttribute("transform"), i.setAttribute("transform", ""), s[G] = t, o = Tt(i, 1), xt(i, G), i.setAttribute("transform", c)) : (c = getComputedStyle(i)[G], s[G] = t, o = Tt(i, 1), s[G] = c); for (l in Oe) c = n[l], u = o[l], c !== u && r.indexOf(l) < 0 && (m = J(c), p = J(u), h = m !== p ? De(i, l, c, p) : parseFloat(c), d = parseFloat(u), e._pt = new te(e._pt, o, l, h, d - h, Fn), e._pt.u = p || 0, e._props.push(l)); tr(o, n) }; Z("padding,margin,Width,Radius", function (a, e) { var t = "Top", i = "Right", n = "Bottom", r = "Left", s = (e < 3 ? [t, i, n, r] : [t + r, t + i, n + i, n + r]).map(function (o) { return e < 2 ? a + o : "border" + o + a }); Gt[e > 1 ? "border" + a : a] = function (o, l, c, u, h) { var d, m; if (arguments.length < 4) return d = s.map(function (p) { return $e(o, p, c) }), m = d.join(" "), m.split(d[0]).length === 5 ? d[0] : m; d = (u + "").split(" "), m = {}, s.forEach(function (p, f) { return m[p] = d[f] = d[f] || d[(f - 1) / 2 | 0] }), o.init(l, m, h) } }); var ir = { name: "css", register: Ci, targetTest: function (e) { return e.style && e.nodeType }, init: function (e, t, i, n, r) { var s = this._props, o = e.style, l = i.vars.startAt, c, u, h, d, m, p, f, _, g, y, v, x, b, w, T; Ti || Ci(); for (f in t) if (f !== "autoRound" && (u = t[f], !(se[f] && On(f, t, i, n, e, r)))) { if (m = typeof u, p = Gt[f], m === "function" && (u = u.call(i, n, e, r), m = typeof u), m === "string" && ~u.indexOf("random(") && (u = _t(u)), p) p(this, e, f, u, i) && (T = 1); else if (f.substr(0, 2) === "--") c = (getComputedStyle(e).getPropertyValue(f) + "").trim(), u += "", ke.lastIndex = 0, ke.test(c) || (_ = J(c), g = J(u)), g ? _ !== g && (c = De(e, f, c, g) + g) : _ && (u += _), this.add(o, "setProperty", c, u, n, r, 0, 0, f), s.push(f); else if (m !== "undefined") { if (l && f in l ? (c = typeof l[f] == "function" ? l[f].call(i, n, e, r) : l[f], V(c) && ~c.indexOf("random(") && (c = _t(c)), J(c + "") || (c += ne.units[f] || J($e(e, f)) || ""), (c + "").charAt(1) === "=" && (c = $e(e, f))) : c = $e(e, f), d = parseFloat(c), y = m === "string" && u.charAt(1) === "=" ? +(u.charAt(0) + "1") : 0, y && (u = u.substr(2)), h = parseFloat(u), f in Le && (f === "autoAlpha" && (d === 1 && $e(e, "visibility") === "hidden" && h && (d = 0), Re(this, o, "visibility", d ? "inherit" : "hidden", h ? "inherit" : "hidden", !h)), f !== "scale" && f !== "transform" && (f = Le[f], ~f.indexOf(",") && (f = f.split(",")[0]))), v = f in Oe, v) { if (x || (b = e._gsap, b.renderTransform && !t.parseTransform || Tt(e, t.parseTransform), w = t.smoothOrigin !== !1 && b.smooth, x = this._pt = new te(this._pt, o, G, 0, 1, b.renderTransform, b, 0, -1), x.dep = 1), f === "scale") this._pt = new te(this._pt, b, "scaleY", b.scaleY, (y ? y * h : h - b.scaleY) || 0), s.push("scaleY", f), f += "X"; else if (f === "transformOrigin") { u = Ss(u), b.svg ? Mi(e, u, 0, w, 0, this) : (g = parseFloat(u.split(" ")[2]) || 0, g !== b.zOrigin && Re(this, b, "zOrigin", b.zOrigin, g), Re(this, o, f, $t(c), $t(u))); continue } else if (f === "svgOrigin") { Mi(e, u, 1, w, 0, this); continue } else if (f in Kn) { ks(this, b, f, d, u, y); continue } else if (f === "smoothOrigin") { Re(this, b, "smooth", b.smooth, u); continue } else if (f === "force3D") { b[f] = u; continue } else if (f === "transform") { Es(this, u, e); continue } } else f in o || (f = ut(f) || f); if (v || (h || h === 0) && (d || d === 0) && !fs.test(u) && f in o) _ = (c + "").substr((d + "").length), h || (h = 0), g = J(u) || (f in ne.units ? ne.units[f] : _), _ !== g && (d = De(e, f, c, g)), this._pt = new te(this._pt, v ? b : o, f, d, y ? y * h : h - d, !v && (g === "px" || f === "zIndex") && t.autoRound !== !1 ? ps : Fn), this._pt.u = g || 0, _ !== g && g !== "%" && (this._pt.b = c, this._pt.r = ms); else if (f in o) xs.call(this, e, f, c, u); else if (f in e) this.add(e, f, c || e[f], u, n, r); else { ai(f, u); continue } s.push(f) } } T && qn(this) }, get: $e, aliases: Le, getSetter: function (e, t, i) { var n = Le[t]; return n && n.indexOf(",") < 0 && (t = n), t in Oe && t !== Ae && (e._gsap.x || $e(e, "x")) ? i && Bn === i ? t === "scale" ? vs : ys : (Bn = i || {}) && (t === "scale" ? bs : ws) : e.style && !ii(e.style[t]) ? gs : ~t.indexOf("-") ? _s : wi(e, t) }, core: { _removeProperty: xt, _getMatrix: Ei } }; _e.utils.checkPrefix = ut, function (a, e, t, i) { var n = Z(a + "," + e + "," + t, function (r) { Oe[r] = 1 }); Z(e, function (r) { ne.units[r] = "deg", Kn[r] = 1 }), Le[n[13]] = a + "," + e, Z(i, function (r) { var s = r.split(":"); Le[s[1]] = n[s[0]] }) }("x,y,z,scale,scaleX,scaleY,xPercent,yPercent", "rotation,rotationX,rotationY,skewX,skewY", "transform,transformOrigin,svgOrigin,force3D,smoothOrigin,transformPerspective", "0:translateX,1:translateY,2:translateZ,8:rotate,8:rotationZ,8:rotateZ,9:rotateX,10:rotateY"), Z("x,y,z,top,right,bottom,left,width,height,fontSize,padding,margin,perspective", function (a) { ne.units[a] = "px" }), _e.registerPlugin(ir); var I = _e.registerPlugin(ir) || _e; I.core.Tween;/*!
 * paths 3.9.1
 * https://greensock.com
 *
 * Copyright 2008-2021, GreenSock. All rights reserved.
 * Subject to the terms at https://greensock.com/standard-license or for
 * Club GreenSock members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
*/var Ms = /[achlmqstvz]|(-?\d*\.?\d*(?:e[\-+]?\d+)?)[0-9]/ig, Os = /[\+\-]?\d*\.?\d+e[\+\-]?\d+/ig, Ls = Math.PI / 180, jt = Math.sin, Xt = Math.cos, Ct = Math.abs, kt = Math.sqrt, As = function (e) { return typeof e == "number" }, nr = 1e5, ze = function (e) { return Math.round(e * nr) / nr || 0 }; function Rs(a, e, t, i, n, r, s) { for (var o = a.length, l, c, u, h, d; --o > -1;)for (l = a[o], c = l.length, u = 0; u < c; u += 2)h = l[u], d = l[u + 1], l[u] = h * e + d * i + r, l[u + 1] = h * t + d * n + s; return a._dirty = 1, a } function Ds(a, e, t, i, n, r, s, o, l) { if (!(a === o && e === l)) { t = Ct(t), i = Ct(i); var c = n % 360 * Ls, u = Xt(c), h = jt(c), d = Math.PI, m = d * 2, p = (a - o) / 2, f = (e - l) / 2, _ = u * p + h * f, g = -h * p + u * f, y = _ * _, v = g * g, x = y / (t * t) + v / (i * i); x > 1 && (t = kt(x) * t, i = kt(x) * i); var b = t * t, w = i * i, T = (b * w - b * v - w * y) / (b * v + w * y); T < 0 && (T = 0); var P = (r === s ? -1 : 1) * kt(T), S = P * (t * g / i), C = P * -(i * _ / t), M = (a + o) / 2, k = (e + l) / 2, O = M + (u * S - h * C), E = k + (h * S + u * C), L = (_ - S) / t, A = (g - C) / i, B = (-_ - S) / t, Y = (-g - C) / i, D = L * L + A * A, Q = (A < 0 ? -1 : 1) * Math.acos(L / kt(D)), $ = (L * Y - A * B < 0 ? -1 : 1) * Math.acos((L * B + A * Y) / kt(D * (B * B + Y * Y))); isNaN($) && ($ = d), !s && $ > 0 ? $ -= m : s && $ < 0 && ($ += m), Q %= m, $ %= m; var Rt = Math.ceil(Ct($) / (m / 4)), F = [], me = $ / Rt, Jt = 4 / 3 * jt(me / 2) / (1 + Xt(me / 2)), Eo = u * t, Mo = h * t, Oo = h * -i, Lo = u * i, oe; for (oe = 0; oe < Rt; oe++)n = Q + oe * me, _ = Xt(n), g = jt(n), L = Xt(n += me), A = jt(n), F.push(_ - Jt * g, g + Jt * _, L + Jt * A, A - Jt * L, L, A); for (oe = 0; oe < F.length; oe += 2)_ = F[oe], g = F[oe + 1], F[oe] = _ * Eo + g * Oo + O, F[oe + 1] = _ * Mo + g * Lo + E; return F[oe - 2] = o, F[oe - 1] = l, F } } function zs(a) { var e = (a + "").replace(Os, function (S) { var C = +S; return C < 1e-4 && C > -1e-4 ? 0 : C }).match(Ms) || [], t = [], i = 0, n = 0, r = 2 / 3, s = e.length, o = 0, l = "ERROR: malformed path: " + a, c, u, h, d, m, p, f, _, g, y, v, x, b, w, T, P = function (C, M, k, O) { y = (k - C) / 3, v = (O - M) / 3, f.push(C + y, M + v, k - y, O - v, k, O) }; if (!a || !isNaN(e[0]) || isNaN(e[1])) return console.log(l), t; for (c = 0; c < s; c++)if (b = m, isNaN(e[c]) ? (m = e[c].toUpperCase(), p = m !== e[c]) : c--, h = +e[c + 1], d = +e[c + 2], p && (h += i, d += n), c || (_ = h, g = d), m === "M") f && (f.length < 8 ? t.length -= 1 : o += f.length), i = _ = h, n = g = d, f = [h, d], t.push(f), c += 2, m = "L"; else if (m === "C") f || (f = [0, 0]), p || (i = n = 0), f.push(h, d, i + e[c + 3] * 1, n + e[c + 4] * 1, i += e[c + 5] * 1, n += e[c + 6] * 1), c += 6; else if (m === "S") y = i, v = n, (b === "C" || b === "S") && (y += i - f[f.length - 4], v += n - f[f.length - 3]), p || (i = n = 0), f.push(y, v, h, d, i += e[c + 3] * 1, n += e[c + 4] * 1), c += 4; else if (m === "Q") y = i + (h - i) * r, v = n + (d - n) * r, p || (i = n = 0), i += e[c + 3] * 1, n += e[c + 4] * 1, f.push(y, v, i + (h - i) * r, n + (d - n) * r, i, n), c += 4; else if (m === "T") y = i - f[f.length - 4], v = n - f[f.length - 3], f.push(i + y, n + v, h + (i + y * 1.5 - h) * r, d + (n + v * 1.5 - d) * r, i = h, n = d), c += 2; else if (m === "H") P(i, n, i = h, n), c += 1; else if (m === "V") P(i, n, i, n = h + (p ? n - i : 0)), c += 1; else if (m === "L" || m === "Z") m === "Z" && (h = _, d = g, f.closed = !0), (m === "L" || Ct(i - h) > .5 || Ct(n - d) > .5) && (P(i, n, h, d), m === "L" && (c += 2)), i = h, n = d; else if (m === "A") { if (w = e[c + 4], T = e[c + 5], y = e[c + 6], v = e[c + 7], u = 7, w.length > 1 && (w.length < 3 ? (v = y, y = T, u--) : (v = T, y = w.substr(2), u -= 2), T = w.charAt(1), w = w.charAt(0)), x = Ds(i, n, +e[c + 1], +e[c + 2], +e[c + 3], +w, +T, (p ? i : 0) + y * 1, (p ? n : 0) + v * 1), c += u, x) for (u = 0; u < x.length; u++)f.push(x[u]); i = f[f.length - 2], n = f[f.length - 1] } else console.log(l); return c = f.length, c < 6 ? (t.pop(), c = 0) : f[0] === f[c - 2] && f[1] === f[c - 1] && (f.closed = !0), t.totalPoints = o + c, t } function qs(a) { As(a[0]) && (a = [a]); var e = "", t = a.length, i, n, r, s; for (n = 0; n < t; n++) { for (s = a[n], e += "M" + ze(s[0]) + "," + ze(s[1]) + " C", i = s.length, r = 2; r < i; r++)e += ze(s[r++]) + "," + ze(s[r++]) + " " + ze(s[r++]) + "," + ze(s[r++]) + " " + ze(s[r++]) + "," + ze(s[r]) + " "; s.closed && (e += "z") } return e }/*!
 * CustomEase 3.9.1
 * https://greensock.com
 *
 * @license Copyright 2008-2021, GreenSock. All rights reserved.
 * Subject to the terms at https://greensock.com/standard-license or for
 * Club GreenSock members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
*/var ie, rr, sr = function () { return ie || typeof window != "undefined" && (ie = window.gsap) && ie.registerPlugin && ie }, or = function () { ie = sr(), ie ? (ie.registerEase("_CE", Ye.create), rr = 1) : console.warn("Please gsap.registerPlugin(CustomEase)") }, Is = 1e20, Yt = function (e) { return ~~(e * 1e3 + (e < 0 ? -.5 : .5)) / 1e3 }, Bs = /[-+=\.]*\d+[\.e\-\+]*\d*[e\-\+]*\d*/gi, Hs = /[cLlsSaAhHvVtTqQ]/g, Ns = function (e) { var t = e.length, i = Is, n; for (n = 1; n < t; n += 6)+e[n] < i && (i = +e[n]); return i }, Fs = function (e, t, i) { !i && i !== 0 && (i = Math.max(+e[e.length - 1], +e[1])); var n = +e[0] * -1, r = -i, s = e.length, o = 1 / (+e[s - 2] + n), l = -t || (Math.abs(+e[s - 1] - +e[1]) < .01 * (+e[s - 2] - +e[0]) ? Ns(e) + r : +e[s - 1] + r), c; for (l ? l = 1 / l : l = -o, c = 0; c < s; c += 2)e[c] = (+e[c] + n) * o, e[c + 1] = (+e[c + 1] + r) * l }, Vs = function a(e, t, i, n, r, s, o, l, c, u, h) { var d = (e + i) / 2, m = (t + n) / 2, p = (i + r) / 2, f = (n + s) / 2, _ = (r + o) / 2, g = (s + l) / 2, y = (d + p) / 2, v = (m + f) / 2, x = (p + _) / 2, b = (f + g) / 2, w = (y + x) / 2, T = (v + b) / 2, P = o - e, S = l - t, C = Math.abs((i - o) * S - (n - l) * P), M = Math.abs((r - o) * S - (s - l) * P), k; return u || (u = [{ x: e, y: t }, { x: o, y: l }], h = 1), u.splice(h || u.length - 1, 0, { x: w, y: T }), (C + M) * (C + M) > c * (P * P + S * S) && (k = u.length, a(e, t, d, m, y, v, w, T, c, u, h), a(w, T, x, b, _, g, o, l, c, u, h + 1 + (u.length - k))), u }, Ye = function () { function a(t, i, n) { rr || or(), this.id = t, this.setData(i, n) } var e = a.prototype; return e.setData = function (i, n) { n = n || {}, i = i || "0,0,1,1"; var r = i.match(Bs), s = 1, o = [], l = [], c = n.precision || 1, u = c <= 1, h, d, m, p, f, _, g, y, v; if (this.data = i, (Hs.test(i) || ~i.indexOf("M") && i.indexOf("C") < 0) && (r = zs(i)[0]), h = r.length, h === 4) r.unshift(0, 0), r.push(1, 1), h = 8; else if ((h - 2) % 6) throw "Invalid CustomEase"; for ((+r[0] != 0 || +r[h - 2] != 1) && Fs(r, n.height, n.originY), this.segment = r, p = 2; p < h; p += 6)d = { x: +r[p - 2], y: +r[p - 1] }, m = { x: +r[p + 4], y: +r[p + 5] }, o.push(d, m), Vs(d.x, d.y, +r[p], +r[p + 1], +r[p + 2], +r[p + 3], m.x, m.y, 1 / (c * 2e5), o, o.length - 1); for (h = o.length, p = 0; p < h; p++)g = o[p], y = o[p - 1] || g, (g.x > y.x || y.y !== g.y && y.x === g.x || g === y) && g.x <= 1 ? (y.cx = g.x - y.x, y.cy = g.y - y.y, y.n = g, y.nx = g.x, u && p > 1 && Math.abs(y.cy / y.cx - o[p - 2].cy / o[p - 2].cx) > 2 && (u = 0), y.cx < s && (y.cx ? s = y.cx : (y.cx = .001, p === h - 1 && (y.x -= .001, s = Math.min(s, .001), u = 0)))) : (o.splice(p--, 1), h--); if (h = 1 / s + 1 | 0, f = 1 / h, _ = 0, g = o[0], u) { for (p = 0; p < h; p++)v = p * f, g.nx < v && (g = o[++_]), d = g.y + (v - g.x) / g.cx * g.cy, l[p] = { x: v, cx: f, y: d, cy: 0, nx: 9 }, p && (l[p - 1].cy = d - l[p - 1].y); l[h - 1].cy = o[o.length - 1].y - d } else { for (p = 0; p < h; p++)g.nx < p * f && (g = o[++_]), l[p] = g; _ < o.length - 1 && (l[p - 1] = o[o.length - 2]) } return this.ease = function (x) { var b = l[x * h | 0] || l[h - 1]; return b.nx < x && (b = b.n), b.y + (x - b.x) / b.cx * b.cy }, this.ease.custom = this, this.id && ie && ie.registerEase(this.id, this.ease), this }, e.getSVGData = function (i) { return a.getSVGData(this, i) }, a.create = function (i, n, r) { return new a(i, n, r).ease }, a.register = function (i) { ie = i, or() }, a.get = function (i) { return ie.parseEase(i) }, a.getSVGData = function (i, n) { n = n || {}; var r = n.width || 100, s = n.height || 100, o = n.x || 0, l = (n.y || 0) + s, c = ie.utils.toArray(n.path)[0], u, h, d, m, p, f, _, g, y, v; if (n.invert && (s = -s, l = 0), typeof i == "string" && (i = ie.parseEase(i)), i.custom && (i = i.custom), i instanceof a) u = qs(Rs([i.segment], r, 0, 0, -s, o, l)); else { for (u = [o, l], _ = Math.max(5, (n.precision || 1) * 200), m = 1 / _, _ += 2, g = 5 / _, y = Yt(o + m * r), v = Yt(l + i(m) * -s), h = (v - l) / (y - o), d = 2; d < _; d++)p = Yt(o + d * m * r), f = Yt(l + i(d * m) * -s), (Math.abs((f - v) / (p - y) - h) > g || d === _ - 1) && (u.push(y, v), h = (f - v) / (p - y)), y = p, v = f; u = "M" + u.join(",") } return c && c.setAttribute("d", u), u }, a }(); sr() && ie.registerPlugin(Ye), Ye.version = "3.9.1"; let Et = null; function Ws() { const a = document.querySelector(".scan"); if (!!a) return Et && Et.kill(), Et = I.timeline({ repeat: -1, repeatDelay: 10, delay: 4 }), Et.fromTo(a, { top: "0%" }, { top: "100%", duration: 4, ease: "none" }), Et } I.registerPlugin(Ye), Ye.create("serpeasing", "M0,0 C0.37,0.01 0.01,0.99 1,1"); function Us() { const a = document.querySelector(".loader"), e = document.querySelector(".loader-wrap"), t = document.querySelector(".scan.is-loader-1"), i = document.querySelector(".progress-amount"), n = document.querySelectorAll(".loader_log"), r = [".loader_logos", ".loader_logs", ".loader_progress"], s = [".logo-2", ".logo-3", ".logo-4", ".logo-5", ".logo-6"]; if (!a) return; const o = 1.5, l = o / s.length, c = o / n.length, u = I.timeline(); return u.set(a, { display: "flex", height: "120svh" }, 0), u.set(r, { display: "block", opacity: 1 }, 0), s.forEach((h, d) => { u.set(h, { display: "block" }, d * l) }), n.forEach((h, d) => { u.set(h, { display: "block" }, d * c) }), u.to(i, { innerText: 100, duration: o, roundProps: "innerText", onUpdate: function () { const h = this.targets()[0].innerText; this.targets()[0].innerText = `[ ${h}% ]` }, ease: "none" }, 0), t && I.to(t, { y: "120svh", duration: 2.2, ease: "serpeasing" }), u.to(e, { height: 0, duration: 1.8, ease: "serpeasing", onComplete: () => { document.body.style.overflow = "", a && a.remove() } }), u } let qe = null, Li = null; function ar() { if (Li) return Li; const a = { snakeHeadImg: null, snakeTailImg: null }, t = getComputedStyle(document.documentElement).getPropertyValue("--base-colors--serp-red").trim(), i = document.querySelector(".snake-head"); if (i) { const r = i.cloneNode(!0); r.removeAttribute("style"), r.setAttribute("width", "100%"), r.setAttribute("height", "100%"), r.setAttribute("viewBox", "0 0 7 7"); const s = r.getElementsByTagName("*"); for (let h of s) h.setAttribute("fill", t); r.setAttribute("fill", t); const o = new XMLSerializer().serializeToString(r), c = `data:image/svg+xml;charset=utf-8,${encodeURIComponent(o)}`, u = new Image; u.src = c, a.snakeHeadImg = u } const n = document.querySelector(".snake-tail"); if (n) { const r = n.cloneNode(!0); r.removeAttribute("style"), r.setAttribute("width", "100%"), r.setAttribute("height", "100%"), r.setAttribute("viewBox", "0 0 7 7"); const s = r.getElementsByTagName("*"); for (let h of s) h.setAttribute("fill", t); r.setAttribute("fill", t); const o = new XMLSerializer().serializeToString(r), c = `data:image/svg+xml;charset=utf-8,${encodeURIComponent(o)}`, u = new Image; u.src = c, a.snakeTailImg = u } return Li = a, a } class Ai { constructor(e) { if (qe) return console.warn("Game instance already exists, use SnakeGame.initialize() instead"), qe; this.container = e, this.canvas = null, this.ctx = null, this.snake = null, this.direction = null, this.food = null, this.interval = null, this.animationFrameId = null, this.resizeObserver = null, this.resizeTimeout = null, this.score = 0, this.bestScore = this.loadBestScore(), this.directionQueue = []; const t = ar(); this.snakeHeadImg = t.snakeHeadImg, this.snakeTailImg = t.snakeTailImg, this.cellMinSize = 20, this.gridSize = 0, this.cellWidth = 0, this.cellHeight = 0, this.totalRows = 0, this.gameSpeed = this.isMobileOrTablet() ? 150 : 100, this.lostScreen = document.querySelector(".game_lost"), this.restartBtn = document.getElementById("restart"), this.scoreElement = document.getElementById("score"), this.bestScoreElement = document.getElementById("best-score"), this.gameControls = document.querySelector(".game-controls"); const i = getComputedStyle(document.documentElement); this.serpRed = i.getPropertyValue("--base-colors--serp-red").trim(), this.black = i.getPropertyValue("--base-colors--black").trim(), this.initialize(), this.updateScore(), this.updateBestScore() } static initialize() { var i; if (((i = document.querySelector('[data-barba="container"]')) == null ? void 0 : i.dataset.barbaNamespace) !== "home") return console.log("Not on home page, skipping game initialization"), null; const t = document.querySelector(".game_inner"); return t ? qe ? (qe.container = t, qe.initialize(), qe) : (qe = new Ai(t), qe) : (console.log("Game container not found"), null) } initialize() { console.log("Initializing game"); const e = this.container.querySelector(".score-display"); e && e.remove(); const t = document.createElement("div"); t.className = "score-display", t.style.position = "absolute", t.style.top = "10px", t.style.right = "10px", t.style.color = "var(--base-colors--serp-red)", t.style.fontFamily = "ABC Monument Grotesk Mono", t.style.fontSize = "0.75rem", t.style.textTransform = "uppercase", t.style.zIndex = "1", this.container.appendChild(t); const i = this.container.querySelector(".game-canvas"); i && i.remove(), this.canvas = document.createElement("canvas"), this.canvas.className = "game-canvas", this.canvas.id = "game-canvas", this.canvas.style.display = "block", this.canvas.style.width = "100%", this.canvas.style.height = "100%", this.container.appendChild(this.canvas), this.ctx = this.canvas.getContext("2d"), this.setupEventListeners(), this.bestScoreElement = document.getElementById("best-score"), console.log("Best score element found:", !!this.bestScoreElement), this.bestScoreElement ? (console.log("Current best score:", this.bestScore), this.updateBestScore()) : console.warn("Best score element not found during initialization"), this.resizeCanvas(), this.startGame() } setupEventListeners() { this.resizeObserver = new ResizeObserver(() => { clearTimeout(this.resizeTimeout), this.resizeTimeout = setTimeout(() => this.resizeCanvas(), 100) }), this.resizeObserver.observe(this.container), window.addEventListener("resize", () => { clearTimeout(this.resizeTimeout), this.resizeTimeout = setTimeout(() => this.resizeCanvas(), 100) }); const e = document.querySelectorAll(".game-controls_arrow"), t = i => { const n = { "is--up": -this.gridSize, "is--down": this.gridSize, "is--left": -1, "is--right": 1 }; for (const r of i.classList) if (n[r] !== void 0) { const s = n[r], o = this.directionQueue.length > 0 ? this.directionQueue[this.directionQueue.length - 1] : this.direction; s !== o && (this.directionQueue.push(s), this.directionQueue.length > 2 && (this.directionQueue = this.directionQueue.slice(-2))); break } }; e.forEach(i => { i.addEventListener("click", () => t(i)) }), this.mobileControls = e, this.handleMobileControl = t, this.isMobileOrTablet() && this.gameControls && (this.gameControls.style.display = "flex"), document.addEventListener("keydown", i => { let n; switch (i.key) { case "ArrowUp": n = -this.gridSize; break; case "ArrowDown": n = this.gridSize; break; case "ArrowLeft": n = -1; break; case "ArrowRight": n = 1; break; default: return }const r = this.directionQueue.length > 0 ? this.directionQueue[this.directionQueue.length - 1] : this.direction; n !== r && (this.directionQueue.push(n), this.directionQueue.length > 2 && (this.directionQueue = this.directionQueue.slice(-2))) }), this.restartBtn && this.restartBtn.addEventListener("click", () => { this.isMobileOrTablet() && (this.restartBtn && (this.restartBtn.style.display = "none"), this.gameControls && (this.gameControls.style.display = "flex")), this.startGame() }) } resizeCanvas() { const e = this.container.getBoundingClientRect(); this.canvas.width = e.width, this.canvas.height = e.height; const t = { cols: Math.floor(e.width / this.cellMinSize) }; t.cellWidth = e.width / t.cols, t.rows = Math.floor(e.height / t.cellWidth), t.cellHeight = e.height / t.rows, t.ratio = Math.abs(t.cellWidth - t.cellHeight); const i = { rows: Math.floor(e.height / this.cellMinSize) }; i.cellHeight = e.height / i.rows, i.cols = Math.floor(e.width / i.cellHeight), i.cellWidth = e.width / i.cols, i.ratio = Math.abs(i.cellWidth - i.cellHeight); const n = t.ratio < i.ratio ? t : i; if (this.gridSize = n.cols, this.totalRows = n.rows, this.cellWidth = n.cellWidth, this.cellHeight = n.cellHeight, this.food !== null) { const r = this.food % this.gridSize, s = Math.floor(this.food / this.gridSize); (r < 0 || r >= this.gridSize || s < 0 || s >= this.totalRows) && this.placeFood() } if (this.snake) { clearInterval(this.interval); const s = this.snake.map(o => ({ x: o % this.gridSize, y: Math.floor(o / this.gridSize) })).filter(o => o.y < this.totalRows); s.length < this.snake.length ? this.startGame() : (this.snake = s.map(o => o.y * this.gridSize + o.x), this.draw(), this.interval = setInterval(() => this.move(), this.gameSpeed)) } } startGame() { console.log("Starting game, current best score:", this.bestScore), this.animationFrameId && cancelAnimationFrame(this.animationFrameId), this.interval && clearInterval(this.interval), this.snake = [42, 41, 40], this.direction = 1, this.directionQueue = [], this.score = 0, this.gameSpeed = this.isMobileOrTablet() ? 150 : 100, this.updateScore(), this.updateBestScore(), this.isMobileOrTablet() && (this.gameControls && (this.gameControls.style.display = "flex"), this.restartBtn && (this.restartBtn.style.display = "none")), this.placeFood(), (isNaN(this.food) || this.food < 0 || this.food >= this.gridSize * this.totalRows) && this.placeFood(), this.lostScreen && (this.lostScreen.style.display = "none"), this.draw(), this.interval = setInterval(() => this.move(), this.gameSpeed) } draw() { if (this.ctx.fillStyle = this.black, this.ctx.fillRect(0, 0, this.canvas.width, this.canvas.height), this.snake.forEach((e, t) => { const i = e % this.gridSize * this.cellWidth, n = Math.floor(e / this.gridSize) * this.cellHeight; if (t === 0 && this.snakeHeadImg) { this.ctx.save(); const r = i + this.cellWidth / 2, s = n + this.cellHeight / 2; this.ctx.translate(r, s); let o = 0; switch (this.direction) { case 1: o = 90; break; case -1: o = -90; break; case this.gridSize: o = 180; break; case -this.gridSize: o = 0; break }this.ctx.rotate(o * Math.PI / 180); const l = Math.min(this.cellWidth, this.cellHeight), c = this.direction === 1 || this.direction === -1 ? l : this.cellWidth, u = this.direction === 1 || this.direction === -1 ? this.cellHeight : l; this.ctx.drawImage(this.snakeHeadImg, -c / 2, -u / 2, c, u), this.ctx.restore() } else if (t === this.snake.length - 1 && this.snakeTailImg) { this.ctx.save(); let r = 0; if (this.snake.length > 1) { const l = this.snake[this.snake.length - 1], c = this.snake[this.snake.length - 2]; c === l + 1 ? r = 90 : c === l - 1 ? r = -90 : c === l + this.gridSize ? r = 180 : c === l - this.gridSize && (r = 0) } const s = i + this.cellWidth / 2, o = n + this.cellHeight / 2; this.ctx.translate(s, o), this.ctx.rotate(r * Math.PI / 180), this.ctx.drawImage(this.snakeTailImg, -this.cellWidth / 2, -this.cellHeight / 2, this.cellWidth, this.cellHeight), this.ctx.restore() } else this.ctx.fillStyle = this.serpRed, this.ctx.fillRect(i, n, this.cellWidth, this.cellHeight) }), this.food !== null) { const e = this.food % this.gridSize, t = Math.floor(this.food / this.gridSize), i = e * this.cellWidth, n = t * this.cellHeight; let r = Math.min(this.cellWidth, this.cellHeight) * .8; r < 12 && (r = 12), this.ctx.font = `${r}px "Press Start 2P", Impact, sans-serif`, this.ctx.fillStyle = this.serpRed, this.ctx.textAlign = "center", this.ctx.textBaseline = "middle", e >= 0 && e < this.gridSize && t >= 0 && t < this.totalRows && this.ctx.fillText("$", i + this.cellWidth / 2, n + this.cellHeight / 2) } } move() { if (this.directionQueue.length > 0) { const i = this.directionQueue.shift(); (i === 1 && this.direction !== -1 || i === -1 && this.direction !== 1 || i === this.gridSize && this.direction !== -this.gridSize || i === -this.gridSize && this.direction !== this.gridSize) && (this.direction = i) } let e = this.snake[0], t; if (this.direction === 1 && e % this.gridSize == this.gridSize - 1 ? t = e - (this.gridSize - 1) : this.direction === -1 && e % this.gridSize == 0 ? t = e + (this.gridSize - 1) : this.direction === -this.gridSize && e < this.gridSize ? t = e + this.gridSize * (this.totalRows - 1) : this.direction === this.gridSize && e >= this.gridSize * (this.totalRows - 1) ? t = e - this.gridSize * (this.totalRows - 1) : t = e + this.direction, this.snake.includes(t)) { this.endGame(); return } this.snake.unshift(t), t === this.food ? (this.score++, this.updateScore(), this.placeFood()) : this.snake.pop(), this.draw() } placeFood() { if (this.gridSize <= 0 || this.totalRows <= 0) return; let e, t = 0; const i = 100; do { const n = Math.floor(Math.random() * this.totalRows), r = Math.floor(Math.random() * this.gridSize); if (e = n * this.gridSize + r, t++, t >= i) return } while (this.snake.includes(e)); this.food = e } endGame() { clearInterval(this.interval), cancelAnimationFrame(this.animationFrameId), this.lostScreen && (this.lostScreen.style.display = "flex"), this.isMobileOrTablet() && (this.restartBtn && (this.restartBtn.style.display = "flex"), this.gameControls && (this.gameControls.style.display = "none")) } updateScore() { this.scoreElement && (this.scoreElement.textContent = this.score), this.score > this.bestScore && (this.bestScore = this.score, this.saveBestScore(this.score), this.updateBestScore()) } updateBestScore() { if (this.bestScoreElement) { this.bestScoreElement.textContent = this.bestScore, I.set(this.bestScoreElement, { display: "inline-block", opacity: 1, visibility: "visible" }); const e = this.bestScoreElement.parentElement; e && I.set(e, { display: "flex", opacity: 1, visibility: "visible" }) } } loadBestScore() { const e = localStorage.getItem("snakeBestScore"); if (!e) return 0; try { const t = parseInt(e); if (!isNaN(t)) return this.saveBestScore(t), t; const { score: i, timestamp: n } = JSON.parse(e); return (Date.now() - n) / (1e3 * 60 * 60) > 24 ? (localStorage.removeItem("snakeBestScore"), 0) : i } catch { return localStorage.removeItem("snakeBestScore"), 0 } } saveBestScore(e) { const t = { score: e, timestamp: Date.now() }; localStorage.setItem("snakeBestScore", JSON.stringify(t)) } isMobileOrTablet() { return window.innerWidth < 992 } cleanup() { this.interval && clearInterval(this.interval), this.animationFrameId && cancelAnimationFrame(this.animationFrameId), this.resizeObserver && this.resizeObserver.disconnect(), this.mobileControls && this.mobileControls.forEach(t => { t.removeEventListener("click", () => this.handleMobileControl(t)) }), window.removeEventListener("resize", () => this.resizeCanvas()); const e = this.container.querySelector(".score-display"); e && e.parentNode && e.remove() } } document.addEventListener("DOMContentLoaded", ar); function Ri() { return Ai.initialize() } let Mt = Gs(), Di; function Gs() { return `anon${Math.floor(1e4 + Math.random() * 9e4)}` } function lr() { const a = document.querySelector(".welcome"); a && (a.textContent = `Welcome, ${Mt} !`) } function cr() { document.querySelectorAll(".commands_item").forEach(i => { const n = i.getAttribute("data-command"), r = i.querySelector(".is--answer"); n && r && n.toLowerCase() !== "help" && (i.getAttribute("data-response") || i.setAttribute("data-response", r.innerHTML)) }); const e = document.querySelector(".commands_call"), t = document.querySelector(".commands_list"); e && (e.style.display = "none"), t && (t.style.display = "none") } function ur(a, e) {
    const t = document.createElement("span"); if (t.classList.add("is-answer"), t.innerHTML = `&gt; ${a}`, e.appendChild(t), a.toLowerCase() === "help") { const n = document.querySelector(".commands_list").querySelectorAll(".commands_item"); n.forEach((r, s) => { setTimeout(() => { const o = document.createElement("div"); o.classList.add("is-answer", "commands_item"), o.style.display = "flex", o.innerHTML = `&gt;&nbsp;${r.innerHTML}`, e.appendChild(o), e.scrollTop = e.scrollHeight, s === n.length - 1 && ye() }, s * 100) }); return } if (a.toLowerCase().startsWith("user ")) { const n = a.slice(5).trim(); if (n) { Mt = n; const r = document.querySelector(".input"); r && (r.placeholder = ""), setTimeout(() => { const s = document.createElement("span"); s.classList.add("is-answer"), s.innerHTML = `&gt; Welcome, ${Mt} !`, e.appendChild(s), e.scrollTop = e.scrollHeight, setTimeout(() => { const o = document.createElement("span"); o.classList.add("is-answer"), o.innerHTML = "&gt; Here is a list of available commands:", e.appendChild(o), e.scrollTop = e.scrollHeight; const l = document.querySelector(".commands_list").querySelectorAll(".commands_item"); l.forEach((c, u) => { setTimeout(() => { const h = document.createElement("div"); h.classList.add("is-answer", "commands_item"), h.style.display = "flex", h.innerHTML = `&gt;&nbsp;${c.innerHTML}`, e.appendChild(h), e.scrollTop = e.scrollHeight, u === l.length - 1 && ye() }, u * 100 + 100) }) }, 400) }, 100) } else { const r = document.createElement("span"); r.classList.add("is-answer"), r.innerHTML = '&gt; Veuillez entrer un nom apr\xE8s "user"', e.appendChild(r), e.scrollTop = e.scrollHeight, ye() } return } if (a.toLowerCase() === "serp") { const n = document.querySelector(".is--ascii"); if (n) { setTimeout(() => { const r = document.createElement("span"); r.classList.add("is-answer"), r.innerHTML = `&gt; ${n.innerHTML}`, e.appendChild(r), e.scrollTop = e.scrollHeight, ye() }, 100); return } } const i = document.querySelector(`.commands_item[data-command="${a}"]`); if (i) {
      const n = i.getAttribute("data-response"); if (n) {
        if (a === "26-7") {
          const s = n.split("---").map(c => c.trim()).filter(Boolean), l = s[Math.floor(Math.random() * s.length)].split(`
`); l.forEach((c, u) => { setTimeout(() => { const h = document.createElement("span"); h.classList.add("is-answer"); const d = c.replace(/\[name\]/gi, Mt); h.innerHTML = `&gt; ${d}`, e.appendChild(h), e.scrollTop = e.scrollHeight, u === l.length - 1 && ye() }, u * 100) }); return
        } const r = n.split(`
`); r.forEach((s, o) => { setTimeout(() => { const l = document.createElement("span"); l.classList.add("is-answer"); const c = s.replace(/\[name\]/gi, Mt); l.innerHTML = `&gt; ${c}`, e.appendChild(l), e.scrollTop = e.scrollHeight, o === r.length - 1 && ye() }, o * 100) })
      }
    } else setTimeout(() => { const n = document.createElement("span"); n.classList.add("is-answer"), n.innerHTML = `&gt; Command not found: "${a}"`, e.appendChild(n), e.scrollTop = e.scrollHeight, ye() }, 100)
  } function hr(a) { const e = a.cloneNode(!0), t = window.getComputedStyle(a), i = t.getPropertyValue("font-size"), n = t.getPropertyValue("line-height"); e.style.position = "absolute", e.style.visibility = "hidden", e.style.height = "auto", e.style.width = t.width, e.style.whiteSpace = "normal", e.style.padding = t.padding, e.style.font = t.font, e.style.letterSpacing = t.letterSpacing, e.style.wordSpacing = t.wordSpacing, e.style.lineHeight = n, e.style.maxWidth = t.maxWidth, e.style.fontSize = i, document.body.appendChild(e); const r = e.getBoundingClientRect().height, s = parseFloat(n), o = Math.round(r / s); return document.body.removeChild(e), o } function Qe() { const a = document.querySelector("#target"), e = document.querySelector(".chevrons"); if (a && e) { const t = hr(a); e.innerHTML = ""; for (let i = 0; i < t; i++) { const n = document.createElement("span"); n.classList.add("chevron"), n.innerHTML = "&gt;", e.appendChild(n) } } document.querySelectorAll(".is-manifesto-text").forEach(t => { var n; const i = (n = t.closest(".manifesto_inner")) == null ? void 0 : n.querySelector(".chevrons"); if (t && i) { const r = hr(t); i.innerHTML = ""; for (let s = 0; s < r; s++) { const o = document.createElement("span"); o.classList.add("chevron"), o.innerHTML = "&gt;", i.appendChild(o) } } }) } function ye() { document.querySelectorAll(".is-terminal-text").forEach(a => { const n = a.innerHTML.split("<br>").map(r => r.replace(/&gt;\s*/, "")).map(r => { const s = r.match(/^\s*/)[0], o = r.trim(); return `${s}&gt; ${o}` }); a.innerHTML = n.join("<br>") }), typeof Di == "function" && Di() } function $s() { cr(), lr(); const a = document.querySelector(".input"), e = document.querySelector(".terminal_inner"); a.placeholder = 'Enter "user" + your name'; const t = document.querySelector(".button"); a && e && t && (a.addEventListener("keydown", function (s) { if (s.key === "Enter") { const o = a.value.trim().toLowerCase(); o && (ur(o, e), a.value = "") } }), t.addEventListener("click", function () { const s = a.value.trim().toLowerCase(); s && (ur(s, e), a.value = "") })), Di = Qe, Qe(); const i = new ResizeObserver(() => { Qe() }), n = document.querySelector(".terminal_inner"); n && i.observe(n); const r = document.querySelector("#target"); r && i.observe(r), ye() } function fr(a, e) { for (var t = 0; t < e.length; t++) { var i = e[t]; i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(a, typeof (n = function (r, s) { if (typeof r != "object" || r === null) return r; var o = r[Symbol.toPrimitive]; if (o !== void 0) { var l = o.call(r, "string"); if (typeof l != "object") return l; throw new TypeError("@@toPrimitive must return a primitive value.") } return String(r) }(i.key)) == "symbol" ? n : String(n), i) } var n } function zi(a, e, t) { return e && fr(a.prototype, e), t && fr(a, t), Object.defineProperty(a, "prototype", { writable: !1 }), a } function ve() { return ve = Object.assign ? Object.assign.bind() : function (a) { for (var e = 1; e < arguments.length; e++) { var t = arguments[e]; for (var i in t) Object.prototype.hasOwnProperty.call(t, i) && (a[i] = t[i]) } return a }, ve.apply(this, arguments) } function Qt(a, e) { a.prototype = Object.create(e.prototype), a.prototype.constructor = a, Ot(a, e) } function qi(a) { return qi = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function (e) { return e.__proto__ || Object.getPrototypeOf(e) }, qi(a) } function Ot(a, e) { return Ot = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function (t, i) { return t.__proto__ = i, t }, Ot(a, e) } function js() { if (typeof Reflect == "undefined" || !Reflect.construct || Reflect.construct.sham) return !1; if (typeof Proxy == "function") return !0; try { return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () { })), !0 } catch { return !1 } } function Ii(a, e, t) { return Ii = js() ? Reflect.construct.bind() : function (i, n, r) { var s = [null]; s.push.apply(s, n); var o = new (Function.bind.apply(i, s)); return r && Ot(o, r.prototype), o }, Ii.apply(null, arguments) } function Bi(a) { var e = typeof Map == "function" ? new Map : void 0; return Bi = function (t) { if (t === null || Function.toString.call(t).indexOf("[native code]") === -1) return t; if (typeof t != "function") throw new TypeError("Super expression must either be null or a function"); if (e !== void 0) { if (e.has(t)) return e.get(t); e.set(t, i) } function i() { return Ii(t, arguments, qi(this).constructor) } return i.prototype = Object.create(t.prototype, { constructor: { value: i, enumerable: !1, writable: !0, configurable: !0 } }), Ot(i, t) }, Bi(a) } function Xs(a) { if (a === void 0) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return a } var Ie, Ys = function () { this.before = void 0, this.beforeLeave = void 0, this.leave = void 0, this.afterLeave = void 0, this.beforeEnter = void 0, this.enter = void 0, this.afterEnter = void 0, this.after = void 0 }; (function (a) { a[a.off = 0] = "off", a[a.error = 1] = "error", a[a.warning = 2] = "warning", a[a.info = 3] = "info", a[a.debug = 4] = "debug" })(Ie || (Ie = {})); var dr = Ie.off, Ke = function () { function a(t) { this.t = void 0, this.t = t } a.getLevel = function () { return dr }, a.setLevel = function (t) { return dr = Ie[t] }; var e = a.prototype; return e.error = function () { this.i(console.error, Ie.error, [].slice.call(arguments)) }, e.warn = function () { this.i(console.warn, Ie.warning, [].slice.call(arguments)) }, e.info = function () { this.i(console.info, Ie.info, [].slice.call(arguments)) }, e.debug = function () { this.i(console.log, Ie.debug, [].slice.call(arguments)) }, e.i = function (t, i, n) { i <= a.getLevel() && t.apply(console, ["[" + this.t + "] "].concat(n)) }, a }(); function ht(a) { return a.replace(/([.+*?=^!:${}()[\]|/\\])/g, "\\$1") } function mr(a) { return a && a.sensitive ? "" : "i" } var be = { container: "container", history: "history", namespace: "namespace", prefix: "data-barba", prevent: "prevent", wrapper: "wrapper" }, Ze = new (function () { function a() { this.o = be, this.u = void 0, this.h = { after: null, before: null, parent: null } } var e = a.prototype; return e.toString = function (t) { return t.outerHTML }, e.toDocument = function (t) { return this.u || (this.u = new DOMParser), this.u.parseFromString(t, "text/html") }, e.toElement = function (t) { var i = document.createElement("div"); return i.innerHTML = t, i }, e.getHtml = function (t) { return t === void 0 && (t = document), this.toString(t.documentElement) }, e.getWrapper = function (t) { return t === void 0 && (t = document), t.querySelector("[" + this.o.prefix + '="' + this.o.wrapper + '"]') }, e.getContainer = function (t) { return t === void 0 && (t = document), t.querySelector("[" + this.o.prefix + '="' + this.o.container + '"]') }, e.removeContainer = function (t) { document.body.contains(t) && (this.v(t), t.parentNode.removeChild(t)) }, e.addContainer = function (t, i) { var n = this.getContainer() || this.h.before; n ? this.l(t, n) : this.h.after ? this.h.after.parentNode.insertBefore(t, this.h.after) : this.h.parent ? this.h.parent.appendChild(t) : i.appendChild(t) }, e.getSibling = function () { return this.h }, e.getNamespace = function (t) { t === void 0 && (t = document); var i = t.querySelector("[" + this.o.prefix + "-" + this.o.namespace + "]"); return i ? i.getAttribute(this.o.prefix + "-" + this.o.namespace) : null }, e.getHref = function (t) { if (t.tagName && t.tagName.toLowerCase() === "a") { if (typeof t.href == "string") return t.href; var i = t.getAttribute("href") || t.getAttribute("xlink:href"); if (i) return this.resolveUrl(i.baseVal || i) } return null }, e.resolveUrl = function () { var t = [].slice.call(arguments).length; if (t === 0) throw new Error("resolveUrl requires at least one argument; got none."); var i = document.createElement("base"); if (i.href = arguments[0], t === 1) return i.href; var n = document.getElementsByTagName("head")[0]; n.insertBefore(i, n.firstChild); for (var r, s = document.createElement("a"), o = 1; o < t; o++)s.href = arguments[o], i.href = r = s.href; return n.removeChild(i), r }, e.l = function (t, i) { i.parentNode.insertBefore(t, i.nextSibling) }, e.v = function (t) { return this.h = { after: t.nextElementSibling, before: t.previousElementSibling, parent: t.parentElement }, this.h }, a }()), Qs = function () { function a() { this.p = void 0, this.m = [], this.P = -1 } var e = a.prototype; return e.init = function (t, i) { this.p = "barba"; var n = { data: {}, ns: i, scroll: { x: window.scrollX, y: window.scrollY }, url: t }; this.P = 0, this.m.push(n); var r = { from: this.p, index: this.P, states: [].concat(this.m) }; window.history && window.history.replaceState(r, "", t) }, e.change = function (t, i, n) { if (n && n.state) { var r = n.state, s = r.index; i = this.g(this.P - s), this.replace(r.states), this.P = s } else this.add(t, i); return i }, e.add = function (t, i, n, r) { var s = n != null ? n : this.R(i), o = { data: r != null ? r : {}, ns: "tmp", scroll: { x: window.scrollX, y: window.scrollY }, url: t }; switch (s) { case "push": this.P = this.size, this.m.push(o); break; case "replace": this.set(this.P, o) }var l = { from: this.p, index: this.P, states: [].concat(this.m) }; switch (s) { case "push": window.history && window.history.pushState(l, "", t); break; case "replace": window.history && window.history.replaceState(l, "", t) } }, e.store = function (t, i) { var n = i || this.P, r = this.get(n); r.data = ve({}, r.data, t), this.set(n, r); var s = { from: this.p, index: this.P, states: [].concat(this.m) }; window.history.replaceState(s, "") }, e.update = function (t, i) { var n = i || this.P, r = ve({}, this.get(n), t); this.set(n, r) }, e.remove = function (t) { t ? this.m.splice(t, 1) : this.m.pop(), this.P-- }, e.clear = function () { this.m = [], this.P = -1 }, e.replace = function (t) { this.m = t }, e.get = function (t) { return this.m[t] }, e.set = function (t, i) { return this.m[t] = i }, e.R = function (t) { var i = "push", n = t, r = be.prefix + "-" + be.history; return n.hasAttribute && n.hasAttribute(r) && (i = n.getAttribute(r)), i }, e.g = function (t) { return Math.abs(t) > 1 ? t > 0 ? "forward" : "back" : t === 0 ? "popstate" : t > 0 ? "back" : "forward" }, zi(a, [{ key: "current", get: function () { return this.m[this.P] } }, { key: "previous", get: function () { return this.P < 1 ? null : this.m[this.P - 1] } }, { key: "size", get: function () { return this.m.length } }]), a }(), pr = new Qs, Kt = function (a, e) { try { var t = function () { if (!e.next.html) return Promise.resolve(a).then(function (i) { var n = e.next; if (i) { var r = Ze.toElement(i.html); n.namespace = Ze.getNamespace(r), n.container = Ze.getContainer(r), n.url = i.url, n.html = i.html, pr.update({ ns: n.namespace }); var s = Ze.toDocument(i.html); document.title = s.title } }) }(); return Promise.resolve(t && t.then ? t.then(function () { }) : void 0) } catch (i) { return Promise.reject(i) } }, gr = function a(e, t, i) { return e instanceof RegExp ? function (n, r) { if (!r) return n; for (var s = /\((?:\?<(.*?)>)?(?!\?)/g, o = 0, l = s.exec(n.source); l;)r.push({ name: l[1] || o++, prefix: "", suffix: "", modifier: "", pattern: "" }), l = s.exec(n.source); return n }(e, t) : Array.isArray(e) ? function (n, r, s) { var o = n.map(function (l) { return a(l, r, s).source }); return new RegExp("(?:".concat(o.join("|"), ")"), mr(s)) }(e, t, i) : function (n, r, s) { return function (o, l, c) { c === void 0 && (c = {}); for (var u = c.strict, h = u !== void 0 && u, d = c.start, m = d === void 0 || d, p = c.end, f = p === void 0 || p, _ = c.encode, g = _ === void 0 ? function (A) { return A } : _, y = c.delimiter, v = y === void 0 ? "/#?" : y, x = c.endsWith, b = "[".concat(ht(x === void 0 ? "" : x), "]|$"), w = "[".concat(ht(v), "]"), T = m ? "^" : "", P = 0, S = o; P < S.length; P++) { var C = S[P]; if (typeof C == "string") T += ht(g(C)); else { var M = ht(g(C.prefix)), k = ht(g(C.suffix)); if (C.pattern) if (l && l.push(C), M || k) if (C.modifier === "+" || C.modifier === "*") { var O = C.modifier === "*" ? "?" : ""; T += "(?:".concat(M, "((?:").concat(C.pattern, ")(?:").concat(k).concat(M, "(?:").concat(C.pattern, "))*)").concat(k, ")").concat(O) } else T += "(?:".concat(M, "(").concat(C.pattern, ")").concat(k, ")").concat(C.modifier); else T += C.modifier === "+" || C.modifier === "*" ? "((?:".concat(C.pattern, ")").concat(C.modifier, ")") : "(".concat(C.pattern, ")").concat(C.modifier); else T += "(?:".concat(M).concat(k, ")").concat(C.modifier) } } if (f) h || (T += "".concat(w, "?")), T += c.endsWith ? "(?=".concat(b, ")") : "$"; else { var E = o[o.length - 1], L = typeof E == "string" ? w.indexOf(E[E.length - 1]) > -1 : E === void 0; h || (T += "(?:".concat(w, "(?=").concat(b, "))?")), L || (T += "(?=".concat(w, "|").concat(b, ")")) } return new RegExp(T, mr(c)) }(function (o, l) { l === void 0 && (l = {}); for (var c = function (k) { for (var O = [], E = 0; E < k.length;) { var L = k[E]; if (L !== "*" && L !== "+" && L !== "?") if (L !== "\\") if (L !== "{") if (L !== "}") if (L !== ":") if (L !== "(") O.push({ type: "CHAR", index: E, value: k[E++] }); else { var A = 1, B = ""; if (k[D = E + 1] === "?") throw new TypeError('Pattern cannot start with "?" at '.concat(D)); for (; D < k.length;)if (k[D] !== "\\") { if (k[D] === ")") { if (--A == 0) { D++; break } } else if (k[D] === "(" && (A++, k[D + 1] !== "?")) throw new TypeError("Capturing groups are not allowed at ".concat(D)); B += k[D++] } else B += k[D++] + k[D++]; if (A) throw new TypeError("Unbalanced pattern at ".concat(E)); if (!B) throw new TypeError("Missing pattern at ".concat(E)); O.push({ type: "PATTERN", index: E, value: B }), E = D } else { for (var Y = "", D = E + 1; D < k.length;) { var Q = k.charCodeAt(D); if (!(Q >= 48 && Q <= 57 || Q >= 65 && Q <= 90 || Q >= 97 && Q <= 122 || Q === 95)) break; Y += k[D++] } if (!Y) throw new TypeError("Missing parameter name at ".concat(E)); O.push({ type: "NAME", index: E, value: Y }), E = D } else O.push({ type: "CLOSE", index: E, value: k[E++] }); else O.push({ type: "OPEN", index: E, value: k[E++] }); else O.push({ type: "ESCAPED_CHAR", index: E++, value: k[E++] }); else O.push({ type: "MODIFIER", index: E, value: k[E++] }) } return O.push({ type: "END", index: E, value: "" }), O }(o), u = l.prefixes, h = u === void 0 ? "./" : u, d = "[^".concat(ht(l.delimiter || "/#?"), "]+?"), m = [], p = 0, f = 0, _ = "", g = function (k) { if (f < c.length && c[f].type === k) return c[f++].value }, y = function (k) { var O = g(k); if (O !== void 0) return O; var E = c[f], L = E.index; throw new TypeError("Unexpected ".concat(E.type, " at ").concat(L, ", expected ").concat(k)) }, v = function () { for (var k, O = ""; k = g("CHAR") || g("ESCAPED_CHAR");)O += k; return O }; f < c.length;) { var x = g("CHAR"), b = g("NAME"), w = g("PATTERN"); if (b || w) h.indexOf(P = x || "") === -1 && (_ += P, P = ""), _ && (m.push(_), _ = ""), m.push({ name: b || p++, prefix: P, suffix: "", pattern: w || d, modifier: g("MODIFIER") || "" }); else { var T = x || g("ESCAPED_CHAR"); if (T) _ += T; else if (_ && (m.push(_), _ = ""), g("OPEN")) { var P = v(), S = g("NAME") || "", C = g("PATTERN") || "", M = v(); y("CLOSE"), m.push({ name: S || (C ? p++ : ""), pattern: S && !C ? d : C, prefix: P, suffix: M, modifier: g("MODIFIER") || "" }) } else y("END") } } return m }(n, s), r, s) }(e, t, i) }, Ks = { __proto__: null, update: Kt, nextTick: function () { return new Promise(function (a) { window.requestAnimationFrame(a) }) }, pathToRegexp: gr }, _r = function () { return window.location.origin }, Lt = function (a) { return a === void 0 && (a = window.location.href), Be(a).port }, Be = function (a) { var e, t = a.match(/:\d+/); if (t === null) /^http/.test(a) && (e = 80), /^https/.test(a) && (e = 443); else { var i = t[0].substring(1); e = parseInt(i, 10) } var n, r = a.replace(_r(), ""), s = {}, o = r.indexOf("#"); o >= 0 && (n = r.slice(o + 1), r = r.slice(0, o)); var l = r.indexOf("?"); return l >= 0 && (s = yr(r.slice(l + 1)), r = r.slice(0, l)), { hash: n, path: r, port: e, query: s } }, yr = function (a) { return a.split("&").reduce(function (e, t) { var i = t.split("="); return e[i[0]] = i[1], e }, {}) }, Hi = function (a) { return a === void 0 && (a = window.location.href), a.replace(/(\/#.*|\/|#.*)$/, "") }, Zs = { __proto__: null, getHref: function () { return window.location.href }, getAbsoluteHref: function (a, e) { return e === void 0 && (e = document.baseURI), new URL(a, e).href }, getOrigin: _r, getPort: Lt, getPath: function (a) { return a === void 0 && (a = window.location.href), Be(a).path }, getQuery: function (a, e) { return e === void 0 && (e = !1), e ? JSON.stringify(Be(a).query) : Be(a).query }, getHash: function (a) { return Be(a).hash }, parse: Be, parseQuery: yr, clean: Hi }; function Js(a, e, t, i, n) { return e === void 0 && (e = 2e3), new Promise(function (r, s) { var o = new XMLHttpRequest; o.onreadystatechange = function () { if (o.readyState === XMLHttpRequest.DONE) { if (o.status === 200) { var l = o.responseURL !== "" && o.responseURL !== a ? o.responseURL : a; r({ html: o.responseText, url: ve({ href: l }, Be(l)) }), i.update(a, { status: "fulfilled", target: l }) } else if (o.status) { var c = { status: o.status, statusText: o.statusText }; t(a, c), s(c), i.update(a, { status: "rejected" }) } } }, o.ontimeout = function () { var l = new Error("Timeout error [" + e + "]"); t(a, l), s(l), i.update(a, { status: "rejected" }) }, o.onerror = function () { var l = new Error("Fetch error"); t(a, l), s(l), i.update(a, { status: "rejected" }) }, o.open("GET", a), o.timeout = e, o.setRequestHeader("Accept", "text/html,application/xhtml+xml,application/xml"), o.setRequestHeader("x-barba", "yes"), n.all().forEach(function (l, c) { o.setRequestHeader(c, l) }), o.send() }) } function eo(a) { return !!a && (typeof a == "object" || typeof a == "function") && typeof a.then == "function" } function ft(a, e) { return e === void 0 && (e = {}), function () { var t = arguments, i = !1, n = new Promise(function (r, s) { e.async = function () { return i = !0, function (l, c) { l ? s(l) : r(c) } }; var o = a.apply(e, [].slice.call(t)); i || (eo(o) ? o.then(r, s) : r(o)) }); return n } } var He = new (function (a) { function e() { var i; return (i = a.call(this) || this).logger = new Ke("@barba/core"), i.all = ["ready", "page", "reset", "currentAdded", "currentRemoved", "nextAdded", "nextRemoved", "beforeOnce", "once", "afterOnce", "before", "beforeLeave", "leave", "afterLeave", "beforeEnter", "enter", "afterEnter", "after"], i.registered = new Map, i.init(), i } Qt(e, a); var t = e.prototype; return t.init = function () { var i = this; this.registered.clear(), this.all.forEach(function (n) { i[n] || (i[n] = function (r, s) { i.registered.has(n) || i.registered.set(n, new Set), i.registered.get(n).add({ ctx: s || {}, fn: r }) }) }) }, t.do = function (i) { var n = arguments, r = this; if (this.registered.has(i)) { var s = Promise.resolve(); return this.registered.get(i).forEach(function (o) { s = s.then(function () { return ft(o.fn, o.ctx).apply(void 0, [].slice.call(n, 1)) }) }), s.catch(function (o) { r.logger.debug("Hook error [" + i + "]"), r.logger.error(o) }) } return Promise.resolve() }, t.clear = function () { var i = this; this.all.forEach(function (n) { delete i[n] }), this.init() }, t.help = function () { this.logger.info("Available hooks: " + this.all.join(",")); var i = []; this.registered.forEach(function (n, r) { return i.push(r) }), this.logger.info("Registered hooks: " + i.join(",")) }, e }(Ys)), vr = function () { function a(e) { if (this.k = void 0, this.O = [], typeof e == "boolean") this.k = e; else { var t = Array.isArray(e) ? e : [e]; this.O = t.map(function (i) { return gr(i) }) } } return a.prototype.checkHref = function (e) { if (typeof this.k == "boolean") return this.k; var t = Be(e).path; return this.O.some(function (i) { return i.exec(t) !== null }) }, a }(), to = function (a) { function e(i) { var n; return (n = a.call(this, i) || this).T = new Map, n } Qt(e, a); var t = e.prototype; return t.set = function (i, n, r, s, o) { return this.T.set(i, { action: r, request: n, status: s, target: o != null ? o : i }), { action: r, request: n, status: s, target: o } }, t.get = function (i) { return this.T.get(i) }, t.getRequest = function (i) { return this.T.get(i).request }, t.getAction = function (i) { return this.T.get(i).action }, t.getStatus = function (i) { return this.T.get(i).status }, t.getTarget = function (i) { return this.T.get(i).target }, t.has = function (i) { return !this.checkHref(i) && this.T.has(i) }, t.delete = function (i) { return this.T.delete(i) }, t.update = function (i, n) { var r = ve({}, this.T.get(i), n); return this.T.set(i, r), r }, e }(vr), io = function () { function a() { this.A = new Map } var e = a.prototype; return e.set = function (t, i) { return this.A.set(t, i), { name: i } }, e.get = function (t) { return this.A.get(t) }, e.all = function () { return this.A }, e.has = function (t) { return this.A.has(t) }, e.delete = function (t) { return this.A.delete(t) }, e.clear = function () { return this.A.clear() }, a }(), no = function () { return !window.history.pushState }, ro = function (a) { return !a.el || !a.href }, so = function (a) { var e = a.event; return e.which > 1 || e.metaKey || e.ctrlKey || e.shiftKey || e.altKey }, oo = function (a) { var e = a.el; return e.hasAttribute("target") && e.target === "_blank" }, ao = function (a) { var e = a.el; return e.protocol !== void 0 && window.location.protocol !== e.protocol || e.hostname !== void 0 && window.location.hostname !== e.hostname }, lo = function (a) { var e = a.el; return e.port !== void 0 && Lt() !== Lt(e.href) }, co = function (a) { var e = a.el; return e.getAttribute && typeof e.getAttribute("download") == "string" }, uo = function (a) { return a.el.hasAttribute(be.prefix + "-" + be.prevent) }, ho = function (a) { return Boolean(a.el.closest("[" + be.prefix + "-" + be.prevent + '="all"]')) }, fo = function (a) { var e = a.href; return Hi(e) === Hi() && Lt(e) === Lt() }, mo = function (a) { function e(i) { var n; return (n = a.call(this, i) || this).suite = [], n.tests = new Map, n.init(), n } Qt(e, a); var t = e.prototype; return t.init = function () { this.add("pushState", no), this.add("exists", ro), this.add("newTab", so), this.add("blank", oo), this.add("corsDomain", ao), this.add("corsPort", lo), this.add("download", co), this.add("preventSelf", uo), this.add("preventAll", ho), this.add("sameUrl", fo, !1) }, t.add = function (i, n, r) { r === void 0 && (r = !0), this.tests.set(i, n), r && this.suite.push(i) }, t.run = function (i, n, r, s) { return this.tests.get(i)({ el: n, event: r, href: s }) }, t.checkLink = function (i, n, r) { var s = this; return this.suite.some(function (o) { return s.run(o, i, n, r) }) }, e }(vr), Ni = function (a) { function e(t, i) { var n; return i === void 0 && (i = "Barba error"), (n = a.call.apply(a, [this].concat([].slice.call(arguments, 2))) || this).error = void 0, n.label = void 0, n.error = t, n.label = i, Error.captureStackTrace && Error.captureStackTrace(Xs(n), e), n.name = "BarbaError", n } return Qt(e, a), e }(Bi(Error)), po = function () { function a(t) { t === void 0 && (t = []), this.logger = new Ke("@barba/core"), this.all = [], this.page = [], this.once = [], this.j = [{ name: "namespace", type: "strings" }, { name: "custom", type: "function" }], t && (this.all = this.all.concat(t)), this.update() } var e = a.prototype; return e.add = function (t, i) { t === "rule" ? this.j.splice(i.position || 0, 0, i.value) : this.all.push(i), this.update() }, e.resolve = function (t, i) { var n = this; i === void 0 && (i = {}); var r = i.once ? this.once : this.page; r = r.filter(i.self ? function (d) { return d.name && d.name === "self" } : function (d) { return !d.name || d.name !== "self" }); var s = new Map, o = r.find(function (d) { var m = !0, p = {}; return i.self && d.name === "self" ? (s.set(d, p), !0) : (n.j.reverse().forEach(function (f) { m && (m = n.M(d, f, t, p), d.from && d.to && (m = n.M(d, f, t, p, "from") && n.M(d, f, t, p, "to")), d.from && !d.to && (m = n.M(d, f, t, p, "from")), !d.from && d.to && (m = n.M(d, f, t, p, "to"))) }), s.set(d, p), m) }), l = s.get(o), c = []; if (c.push(i.once ? "once" : "page"), i.self && c.push("self"), l) { var u, h = [o]; Object.keys(l).length > 0 && h.push(l), (u = this.logger).info.apply(u, ["Transition found [" + c.join(",") + "]"].concat(h)) } else this.logger.info("No transition found [" + c.join(",") + "]"); return o }, e.update = function () { var t = this; this.all = this.all.map(function (i) { return t.N(i) }).sort(function (i, n) { return i.priority - n.priority }).reverse().map(function (i) { return delete i.priority, i }), this.page = this.all.filter(function (i) { return i.leave !== void 0 || i.enter !== void 0 }), this.once = this.all.filter(function (i) { return i.once !== void 0 }) }, e.M = function (t, i, n, r, s) { var o = !0, l = !1, c = t, u = i.name, h = u, d = u, m = u, p = s ? c[s] : c, f = s === "to" ? n.next : n.current; if (s ? p && p[u] : p[u]) { switch (i.type) { case "strings": default: var _ = Array.isArray(p[h]) ? p[h] : [p[h]]; f[h] && _.indexOf(f[h]) !== -1 && (l = !0), _.indexOf(f[h]) === -1 && (o = !1); break; case "object": var g = Array.isArray(p[d]) ? p[d] : [p[d]]; f[d] ? (f[d].name && g.indexOf(f[d].name) !== -1 && (l = !0), g.indexOf(f[d].name) === -1 && (o = !1)) : o = !1; break; case "function": p[m](n) ? l = !0 : o = !1 }l && (s ? (r[s] = r[s] || {}, r[s][u] = c[s][u]) : r[u] = c[u]) } return o }, e.S = function (t, i, n) { var r = 0; return (t[i] || t.from && t.from[i] || t.to && t.to[i]) && (r += Math.pow(10, n), t.from && t.from[i] && (r += 1), t.to && t.to[i] && (r += 2)), r }, e.N = function (t) { var i = this; t.priority = 0; var n = 0; return this.j.forEach(function (r, s) { n += i.S(t, r.name, s + 1) }), t.priority = n, t }, a }(); function At(a, e) { try { var t = a() } catch (i) { return e(i) } return t && t.then ? t.then(void 0, e) : t } var go = function () { function a(t) { t === void 0 && (t = []), this.logger = new Ke("@barba/core"), this.store = void 0, this.C = !1, this.store = new po(t) } var e = a.prototype; return e.get = function (t, i) { return this.store.resolve(t, i) }, e.doOnce = function (t) { var i = t.data, n = t.transition; try { var r = function () { s.C = !1 }, s = this, o = n || {}; s.C = !0; var l = At(function () { return Promise.resolve(s.L("beforeOnce", i, o)).then(function () { return Promise.resolve(s.once(i, o)).then(function () { return Promise.resolve(s.L("afterOnce", i, o)).then(function () { }) }) }) }, function (c) { s.C = !1, s.logger.debug("Transition error [before/after/once]"), s.logger.error(c) }); return Promise.resolve(l && l.then ? l.then(r) : r()) } catch (c) { return Promise.reject(c) } }, e.doPage = function (t) { var i = t.data, n = t.transition, r = t.page, s = t.wrapper; try { var o = function (d) { l.C = !1 }, l = this, c = n || {}, u = c.sync === !0 || !1; l.C = !0; var h = At(function () { function d() { return Promise.resolve(l.L("before", i, c)).then(function () { function p(_) { return Promise.resolve(l.remove(i)).then(function () { return Promise.resolve(l.L("after", i, c)).then(function () { }) }) } var f = function () { if (u) return At(function () { return Promise.resolve(l.add(i, s)).then(function () { return Promise.resolve(l.L("beforeLeave", i, c)).then(function () { return Promise.resolve(l.L("beforeEnter", i, c)).then(function () { return Promise.resolve(Promise.all([l.leave(i, c), l.enter(i, c)])).then(function () { return Promise.resolve(l.L("afterLeave", i, c)).then(function () { return Promise.resolve(l.L("afterEnter", i, c)).then(function () { }) }) }) }) }) }) }, function (v) { if (l.H(v)) throw new Ni(v, "Transition error [sync]") }); var _ = function (v) { return At(function () { var x = function () { if (g !== !1) return Promise.resolve(l.add(i, s)).then(function () { return Promise.resolve(l.L("beforeEnter", i, c)).then(function () { return Promise.resolve(l.enter(i, c, g)).then(function () { return Promise.resolve(l.L("afterEnter", i, c)).then(function () { }) }) }) }) }(); if (x && x.then) return x.then(function () { }) }, function (x) { if (l.H(x)) throw new Ni(x, "Transition error [before/after/enter]") }) }, g = !1, y = At(function () { return Promise.resolve(l.L("beforeLeave", i, c)).then(function () { return Promise.resolve(Promise.all([l.leave(i, c), Kt(r, i)]).then(function (v) { return v[0] })).then(function (v) { return g = v, Promise.resolve(l.L("afterLeave", i, c)).then(function () { }) }) }) }, function (v) { if (l.H(v)) throw new Ni(v, "Transition error [before/after/leave]") }); return y && y.then ? y.then(_) : _() }(); return f && f.then ? f.then(p) : p() }) } var m = function () { if (u) return Promise.resolve(Kt(r, i)).then(function () { }) }(); return m && m.then ? m.then(d) : d() }, function (d) { throw l.C = !1, d.name && d.name === "BarbaError" ? (l.logger.debug(d.label), l.logger.error(d.error), d) : (l.logger.debug("Transition error [page]"), l.logger.error(d), d) }); return Promise.resolve(h && h.then ? h.then(o) : o()) } catch (d) { return Promise.reject(d) } }, e.once = function (t, i) { try { return Promise.resolve(He.do("once", t, i)).then(function () { return i.once ? ft(i.once, i)(t) : Promise.resolve() }) } catch (n) { return Promise.reject(n) } }, e.leave = function (t, i) { try { return Promise.resolve(He.do("leave", t, i)).then(function () { return i.leave ? ft(i.leave, i)(t) : Promise.resolve() }) } catch (n) { return Promise.reject(n) } }, e.enter = function (t, i, n) { try { return Promise.resolve(He.do("enter", t, i)).then(function () { return i.enter ? ft(i.enter, i)(t, n) : Promise.resolve() }) } catch (r) { return Promise.reject(r) } }, e.add = function (t, i) { try { return Ze.addContainer(t.next.container, i), He.do("nextAdded", t), Promise.resolve() } catch (n) { return Promise.reject(n) } }, e.remove = function (t) { try { return Ze.removeContainer(t.current.container), He.do("currentRemoved", t), Promise.resolve() } catch (i) { return Promise.reject(i) } }, e.H = function (t) { return t.message ? !/Timeout error|Fetch error/.test(t.message) : !t.status }, e.L = function (t, i, n) { try { return Promise.resolve(He.do(t, i, n)).then(function () { return n[t] ? ft(n[t], n)(i) : Promise.resolve() }) } catch (r) { return Promise.reject(r) } }, zi(a, [{ key: "isRunning", get: function () { return this.C }, set: function (t) { this.C = t } }, { key: "hasOnce", get: function () { return this.store.once.length > 0 } }, { key: "hasSelf", get: function () { return this.store.all.some(function (t) { return t.name === "self" }) } }, { key: "shouldWait", get: function () { return this.store.all.some(function (t) { return t.to && !t.to.route || t.sync }) } }]), a }(), _o = function () { function a(e) { var t = this; this.names = ["beforeLeave", "afterLeave", "beforeEnter", "afterEnter"], this.byNamespace = new Map, e.length !== 0 && (e.forEach(function (i) { t.byNamespace.set(i.namespace, i) }), this.names.forEach(function (i) { He[i](t._(i)) })) } return a.prototype._ = function (e) { var t = this; return function (i) { var n = e.match(/enter/i) ? i.next : i.current, r = t.byNamespace.get(n.namespace); return r && r[e] ? ft(r[e], r)(i) : Promise.resolve() } }, a }(); Element.prototype.matches || (Element.prototype.matches = Element.prototype.msMatchesSelector || Element.prototype.webkitMatchesSelector), Element.prototype.closest || (Element.prototype.closest = function (a) { var e = this; do { if (e.matches(a)) return e; e = e.parentElement || e.parentNode } while (e !== null && e.nodeType === 1); return null }); var yo = { container: null, html: "", namespace: "", url: { hash: "", href: "", path: "", port: null, query: {} } }, Je = new (function () { function a() { this.version = "2.10.3", this.schemaPage = yo, this.Logger = Ke, this.logger = new Ke("@barba/core"), this.plugins = [], this.timeout = void 0, this.cacheIgnore = void 0, this.cacheFirstPage = void 0, this.prefetchIgnore = void 0, this.preventRunning = void 0, this.hooks = He, this.cache = void 0, this.headers = void 0, this.prevent = void 0, this.transitions = void 0, this.views = void 0, this.dom = Ze, this.helpers = Ks, this.history = pr, this.request = Js, this.url = Zs, this.D = void 0, this.B = void 0, this.q = void 0, this.F = void 0 } var e = a.prototype; return e.use = function (t, i) { var n = this.plugins; n.indexOf(t) > -1 ? this.logger.warn("Plugin [" + t.name + "] already installed.") : typeof t.install == "function" ? (t.install(this, i), n.push(t)) : this.logger.warn("Plugin [" + t.name + '] has no "install" method.') }, e.init = function (t) { var i = t === void 0 ? {} : t, n = i.transitions, r = n === void 0 ? [] : n, s = i.views, o = s === void 0 ? [] : s, l = i.schema, c = l === void 0 ? be : l, u = i.requestError, h = i.timeout, d = h === void 0 ? 2e3 : h, m = i.cacheIgnore, p = m !== void 0 && m, f = i.cacheFirstPage, _ = f !== void 0 && f, g = i.prefetchIgnore, y = g !== void 0 && g, v = i.preventRunning, x = v !== void 0 && v, b = i.prevent, w = b === void 0 ? null : b, T = i.debug, P = i.logLevel; if (Ke.setLevel((T !== void 0 && T) === !0 ? "debug" : P === void 0 ? "off" : P), this.logger.info(this.version), Object.keys(c).forEach(function (M) { be[M] && (be[M] = c[M]) }), this.B = u, this.timeout = d, this.cacheIgnore = p, this.cacheFirstPage = _, this.prefetchIgnore = y, this.preventRunning = x, this.q = this.dom.getWrapper(), !this.q) throw new Error("[@barba/core] No Barba wrapper found"); this.I(); var S = this.data.current; if (!S.container) throw new Error("[@barba/core] No Barba container found"); if (this.cache = new to(p), this.headers = new io, this.prevent = new mo(y), this.transitions = new go(r), this.views = new _o(o), w !== null) { if (typeof w != "function") throw new Error("[@barba/core] Prevent should be a function"); this.prevent.add("preventCustom", w) } this.history.init(S.url.href, S.namespace), _ && this.cache.set(S.url.href, Promise.resolve({ html: S.html, url: S.url }), "init", "fulfilled"), this.U = this.U.bind(this), this.$ = this.$.bind(this), this.X = this.X.bind(this), this.G(), this.plugins.forEach(function (M) { return M.init() }); var C = this.data; C.trigger = "barba", C.next = C.current, C.current = ve({}, this.schemaPage), this.hooks.do("ready", C), this.once(C), this.I() }, e.destroy = function () { this.I(), this.J(), this.history.clear(), this.hooks.clear(), this.plugins = [] }, e.force = function (t) { window.location.assign(t) }, e.go = function (t, i, n) { var r; if (i === void 0 && (i = "barba"), this.F = null, this.transitions.isRunning) this.force(t); else if (!(r = i === "popstate" ? this.history.current && this.url.getPath(this.history.current.url) === this.url.getPath(t) && this.url.getQuery(this.history.current.url, !0) === this.url.getQuery(t, !0) : this.prevent.run("sameUrl", null, null, t)) || this.transitions.hasSelf) return i = this.history.change(this.cache.has(t) ? this.cache.get(t).target : t, i, n), n && (n.stopPropagation(), n.preventDefault()), this.page(t, i, n != null ? n : void 0, r) }, e.once = function (t) { try { var i = this; return Promise.resolve(i.hooks.do("beforeEnter", t)).then(function () { function n() { return Promise.resolve(i.hooks.do("afterEnter", t)).then(function () { }) } var r = function () { if (i.transitions.hasOnce) { var s = i.transitions.get(t, { once: !0 }); return Promise.resolve(i.transitions.doOnce({ transition: s, data: t })).then(function () { }) } }(); return r && r.then ? r.then(n) : n() }) } catch (n) { return Promise.reject(n) } }, e.page = function (t, i, n, r) { try { var s, o = function () { var h = l.data; return Promise.resolve(l.hooks.do("page", h)).then(function () { var d = function (m, p) { try { var f = (_ = l.transitions.get(h, { once: !1, self: r }), Promise.resolve(l.transitions.doPage({ data: h, page: s, transition: _, wrapper: l.q })).then(function () { l.I() })) } catch { return p() } var _; return f && f.then ? f.then(void 0, p) : f }(0, function () { Ke.getLevel() === 0 && l.force(h.next.url.href) }); if (d && d.then) return d.then(function () { }) }) }, l = this; if (l.data.next.url = ve({ href: t }, l.url.parse(t)), l.data.trigger = i, l.data.event = n, l.cache.has(t)) s = l.cache.update(t, { action: "click" }).request; else { var c = l.request(t, l.timeout, l.onRequestError.bind(l, i), l.cache, l.headers); c.then(function (h) { h.url.href !== t && l.history.add(h.url.href, i, "replace") }), s = l.cache.set(t, c, "click", "pending").request } var u = function () { if (l.transitions.shouldWait) return Promise.resolve(Kt(s, l.data)).then(function () { }) }(); return Promise.resolve(u && u.then ? u.then(o) : o()) } catch (h) { return Promise.reject(h) } }, e.onRequestError = function (t) { this.transitions.isRunning = !1; var i = [].slice.call(arguments, 1), n = i[0], r = i[1], s = this.cache.getAction(n); return this.cache.delete(n), this.B && this.B(t, s, n, r) === !1 || s === "click" && this.force(n), !1 }, e.prefetch = function (t) { var i = this; t = this.url.getAbsoluteHref(t), this.cache.has(t) || this.cache.set(t, this.request(t, this.timeout, this.onRequestError.bind(this, "barba"), this.cache, this.headers).catch(function (n) { i.logger.error(n) }), "prefetch", "pending") }, e.G = function () { this.prefetchIgnore !== !0 && (document.addEventListener("mouseover", this.U), document.addEventListener("touchstart", this.U)), document.addEventListener("click", this.$), window.addEventListener("popstate", this.X) }, e.J = function () { this.prefetchIgnore !== !0 && (document.removeEventListener("mouseover", this.U), document.removeEventListener("touchstart", this.U)), document.removeEventListener("click", this.$), window.removeEventListener("popstate", this.X) }, e.U = function (t) { var i = this, n = this.W(t); if (n) { var r = this.url.getAbsoluteHref(this.dom.getHref(n)); this.prevent.checkHref(r) || this.cache.has(r) || this.cache.set(r, this.request(r, this.timeout, this.onRequestError.bind(this, n), this.cache, this.headers).catch(function (s) { i.logger.error(s) }), "enter", "pending") } }, e.$ = function (t) { var i = this.W(t); if (i) { if (this.transitions.isRunning && this.preventRunning) return t.preventDefault(), void t.stopPropagation(); this.F = t, this.go(this.dom.getHref(i), i, t) } }, e.X = function (t) { this.go(this.url.getHref(), "popstate", t) }, e.W = function (t) { for (var i = t.target; i && !this.dom.getHref(i);)i = i.parentNode; if (i && !this.prevent.checkLink(i, t, this.dom.getHref(i))) return i }, e.I = function () { var t = this.url.getHref(), i = { container: this.dom.getContainer(), html: this.dom.getHtml(), namespace: this.dom.getNamespace(), url: ve({ href: t }, this.url.parse(t)) }; this.D = { current: i, event: void 0, next: ve({}, this.schemaPage), trigger: void 0 }, this.hooks.do("reset", this.data) }, zi(a, [{ key: "data", get: function () { return this.D } }, { key: "wrapper", get: function () { return this.q } }]), a }()); function Fi(a) { const e = a.querySelector(".is-manifesto-text"), t = a.querySelector(".chevrons"); e && I.to(e, { opacity: 0, duration: .4, ease: "power2.inOut" }), t && I.to(t, { opacity: 0, duration: .4, ease: "power2.inOut" }) } function Vi(a) { const e = a.querySelector(".is-manifesto-text"), t = a.querySelector(".chevrons"), i = I.timeline(); e && i.set(e, { opacity: 0 }).to(e, { opacity: 1, duration: .2, ease: "none" }).to(e, { opacity: 0, duration: .2, ease: "none" }).to(e, { opacity: 1, duration: .2, ease: "none" }), t && i.set(t, { opacity: 0 }, 0).to(t, { opacity: 1, duration: .2, ease: "none" }, 0).to(t, { opacity: 0, duration: .2, ease: "none" }, ">").to(t, { opacity: 1, duration: .2, ease: "none" }, ">") } function vo() { const a = document.querySelector(".viewport_right"), e = document.querySelector(".viewport_left"), t = document.querySelectorAll(".toggle_button:not(.is-active)"), i = document.querySelector(".toggle_button.is-active"), n = document.querySelectorAll(".toggle_arrow"), r = document.querySelector(".is--label"); if (window.innerWidth < 992) return e.style.display = "none", Promise.resolve(); const s = I.timeline(); return r && I.set(r, { display: "none" }), s.to(t, { flex: "0 1 0%", opacity: 0, duration: .6, ease: "power2.inOut" }).to(n, { opacity: 0, duration: .3, onComplete: () => { t.forEach(o => o.style.display = "none"), n.forEach(o => o.style.display = "none") } }, "<").to(i, { flex: "1 1 100%", duration: .8, ease: "power2.inOut" }, "<"), s.to(a, { width: "100vw", duration: 1, ease: "serpeasing", onComplete: function () { e.style.display = "none", i && (i.style.display = "none", i.classList.remove("is-active")) } }, 0), s } function Zt(a, e, t = 500) { const i = "ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789%.-"; let n = 0; const r = Math.max(e.length, a.textContent.length), s = setInterval(() => { const o = e.split("").map((l, c) => c < n ? e[c] : i[Math.floor(Math.random() * i.length)]).join(""); a.textContent = o, n++, n >= r && (clearInterval(s), a.textContent = e) }, t / r) } function bo() { "scrollRestoration" in history && (history.scrollRestoration = "manual"), Je.hooks.before(t => { t.next.namespace !== "home" && (document.body.classList.add("barba-transition"), document.body.style.animation = "hide-scrollbars 1.5s forwards", document.documentElement.style.overflow = "hidden", document.body.style.overflow = "hidden") }), Je.hooks.after(() => { window.scrollTo(0, 0), typeof Qe == "function" && I.delayedCall(.1, Qe); const t = window.innerWidth < 992, i = document.querySelector(".viewport_right"), n = document.querySelector(".viewport_right-inner"), r = document.querySelector(".content-wrapper"), s = document.querySelector(".view-container"), o = document.querySelector(".game_inner"), l = document.querySelector("#game-view.is-visible"); t && i && !l && (I.set(i, { height: "auto", minHeight: "auto", display: "block", overflow: "visible" }), n && I.set(n, { height: "auto", minHeight: "auto", display: "block", overflow: "visible" }), r && I.set(r, { height: "auto", minHeight: "auto", display: "block", overflow: "visible" }), s && I.set(s, { height: "auto", minHeight: "auto", display: "block", overflow: "visible" }), o && I.set(o, { height: "auto", minHeight: "auto", display: "block", overflow: "visible" })), I.delayedCall(.3, () => { document.body.classList.remove("barba-transition"), document.body.style.animation = "", document.documentElement.style.overflow = "", document.body.style.overflow = "" }) }); const a = { name: "default-transition", leave: ({ current: t }) => new Promise(i => { Fi(t.container), I.delayedCall(.4, i) }), enter({ next: t, current: i }) { Vi(t.container); const n = i == null ? void 0 : i.container.querySelector(".toggle_button.is-active"), r = t.container.querySelector(".is--label"); if (n && r) { const u = n.getBoundingClientRect(); I.set(r, { position: "absolute", top: u.top, left: u.left, width: u.width, height: u.height, display: "flex" }), I.to(r, { position: "static", clearProps: "all", duration: .3, ease: "power2.inOut" }), Fi(r), Vi(r) } const s = t.container.querySelector("#manifesto > .label"), o = i == null ? void 0 : i.container.querySelector("#manifesto > .label"), l = t.container.querySelector(".is--scramble"), c = i == null ? void 0 : i.container.querySelector(".is--scramble"); return s && o && Zt(s, s.textContent), l && c && Zt(l, l.textContent), Promise.resolve() }, after() { Wi() } }, e = { name: "leave-home-transition", from: { namespace: "home" }, leave: t => new Promise(i => { Fi(t.current.container), I.delayedCall(.4, () => { vo().then(i) }) }), enter({ next: t, current: i }) { Vi(t.container); const n = t.container.querySelector("#manifesto > .label"), r = i == null ? void 0 : i.container.querySelector("#manifesto > .label"); return n && r && Zt(n, n.textContent), Promise.resolve() }, after() { Wi() } }; Je.init({ prevent: ({ el: t }) => { const i = t.href.replace(window.location.origin, ""); return i === "/" || i === "/index.html" || i.startsWith("/?") || i.startsWith("/index.html?") }, debug: !0, preventRunning: !0, prefetch: !0, transitions: [e, a] }), Je.hooks.enter(t => { t.next.namespace !== "home" && I.delayedCall(1, () => { t.next.container.style.opacity === "0" && I.to(t.next.container, { opacity: 1, duration: .3 }) }) }), window.addEventListener("error", t => { if (t.error && t.error.message && t.error.message.includes("barba")) { console.error("Barba transition error:", t.error), document.body.classList.remove("barba-transition"), document.body.style.animation = "", document.documentElement.style.overflow = "", document.body.style.overflow = ""; const i = document.querySelector('[data-barba="container"]'); i && (i.style.opacity = "1") } }), window.addEventListener("popstate", () => { const t = window.location.pathname; if (t === "/" || t === "/index.html") { window.location.reload(); return } Je.history && Je.history.current && (Je.history.current.trigger = "back") }) } I.registerPlugin(Ye), Ye.create("serpeasing", "M0,0 C0.37,0.01 0.01,0.99 1,1"); const wo = { ".is-rate": { type: "number", min: 40, max: 50, suffix: "%" }, ".is-souls": { type: "number", min: 91, max: 97, range: !0, decimalPlaces: 3, suffix: "" }, ".is-entropy": { type: "number", range: !0, min: -.017, max: .115, suffix: "\u0394", decimalPlaces: 3 }, ".is-trust": { type: "text", options: ["\u2588\u2588\u2588%", "\u2588\u2588\u2588%", "\u2588\u2588%", "--"] }, ".is-initiation": { type: "number", min: 5, max: 12, suffix: "await." }, ".is-neural": { type: "text", options: ["High", "Med.", "Null", "Max.", "Lost", "--", "\u221E"] }, ".is-origin": { type: "text", options: ["@serp", "@v0id", "--", "@\u03A9421", "@\u03A9314"] }, ".is-pulse": { type: "number", min: 10.8, max: 17.7, suffix: "HZ" }, ".is-memory": { type: "number", min: 18, max: 71, suffix: "% Mem" }, ".is-cpu": { type: "number", min: 21, max: 82, suffix: "% CPU" } }; function xo(a) { if (a.type === "number") { if (a.range) { const t = Math.random() * (a.max - a.min) + a.min, i = t.toFixed(a.decimalPlaces || 3); return `${t >= 0 ? `+${i}` : i}${a.suffix || ""}` } return `${Math.floor(Math.random() * (a.max - a.min + 1)) + a.min}${a.suffix || ""}` } else if (a.type === "text") return a.options[Math.floor(Math.random() * a.options.length)]; return "" } function So() { Object.entries(wo).forEach(([a, e]) => { document.querySelectorAll(a).forEach(i => { const n = xo(e); Zt(i, n) }) }) } function To() { setInterval(So, 4e3), Us() } function Wi() { var n; $s(), cr(), lr(), Ws(); const a = document.querySelector(".dropdown"), e = document.querySelector(".dropdown-inner"); if (a) { const r = a.cloneNode(!0); a.parentNode.replaceChild(r, a), r.addEventListener("click", () => { if (e) { const s = window.getComputedStyle(e).display !== "none"; e.style.display = s ? "none" : "flex" } }) } Co("[data-scramble]", { target: ".label" }), ko(), Po(); const t = document.getElementById("game"), i = document.getElementById("manifesto"); t && i && (((n = document.querySelector('[data-barba="container"]')) == null ? void 0 : n.dataset.barbaNamespace) === "home" && (t.classList.add("is-active"), i.classList.remove("is-active")), t.addEventListener("click", () => { var s; t.classList.contains("is-active") || (t.classList.add("is-active"), i.classList.remove("is-active"), ((s = document.querySelector('[data-barba="container"]')) == null ? void 0 : s.dataset.barbaNamespace) === "home" && requestAnimationFrame(() => { Ri() })) }), i.addEventListener("click", () => { i.classList.contains("is-active") || (i.classList.add("is-active"), t.classList.remove("is-active")) })) } function Po() {
    const a = document.getElementById("manifesto"), e = document.getElementById("game"), t = document.getElementById("manifesto-view"), i = document.getElementById("game-view"), n = document.getElementById("left-arrow"), r = document.getElementById("right-arrow"), s = document.querySelector(".viewport_right"), o = document.querySelector(".viewport_right-inner"), l = document.querySelector(".content-wrapper"), c = document.querySelector(".view-container"), u = document.querySelector(".game_inner"); if (!a || !e || !t || !i || !n || !r || !s || !o || !l || !c || !u) return; function h(m) {
      var g; const f = ((g = document.querySelector('[data-barba="container"]')) == null ? void 0 : g.dataset.barbaNamespace) === "home", _ = window.innerWidth < 992; t.classList.toggle("is-visible", m), i.classList.toggle("is-visible", !m), a.classList.toggle("is-active", m), e.classList.toggle("is-active", !m), n.classList.toggle("is-active", m), r.classList.toggle("is-active", !m), n.style.opacity = m ? "1" : "0.5", r.style.opacity = m ? "0.5" : "1", m ? (_ ? (s.style.cssText = `
          height: auto;
          min-height: auto;
          display: block;
          overflow: visible;
        `, o.style.cssText = `
          height: auto;
          min-height: auto;
          display: block;
          overflow: visible;
        `, l.style.cssText = `
          height: auto;
          min-height: auto;
          display: block;
          overflow: visible;
        `, c.style.cssText = `
          height: auto;
          min-height: auto;
          display: block;
          overflow: visible;
        `, u.style.cssText = `
          height: auto;
          min-height: auto;
          display: block;
          overflow: visible;
        `) : (s.style.cssText = "", o.style.cssText = "", l.style.cssText = "", c.style.cssText = "", u.style.cssText = ""), setTimeout(() => { ye() }, 0)) : (s.style.cssText = `
        height: 100vh;
        min-height: 100vh;
        display: flex;
        flex-direction: column;
        overflow: hidden;
      `, o.style.cssText = `
        height: 100%;
        min-height: 0;
        display: flex;
        flex-direction: column;
        overflow: hidden;
      `, l.style.cssText = `
        height: 100%;
        min-height: 0;
        display: flex;
        flex-direction: column;
        overflow: hidden;
      `, c.style.cssText = `
        flex: 1;
        min-height: 0;
        display: flex;
        flex-direction: column;
        overflow: hidden;
      `, u.style.cssText = `
        flex: 1;
        min-height: 0;
        display: flex;
        position: relative;
        overflow: hidden;
      `, f && (u._cleanup && u._cleanup(), Ri()))
    } a.addEventListener("click", () => { h(!0) }), e.addEventListener("click", () => { h(!1) }); function d(m, p) { m.addEventListener("mouseenter", () => { m.classList.contains("is-active") || (p.style.opacity = "1", p.classList.remove("animate"), p.offsetWidth, p.classList.add("animate")) }), m.addEventListener("mouseleave", () => { m.classList.contains("is-active") || (p.style.opacity = "0.5") }), p.addEventListener("animationend", () => { p.classList.remove("animate") }) } d(a, n), d(e, r), i.classList.contains("is-visible") ? (s.style.cssText = `
      height: 100vh;
      min-height: 100vh;
      display: flex;
      flex-direction: column;
      overflow: hidden;
    `, o.style.cssText = `
      height: 100%;
      min-height: 0;
      display: flex;
      flex-direction: column;
      overflow: hidden;
    `, l.style.cssText = `
      height: 100%;
      min-height: 0;
      display: flex;
      flex-direction: column;
      overflow: hidden;
    `, c.style.cssText = `
      flex: 1;
      min-height: 0;
      display: flex;
      flex-direction: column;
      overflow: hidden;
    `, u.style.cssText = `
      flex: 1;
      min-height: 0;
      display: flex;
      position: relative;
      overflow: hidden;
    `) : setTimeout(() => { ye() }, 0)
  } function Co(a, e = {}) { const { speed: t = 150, target: i = null } = e, n = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789!@#$%^&*()_-+=<>?/[]{}"; document.querySelectorAll(a).forEach(r => { const s = i ? r.querySelector(i) : r; if (!s) return; const o = s.textContent; r.addEventListener("mouseenter", () => { let l = "", c = 0; const u = setInterval(() => { l = ""; for (let h = 0; h < o.length; h++)h < c ? l += o[h] : l += n.charAt(Math.floor(Math.random() * n.length)); s.textContent = l, c < o.length ? c++ : (clearInterval(u), s.textContent = o) }, t) }) }) } function ko() { const a = document.querySelector(".home"), e = document.querySelector(".nav-wrapper"), t = document.querySelector(".header"); if (!a || !e || !t) return; const i = window.matchMedia("(max-width: 991px)"); function n(r) { r.matches ? a.parentElement !== e && e.insertBefore(a, e.firstChild) : a.parentElement !== t && t.insertBefore(a, e) } n(i), i.addEventListener("change", n) } document.addEventListener("DOMContentLoaded", () => { var l; To(), bo(), Wi(); const a = window.innerWidth < 992, e = document.querySelector(".viewport_right"), t = document.querySelector(".viewport_right-inner"), i = document.querySelector(".content-wrapper"), n = document.querySelector(".view-container"), r = document.querySelector(".game_inner"), s = document.querySelector("#game-view.is-visible"); if (a && e && !s && (e.style.height = "auto", e.style.minHeight = "auto", e.style.display = "block", e.style.overflow = "visible", t && (t.style.height = "auto", t.style.minHeight = "auto", t.style.display = "block", t.style.overflow = "visible"), i && (i.style.height = "auto", i.style.minHeight = "auto", i.style.display = "block", i.style.overflow = "visible"), n && (n.style.height = "auto", n.style.minHeight = "auto", n.style.display = "block", n.style.overflow = "visible"), r && (r.style.height = "auto", r.style.minHeight = "auto", r.style.display = "block", r.style.overflow = "visible")), ((l = document.querySelector('[data-barba="container"]')) == null ? void 0 : l.dataset.barbaNamespace) === "home") { const c = document.getElementById("game"), u = document.getElementById("manifesto"); c && u && (c.classList.add("is-active"), u.classList.remove("is-active")), Ri() } }), window.addEventListener("resize", () => {
    var c; const a = (c = document.querySelector('[data-barba="container"]')) == null ? void 0 : c.dataset.barbaNamespace, e = window.innerWidth < 992, t = document.querySelector(".viewport_right"), i = document.querySelector(".viewport_right-inner"), n = document.querySelector(".content-wrapper"), r = document.querySelector(".view-container"), s = document.querySelector(".game_inner"), o = document.querySelector("#game-view.is-visible"), l = document.querySelector("#manifesto-view.is-visible"); t && (a === "home" && (e ? t.style.removeProperty("width") : t.style.width = window.innerWidth >= 1440 ? "60vw" : "70vw"), e && !o ? (t.style.height = "auto", t.style.minHeight = "auto", t.style.display = "block", t.style.overflow = "visible", i && (i.style.height = "auto", i.style.minHeight = "auto", i.style.display = "block", i.style.overflow = "visible"), n && (n.style.height = "auto", n.style.minHeight = "auto", n.style.display = "block", n.style.overflow = "visible"), r && (r.style.height = "auto", r.style.minHeight = "auto", r.style.display = "block", r.style.overflow = "visible"), s && (s.style.height = "auto", s.style.minHeight = "auto", s.style.display = "block", s.style.overflow = "visible")) : !e && l && (t.style.cssText = `
        height: 100vh;
        min-height: 100vh;
        display: flex;
        flex-direction: column;
        overflow: hidden;
      `, i && (i.style.cssText = `
          height: 100%;
          min-height: 0;
          display: flex;
          flex-direction: column;
          overflow: hidden;
        `), n && (n.style.cssText = `
          height: 100%;
          min-height: 0;
          display: flex;
          flex-direction: column;
          overflow: hidden;
        `), r && (r.style.cssText = `
          flex: 1;
          min-height: 0;
          display: flex;
          flex-direction: column;
          overflow: hidden;
        `), s && (s.style.cssText = `
          flex: 1;
          min-height: 0;
          display: flex;
          position: relative;
          overflow: hidden;
        `))), typeof Qe == "function" && Qe()
  })
});
