(function (ae) { typeof define == "function" && define.amd ? define(ae) : ae() })(function () {
  "use strict"; function ae(a) { if (a === void 0) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return a } function Ui(a, e) { a.prototype = Object.create(e.prototype), a.prototype.constructor = a, a.__proto__ = e }/*!
 * GSAP 3.9.1
 * https://greensock.com
 *
 * @license Copyright 2008-2021, GreenSock. All rights reserved.
 * Subject to the terms at https://greensock.com/standard-license or for
 * Club GreenSock members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
*/var ne = { autoSleep: 120, force3D: "auto", nullTargetWarn: 1, units: { lineHeight: "" } }, et = { duration: .5, overwrite: !1, delay: 0 }, Jt, ce = 1e8, z = 1 / ce, ei = Math.PI * 2, gr = ei / 4, yr = 0, Vi = Math.sqrt, vr = Math.cos, br = Math.sin, U = function (e) { return typeof e == "string" }, V = function (e) { return typeof e == "function" }, we = function (e) { return typeof e == "number" }, ti = function (e) { return typeof e == "undefined" }, xe = function (e) { return typeof e == "object" }, K = function (e) { return e !== !1 }, Wi = function () { return typeof window != "undefined" }, Rt = function (e) { return V(e) || U(e) }, $i = typeof ArrayBuffer == "function" && ArrayBuffer.isView || function () { }, G = Array.isArray, ii = /(?:-?\.?\d|\.)+/gi, ji = /[-+=.]*\d+[.e\-+]*\d*[e\-+]*\d*/g, tt = /[-+=.]*\d+[.e-]*\d*[a-z%]*/g, ni = /[-+=.]*\d+\.?\d*(?:e-|e\+)?\d*/gi, Gi = /[+-]=-?[.\d]+/, Xi = /[^,'"\[\]\s]+/gi, wr = /[\d.+\-=]+(?:e[-+]\d*)*/i, B, me, ri, si, re = {}, Dt = {}, Yi, Qi = function (e) { return (Dt = it(e, re)) && ge }, oi = function (e, t) { return console.warn("Invalid property", e, "set to", t, "Missing plugin? gsap.registerPlugin()") }, zt = function (e, t) { return !t && console.warn(e) }, Ki = function (e, t) { return e && (re[e] = t) && Dt && (Dt[e] = t) || re }, dt = function () { return 0 }, ai = {}, Pe = [], ci = {}, Zi, se = {}, li = {}, Ji = 30, It = [], ui = "", hi = function (e) { var t = e[0], i, n; if (xe(t) || V(t) || (e = [e]), !(i = (t._gsap || {}).harness)) { for (n = It.length; n-- && !It[n].targetTest(t);); i = It[n] } for (n = e.length; n--;)e[n] && (e[n]._gsap || (e[n]._gsap = new En(e[n], i))) || e.splice(n, 1); return e }, Fe = function (e) { return e._gsap || hi(he(e))[0]._gsap }, en = function (e, t, i) { return (i = e[t]) && V(i) ? e[t]() : ti(i) && e.getAttribute && e.getAttribute(t) || i }, Z = function (e, t) { return (e = e.split(",")).forEach(t) || e }, N = function (e) { return Math.round(e * 1e5) / 1e5 || 0 }, X = function (e) { return Math.round(e * 1e7) / 1e7 || 0 }, xr = function (e, t) { for (var i = t.length, n = 0; e.indexOf(t[n]) < 0 && ++n < i;); return n < i }, qt = function () { var e = Pe.length, t = Pe.slice(0), i, n; for (ci = {}, Pe.length = 0, i = 0; i < e; i++)n = t[i], n && n._lazy && (n.render(n._lazy[0], n._lazy[1], !0)._lazy = 0) }, tn = function (e, t, i, n) { Pe.length && qt(), e.render(t, i, n), Pe.length && qt() }, nn = function (e) { var t = parseFloat(e); return (t || t === 0) && (e + "").match(Xi).length < 2 ? t : U(e) ? e.trim() : e }, rn = function (e) { return e }, le = function (e, t) { for (var i in t) i in e || (e[i] = t[i]); return e }, Sr = function (e) { return function (t, i) { for (var n in i) n in t || n === "duration" && e || n === "ease" || (t[n] = i[n]) } }, it = function (e, t) { for (var i in t) e[i] = t[i]; return e }, sn = function a(e, t) { for (var i in t) i !== "__proto__" && i !== "constructor" && i !== "prototype" && (e[i] = xe(t[i]) ? a(e[i] || (e[i] = {}), t[i]) : t[i]); return e }, Bt = function (e, t) { var i = {}, n; for (n in e) n in t || (i[n] = e[n]); return i }, pt = function (e) { var t = e.parent || B, i = e.keyframes ? Sr(G(e.keyframes)) : le; if (K(e.inherit)) for (; t;)i(e, t.vars.defaults), t = t.parent || t._dp; return e }, Tr = function (e, t) { for (var i = e.length, n = i === t.length; n && i-- && e[i] === t[i];); return i < 0 }, Pr = function (e, t, i, n, r) { i === void 0 && (i = "_first"), n === void 0 && (n = "_last"); var s = e[n], o; if (r) for (o = t[r]; s && s[r] > o;)s = s._prev; return s ? (t._next = s._next, s._next = t) : (t._next = e[i], e[i] = t), t._next ? t._next._prev = t : e[n] = t, t._prev = s, t.parent = t._dp = e, t }, Nt = function (e, t, i, n) { i === void 0 && (i = "_first"), n === void 0 && (n = "_last"); var r = t._prev, s = t._next; r ? r._next = s : e[i] === t && (e[i] = s), s ? s._prev = r : e[n] === t && (e[n] = r), t._next = t._prev = t.parent = null }, Se = function (e, t) { e.parent && (!t || e.parent.autoRemoveChildren) && e.parent.remove(e), e._act = 0 }, He = function (e, t) { if (e && (!t || t._end > e._dur || t._start < 0)) for (var i = e; i;)i._dirty = 1, i = i.parent; return e }, Cr = function (e) { for (var t = e.parent; t && t.parent;)t._dirty = 1, t.totalDuration(), t = t.parent; return e }, Er = function a(e) { return !e || e._ts && a(e.parent) }, on = function (e) { return e._repeat ? nt(e._tTime, e = e.duration() + e._rDelay) * e : 0 }, nt = function (e, t) { var i = Math.floor(e /= t); return e && i === e ? i - 1 : i }, Ft = function (e, t) { return (e - t._start) * t._ts + (t._ts >= 0 ? 0 : t._dirty ? t.totalDuration() : t._tDur) }, Ht = function (e) { return e._end = X(e._start + (e._tDur / Math.abs(e._ts || e._rts || z) || 0)) }, an = function (e, t) { var i = e._dp; return i && i.smoothChildTiming && e._ts && (e._start = X(i._time - (e._ts > 0 ? t / e._ts : ((e._dirty ? e.totalDuration() : e._tDur) - t) / -e._ts)), Ht(e), i._dirty || He(i, e)), e }, cn = function (e, t) { var i; if ((t._time || t._initted && !t._dur) && (i = Ft(e.rawTime(), t), (!t._dur || _t(0, t.totalDuration(), i) - t._tTime > z) && t.render(i, !0)), He(e, t)._dp && e._initted && e._time >= e._dur && e._ts) { if (e._dur < e.duration()) for (i = e; i._dp;)i.rawTime() >= 0 && i.totalTime(i._tTime), i = i._dp; e._zTime = -z } }, _e = function (e, t, i, n) { return t.parent && Se(t), t._start = X((we(i) ? i : i || e !== B ? ue(e, i, t) : e._time) + t._delay), t._end = X(t._start + (t.totalDuration() / Math.abs(t.timeScale()) || 0)), Pr(e, t, "_first", "_last", e._sort ? "_start" : 0), fi(t) || (e._recent = t), n || cn(e, t), e }, ln = function (e, t) { return (re.ScrollTrigger || oi("scrollTrigger", t)) && re.ScrollTrigger.create(t, e) }, un = function (e, t, i, n) { if (Qr(e, t), !e._initted) return 1; if (!i && e._pt && (e._dur && e.vars.lazy !== !1 || !e._dur && e.vars.lazy) && Zi !== de.frame) return Pe.push(e), e._lazy = [t, n], 1 }, kr = function a(e) { var t = e.parent; return t && t._ts && t._initted && !t._lock && (t.rawTime() < 0 || a(t)) }, fi = function (e) { var t = e.data; return t === "isFromStart" || t === "isStart" }, Mr = function (e, t, i, n) { var r = e.ratio, s = t < 0 || !t && (!e._start && kr(e) && !(!e._initted && fi(e)) || (e._ts < 0 || e._dp._ts < 0) && !fi(e)) ? 0 : 1, o = e._rDelay, c = 0, l, u, f; if (o && e._repeat && (c = _t(0, e._tDur, t), u = nt(c, o), e._yoyo && u & 1 && (s = 1 - s), u !== nt(e._tTime, o) && (r = 1 - s, e.vars.repeatRefresh && e._initted && e.invalidate())), s !== r || n || e._zTime === z || !t && e._zTime) { if (!e._initted && un(e, t, n, i)) return; for (f = e._zTime, e._zTime = t || (i ? z : 0), i || (i = t && !f), e.ratio = s, e._from && (s = 1 - s), e._time = 0, e._tTime = c, l = e._pt; l;)l.r(s, l.d), l = l._next; e._startAt && t < 0 && e._startAt.render(t, !0, !0), e._onUpdate && !i && fe(e, "onUpdate"), c && e._repeat && !i && e.parent && fe(e, "onRepeat"), (t >= e._tDur || t < 0) && e.ratio === s && (s && Se(e, 1), i || (fe(e, s ? "onComplete" : "onReverseComplete", !0), e._prom && e._prom())) } else e._zTime || (e._zTime = t) }, Or = function (e, t, i) { var n; if (i > t) for (n = e._first; n && n._start <= i;) { if (n.data === "isPause" && n._start > t) return n; n = n._next } else for (n = e._last; n && n._start >= i;) { if (n.data === "isPause" && n._start < t) return n; n = n._prev } }, rt = function (e, t, i, n) { var r = e._repeat, s = X(t) || 0, o = e._tTime / e._tDur; return o && !n && (e._time *= s / e._dur), e._dur = s, e._tDur = r ? r < 0 ? 1e10 : X(s * (r + 1) + e._rDelay * r) : s, o > 0 && !n ? an(e, e._tTime = e._tDur * o) : e.parent && Ht(e), i || He(e.parent, e), e }, hn = function (e) { return e instanceof ee ? He(e) : rt(e, e._dur) }, Lr = { _start: 0, endTime: dt, totalDuration: dt }, ue = function a(e, t, i) { var n = e.labels, r = e._recent || Lr, s = e.duration() >= ce ? r.endTime(!1) : e._dur, o, c, l; return U(t) && (isNaN(t) || t in n) ? (c = t.charAt(0), l = t.substr(-1) === "%", o = t.indexOf("="), c === "<" || c === ">" ? (o >= 0 && (t = t.replace(/=/, "")), (c === "<" ? r._start : r.endTime(r._repeat >= 0)) + (parseFloat(t.substr(1)) || 0) * (l ? (o < 0 ? r : i).totalDuration() / 100 : 1)) : o < 0 ? (t in n || (n[t] = s), n[t]) : (c = parseFloat(t.charAt(o - 1) + t.substr(o + 1)), l && i && (c = c / 100 * (G(i) ? i[0] : i).totalDuration()), o > 1 ? a(e, t.substr(0, o - 1), i) + c : s + c)) : t == null ? s : +t }, mt = function (e, t, i) { var n = we(t[1]), r = (n ? 2 : 1) + (e < 2 ? 0 : 1), s = t[r], o, c; if (n && (s.duration = t[1]), s.parent = i, e) { for (o = s, c = i; c && !("immediateRender" in o);)o = c.vars.defaults || {}, c = K(c.vars.inherit) && c.parent; s.immediateRender = K(o.immediateRender), e < 2 ? s.runBackwards = 1 : s.startAt = t[r - 1] } return new W(t[0], s, t[r + 1]) }, Ce = function (e, t) { return e || e === 0 ? t(e) : t }, _t = function (e, t, i) { return i < e ? e : i > t ? t : i }, J = function (e, t) { return !U(e) || !(t = wr.exec(e)) ? "" : e.substr(t.index + t[0].length) }, Ar = function (e, t, i) { return Ce(i, function (n) { return _t(e, t, n) }) }, di = [].slice, fn = function (e, t) { return e && xe(e) && "length" in e && (!t && !e.length || e.length - 1 in e && xe(e[0])) && !e.nodeType && e !== me }, Rr = function (e, t, i) { return i === void 0 && (i = []), e.forEach(function (n) { var r; return U(n) && !t || fn(n, 1) ? (r = i).push.apply(r, he(n)) : i.push(n) }) || i }, he = function (e, t, i) { return U(e) && !i && (ri || !ot()) ? di.call((t || si).querySelectorAll(e), 0) : G(e) ? Rr(e, i) : fn(e) ? di.call(e, 0) : e ? [e] : [] }, Dr = function (e) { return e = he(e)[0] || zt("Invalid scope") || {}, function (t) { var i = e.current || e.nativeElement || e; return he(t, i.querySelectorAll ? i : i === e ? zt("Invalid scope") || si.createElement("div") : e) } }, dn = function (e) { return e.sort(function () { return .5 - Math.random() }) }, pn = function (e) { if (V(e)) return e; var t = xe(e) ? e : { each: e }, i = Ue(t.ease), n = t.from || 0, r = parseFloat(t.base) || 0, s = {}, o = n > 0 && n < 1, c = isNaN(n) || o, l = t.axis, u = n, f = n; return U(n) ? u = f = { center: .5, edges: .5, end: 1 }[n] || 0 : !o && c && (u = n[0], f = n[1]), function (d, p, m) { var h = (m || t).length, g = s[h], _, y, v, x, b, w, T, P, S; if (!g) { if (S = t.grid === "auto" ? 0 : (t.grid || [1, ce])[1], !S) { for (T = -ce; T < (T = m[S++].getBoundingClientRect().left) && S < h;); S-- } for (g = s[h] = [], _ = c ? Math.min(S, h) * u - .5 : n % S, y = S === ce ? 0 : c ? h * f / S - .5 : n / S | 0, T = 0, P = ce, w = 0; w < h; w++)v = w % S - _, x = y - (w / S | 0), g[w] = b = l ? Math.abs(l === "y" ? x : v) : Vi(v * v + x * x), b > T && (T = b), b < P && (P = b); n === "random" && dn(g), g.max = T - P, g.min = P, g.v = h = (parseFloat(t.amount) || parseFloat(t.each) * (S > h ? h - 1 : l ? l === "y" ? h / S : S : Math.max(S, h / S)) || 0) * (n === "edges" ? -1 : 1), g.b = h < 0 ? r - h : r, g.u = J(t.amount || t.each) || 0, i = i && h < 0 ? Tn(i) : i } return h = (g[d] - g.min) / g.max || 0, X(g.b + (i ? i(h) : h) * g.v) + g.u } }, pi = function (e) { var t = Math.pow(10, ((e + "").split(".")[1] || "").length); return function (i) { var n = Math.round(parseFloat(i) / e) * e * t; return (n - n % 1) / t + (we(i) ? 0 : J(i)) } }, mn = function (e, t) { var i = G(e), n, r; return !i && xe(e) && (n = i = e.radius || ce, e.values ? (e = he(e.values), (r = !we(e[0])) && (n *= n)) : e = pi(e.increment)), Ce(t, i ? V(e) ? function (s) { return r = e(s), Math.abs(r - s) <= n ? r : s } : function (s) { for (var o = parseFloat(r ? s.x : s), c = parseFloat(r ? s.y : 0), l = ce, u = 0, f = e.length, d, p; f--;)r ? (d = e[f].x - o, p = e[f].y - c, d = d * d + p * p) : d = Math.abs(e[f] - o), d < l && (l = d, u = f); return u = !n || l <= n ? e[u] : s, r || u === s || we(s) ? u : u + J(s) } : pi(e)) }, _n = function (e, t, i, n) { return Ce(G(e) ? !t : i === !0 ? !!(i = 0) : !n, function () { return G(e) ? e[~~(Math.random() * e.length)] : (i = i || 1e-5) && (n = i < 1 ? Math.pow(10, (i + "").length - 2) : 1) && Math.floor(Math.round((e - i / 2 + Math.random() * (t - e + i * .99)) / i) * i * n) / n }) }, zr = function () { for (var e = arguments.length, t = new Array(e), i = 0; i < e; i++)t[i] = arguments[i]; return function (n) { return t.reduce(function (r, s) { return s(r) }, n) } }, Ir = function (e, t) { return function (i) { return e(parseFloat(i)) + (t || J(i)) } }, qr = function (e, t, i) { return yn(e, t, 0, 1, i) }, gn = function (e, t, i) { return Ce(i, function (n) { return e[~~t(n)] }) }, Br = function a(e, t, i) { var n = t - e; return G(e) ? gn(e, a(0, e.length), t) : Ce(i, function (r) { return (n + (r - e) % n) % n + e }) }, Nr = function a(e, t, i) { var n = t - e, r = n * 2; return G(e) ? gn(e, a(0, e.length - 1), t) : Ce(i, function (s) { return s = (r + (s - e) % r) % r || 0, e + (s > n ? r - s : s) }) }, gt = function (e) { for (var t = 0, i = "", n, r, s, o; ~(n = e.indexOf("random(", t));)s = e.indexOf(")", n), o = e.charAt(n + 7) === "[", r = e.substr(n + 7, s - n - 7).match(o ? Xi : ii), i += e.substr(t, n - t) + _n(o ? r : +r[0], o ? 0 : +r[1], +r[2] || 1e-5), t = s + 1; return i + e.substr(t, e.length - t) }, yn = function (e, t, i, n, r) { var s = t - e, o = n - i; return Ce(r, function (c) { return i + ((c - e) / s * o || 0) }) }, Fr = function a(e, t, i, n) { var r = isNaN(e + t) ? 0 : function (p) { return (1 - p) * e + p * t }; if (!r) { var s = U(e), o = {}, c, l, u, f, d; if (i === !0 && (n = 1) && (i = null), s) e = { p: e }, t = { p: t }; else if (G(e) && !G(t)) { for (u = [], f = e.length, d = f - 2, l = 1; l < f; l++)u.push(a(e[l - 1], e[l])); f--, r = function (m) { m *= f; var h = Math.min(d, ~~m); return u[h](m - h) }, i = t } else n || (e = it(G(e) ? [] : {}, e)); if (!u) { for (c in t) yi.call(o, e, c, "get", t[c]); r = function (m) { return wi(m, o) || (s ? e.p : e) } } } return Ce(i, r) }, vn = function (e, t, i) { var n = e.labels, r = ce, s, o, c; for (s in n) o = n[s] - t, o < 0 == !!i && o && r > (o = Math.abs(o)) && (c = s, r = o); return c }, fe = function (e, t, i) { var n = e.vars, r = n[t], s, o; if (!!r) return s = n[t + "Params"], o = n.callbackScope || e, i && Pe.length && qt(), s ? r.apply(o, s) : r.call(o) }, yt = function (e) { return Se(e), e.scrollTrigger && e.scrollTrigger.kill(!1), e.progress() < 1 && fe(e, "onInterrupt"), e }, st, Hr = function (e) { e = !e.name && e.default || e; var t = e.name, i = V(e), n = t && !i && e.init ? function () { this._props = [] } : e, r = { init: dt, render: wi, add: yi, kill: ns, modifier: is, rawVars: 0 }, s = { targetTest: 0, get: 0, getSetter: bi, aliases: {}, register: 0 }; if (ot(), e !== n) { if (se[t]) return; le(n, le(Bt(e, r), s)), it(n.prototype, it(r, Bt(e, s))), se[n.prop = t] = n, e.targetTest && (It.push(n), ai[t] = 1), t = (t === "css" ? "CSS" : t.charAt(0).toUpperCase() + t.substr(1)) + "Plugin" } Ki(t, n), e.register && e.register(ge, n, te) }, I = 255, vt = { aqua: [0, I, I], lime: [0, I, 0], silver: [192, 192, 192], black: [0, 0, 0], maroon: [128, 0, 0], teal: [0, 128, 128], blue: [0, 0, I], navy: [0, 0, 128], white: [I, I, I], olive: [128, 128, 0], yellow: [I, I, 0], orange: [I, 165, 0], gray: [128, 128, 128], purple: [128, 0, 128], green: [0, 128, 0], red: [I, 0, 0], pink: [I, 192, 203], cyan: [0, I, I], transparent: [I, I, I, 0] }, mi = function (e, t, i) { return e += e < 0 ? 1 : e > 1 ? -1 : 0, (e * 6 < 1 ? t + (i - t) * e * 6 : e < .5 ? i : e * 3 < 2 ? t + (i - t) * (2 / 3 - e) * 6 : t) * I + .5 | 0 }, bn = function (e, t, i) { var n = e ? we(e) ? [e >> 16, e >> 8 & I, e & I] : 0 : vt.black, r, s, o, c, l, u, f, d, p, m; if (!n) { if (e.substr(-1) === "," && (e = e.substr(0, e.length - 1)), vt[e]) n = vt[e]; else if (e.charAt(0) === "#") { if (e.length < 6 && (r = e.charAt(1), s = e.charAt(2), o = e.charAt(3), e = "#" + r + r + s + s + o + o + (e.length === 5 ? e.charAt(4) + e.charAt(4) : "")), e.length === 9) return n = parseInt(e.substr(1, 6), 16), [n >> 16, n >> 8 & I, n & I, parseInt(e.substr(7), 16) / 255]; e = parseInt(e.substr(1), 16), n = [e >> 16, e >> 8 & I, e & I] } else if (e.substr(0, 3) === "hsl") { if (n = m = e.match(ii), !t) c = +n[0] % 360 / 360, l = +n[1] / 100, u = +n[2] / 100, s = u <= .5 ? u * (l + 1) : u + l - u * l, r = u * 2 - s, n.length > 3 && (n[3] *= 1), n[0] = mi(c + 1 / 3, r, s), n[1] = mi(c, r, s), n[2] = mi(c - 1 / 3, r, s); else if (~e.indexOf("=")) return n = e.match(ji), i && n.length < 4 && (n[3] = 1), n } else n = e.match(ii) || vt.transparent; n = n.map(Number) } return t && !m && (r = n[0] / I, s = n[1] / I, o = n[2] / I, f = Math.max(r, s, o), d = Math.min(r, s, o), u = (f + d) / 2, f === d ? c = l = 0 : (p = f - d, l = u > .5 ? p / (2 - f - d) : p / (f + d), c = f === r ? (s - o) / p + (s < o ? 6 : 0) : f === s ? (o - r) / p + 2 : (r - s) / p + 4, c *= 60), n[0] = ~~(c + .5), n[1] = ~~(l * 100 + .5), n[2] = ~~(u * 100 + .5)), i && n.length < 4 && (n[3] = 1), n }, wn = function (e) { var t = [], i = [], n = -1; return e.split(Ee).forEach(function (r) { var s = r.match(tt) || []; t.push.apply(t, s), i.push(n += s.length + 1) }), t.c = i, t }, xn = function (e, t, i) { var n = "", r = (e + n).match(Ee), s = t ? "hsla(" : "rgba(", o = 0, c, l, u, f; if (!r) return e; if (r = r.map(function (d) { return (d = bn(d, t, 1)) && s + (t ? d[0] + "," + d[1] + "%," + d[2] + "%," + d[3] : d.join(",")) + ")" }), i && (u = wn(e), c = i.c, c.join(n) !== u.c.join(n))) for (l = e.replace(Ee, "1").split(tt), f = l.length - 1; o < f; o++)n += l[o] + (~c.indexOf(o) ? r.shift() || s + "0,0,0,0)" : (u.length ? u : r.length ? r : i).shift()); if (!l) for (l = e.split(Ee), f = l.length - 1; o < f; o++)n += l[o] + r[o]; return n + l[f] }, Ee = function () { var a = "(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#(?:[0-9a-f]{3,4}){1,2}\\b", e; for (e in vt) a += "|" + e + "\\b"; return new RegExp(a + ")", "gi") }(), Ur = /hsl[a]?\(/, Sn = function (e) { var t = e.join(" "), i; if (Ee.lastIndex = 0, Ee.test(t)) return i = Ur.test(t), e[1] = xn(e[1], i), e[0] = xn(e[0], i, wn(e[1])), !0 }, Ut, de = function () { var a = Date.now, e = 500, t = 33, i = a(), n = i, r = 1e3 / 240, s = r, o = [], c, l, u, f, d, p, m = function h(g) { var _ = a() - n, y = g === !0, v, x, b, w; if (_ > e && (i += _ - t), n += _, b = n - i, v = b - s, (v > 0 || y) && (w = ++f.frame, d = b - f.time * 1e3, f.time = b = b / 1e3, s += v + (v >= r ? 4 : r - v), x = 1), y || (c = l(h)), x) for (p = 0; p < o.length; p++)o[p](b, d, w, g) }; return f = { time: 0, frame: 0, tick: function () { m(!0) }, deltaRatio: function (g) { return d / (1e3 / (g || 60)) }, wake: function () { Yi && (!ri && Wi() && (me = ri = window, si = me.document || {}, re.gsap = ge, (me.gsapVersions || (me.gsapVersions = [])).push(ge.version), Qi(Dt || me.GreenSockGlobals || !me.gsap && me || {}), u = me.requestAnimationFrame), c && f.sleep(), l = u || function (g) { return setTimeout(g, s - f.time * 1e3 + 1 | 0) }, Ut = 1, m(2)) }, sleep: function () { (u ? me.cancelAnimationFrame : clearTimeout)(c), Ut = 0, l = dt }, lagSmoothing: function (g, _) { e = g || 1 / z, t = Math.min(_, e, 0) }, fps: function (g) { r = 1e3 / (g || 240), s = f.time * 1e3 + r }, add: function (g) { o.indexOf(g) < 0 && o.push(g), ot() }, remove: function (g, _) { ~(_ = o.indexOf(g)) && o.splice(_, 1) && p >= _ && p-- }, _listeners: o }, f }(), ot = function () { return !Ut && de.wake() }, R = {}, Vr = /^[\d.\-M][\d.\-,\s]/, Wr = /["']/g, $r = function (e) { for (var t = {}, i = e.substr(1, e.length - 3).split(":"), n = i[0], r = 1, s = i.length, o, c, l; r < s; r++)c = i[r], o = r !== s - 1 ? c.lastIndexOf(",") : c.length, l = c.substr(0, o), t[n] = isNaN(l) ? l.replace(Wr, "").trim() : +l, n = c.substr(o + 1).trim(); return t }, jr = function (e) { var t = e.indexOf("(") + 1, i = e.indexOf(")"), n = e.indexOf("(", t); return e.substring(t, ~n && n < i ? e.indexOf(")", i + 1) : i) }, Gr = function (e) { var t = (e + "").split("("), i = R[t[0]]; return i && t.length > 1 && i.config ? i.config.apply(null, ~e.indexOf("{") ? [$r(t[1])] : jr(e).split(",").map(nn)) : R._CE && Vr.test(e) ? R._CE("", e) : i }, Tn = function (e) { return function (t) { return 1 - e(1 - t) } }, Pn = function a(e, t) { for (var i = e._first, n; i;)i instanceof ee ? a(i, t) : i.vars.yoyoEase && (!i._yoyo || !i._repeat) && i._yoyo !== t && (i.timeline ? a(i.timeline, t) : (n = i._ease, i._ease = i._yEase, i._yEase = n, i._yoyo = t)), i = i._next }, Ue = function (e, t) { return e && (V(e) ? e : R[e] || Gr(e)) || t }, Ve = function (e, t, i, n) { i === void 0 && (i = function (c) { return 1 - t(1 - c) }), n === void 0 && (n = function (c) { return c < .5 ? t(c * 2) / 2 : 1 - t((1 - c) * 2) / 2 }); var r = { easeIn: t, easeOut: i, easeInOut: n }, s; return Z(e, function (o) { R[o] = re[o] = r, R[s = o.toLowerCase()] = i; for (var c in r) R[s + (c === "easeIn" ? ".in" : c === "easeOut" ? ".out" : ".inOut")] = R[o + "." + c] = r[c] }), r }, Cn = function (e) { return function (t) { return t < .5 ? (1 - e(1 - t * 2)) / 2 : .5 + e((t - .5) * 2) / 2 } }, _i = function a(e, t, i) { var n = t >= 1 ? t : 1, r = (i || (e ? .3 : .45)) / (t < 1 ? t : 1), s = r / ei * (Math.asin(1 / n) || 0), o = function (u) { return u === 1 ? 1 : n * Math.pow(2, -10 * u) * br((u - s) * r) + 1 }, c = e === "out" ? o : e === "in" ? function (l) { return 1 - o(1 - l) } : Cn(o); return r = ei / r, c.config = function (l, u) { return a(e, l, u) }, c }, gi = function a(e, t) { t === void 0 && (t = 1.70158); var i = function (s) { return s ? --s * s * ((t + 1) * s + t) + 1 : 0 }, n = e === "out" ? i : e === "in" ? function (r) { return 1 - i(1 - r) } : Cn(i); return n.config = function (r) { return a(e, r) }, n }; Z("Linear,Quad,Cubic,Quart,Quint,Strong", function (a, e) { var t = e < 5 ? e + 1 : e; Ve(a + ",Power" + (t - 1), e ? function (i) { return Math.pow(i, t) } : function (i) { return i }, function (i) { return 1 - Math.pow(1 - i, t) }, function (i) { return i < .5 ? Math.pow(i * 2, t) / 2 : 1 - Math.pow((1 - i) * 2, t) / 2 }) }), R.Linear.easeNone = R.none = R.Linear.easeIn, Ve("Elastic", _i("in"), _i("out"), _i()), function (a, e) { var t = 1 / e, i = 2 * t, n = 2.5 * t, r = function (o) { return o < t ? a * o * o : o < i ? a * Math.pow(o - 1.5 / e, 2) + .75 : o < n ? a * (o -= 2.25 / e) * o + .9375 : a * Math.pow(o - 2.625 / e, 2) + .984375 }; Ve("Bounce", function (s) { return 1 - r(1 - s) }, r) }(7.5625, 2.75), Ve("Expo", function (a) { return a ? Math.pow(2, 10 * (a - 1)) : 0 }), Ve("Circ", function (a) { return -(Vi(1 - a * a) - 1) }), Ve("Sine", function (a) { return a === 1 ? 1 : -vr(a * gr) + 1 }), Ve("Back", gi("in"), gi("out"), gi()), R.SteppedEase = R.steps = re.SteppedEase = { config: function (e, t) { e === void 0 && (e = 1); var i = 1 / e, n = e + (t ? 0 : 1), r = t ? 1 : 0, s = 1 - z; return function (o) { return ((n * _t(0, s, o) | 0) + r) * i } } }, et.ease = R["quad.out"], Z("onComplete,onUpdate,onStart,onRepeat,onReverseComplete,onInterrupt", function (a) { return ui += a + "," + a + "Params," }); var En = function (e, t) { this.id = yr++, e._gsap = this, this.target = e, this.harness = t, this.get = t ? t.get : en, this.set = t ? t.getSetter : bi }, bt = function () { function a(t) { this.vars = t, this._delay = +t.delay || 0, (this._repeat = t.repeat === 1 / 0 ? -2 : t.repeat || 0) && (this._rDelay = t.repeatDelay || 0, this._yoyo = !!t.yoyo || !!t.yoyoEase), this._ts = 1, rt(this, +t.duration, 1, 1), this.data = t.data, Ut || de.wake() } var e = a.prototype; return e.delay = function (i) { return i || i === 0 ? (this.parent && this.parent.smoothChildTiming && this.startTime(this._start + i - this._delay), this._delay = i, this) : this._delay }, e.duration = function (i) { return arguments.length ? this.totalDuration(this._repeat > 0 ? i + (i + this._rDelay) * this._repeat : i) : this.totalDuration() && this._dur }, e.totalDuration = function (i) { return arguments.length ? (this._dirty = 0, rt(this, this._repeat < 0 ? i : (i - this._repeat * this._rDelay) / (this._repeat + 1))) : this._tDur }, e.totalTime = function (i, n) { if (ot(), !arguments.length) return this._tTime; var r = this._dp; if (r && r.smoothChildTiming && this._ts) { for (an(this, i), !r._dp || r.parent || cn(r, this); r && r.parent;)r.parent._time !== r._start + (r._ts >= 0 ? r._tTime / r._ts : (r.totalDuration() - r._tTime) / -r._ts) && r.totalTime(r._tTime, !0), r = r.parent; !this.parent && this._dp.autoRemoveChildren && (this._ts > 0 && i < this._tDur || this._ts < 0 && i > 0 || !this._tDur && !i) && _e(this._dp, this, this._start - this._delay) } return (this._tTime !== i || !this._dur && !n || this._initted && Math.abs(this._zTime) === z || !i && !this._initted && (this.add || this._ptLookup)) && (this._ts || (this._pTime = i), tn(this, i, n)), this }, e.time = function (i, n) { return arguments.length ? this.totalTime(Math.min(this.totalDuration(), i + on(this)) % (this._dur + this._rDelay) || (i ? this._dur : 0), n) : this._time }, e.totalProgress = function (i, n) { return arguments.length ? this.totalTime(this.totalDuration() * i, n) : this.totalDuration() ? Math.min(1, this._tTime / this._tDur) : this.ratio }, e.progress = function (i, n) { return arguments.length ? this.totalTime(this.duration() * (this._yoyo && !(this.iteration() & 1) ? 1 - i : i) + on(this), n) : this.duration() ? Math.min(1, this._time / this._dur) : this.ratio }, e.iteration = function (i, n) { var r = this.duration() + this._rDelay; return arguments.length ? this.totalTime(this._time + (i - 1) * r, n) : this._repeat ? nt(this._tTime, r) + 1 : 1 }, e.timeScale = function (i) { if (!arguments.length) return this._rts === -z ? 0 : this._rts; if (this._rts === i) return this; var n = this.parent && this._ts ? Ft(this.parent._time, this) : this._tTime; return this._rts = +i || 0, this._ts = this._ps || i === -z ? 0 : this._rts, Cr(this.totalTime(_t(-this._delay, this._tDur, n), !0)), Ht(this), this }, e.paused = function (i) { return arguments.length ? (this._ps !== i && (this._ps = i, i ? (this._pTime = this._tTime || Math.max(-this._delay, this.rawTime()), this._ts = this._act = 0) : (ot(), this._ts = this._rts, this.totalTime(this.parent && !this.parent.smoothChildTiming ? this.rawTime() : this._tTime || this._pTime, this.progress() === 1 && Math.abs(this._zTime) !== z && (this._tTime -= z)))), this) : this._ps }, e.startTime = function (i) { if (arguments.length) { this._start = i; var n = this.parent || this._dp; return n && (n._sort || !this.parent) && _e(n, this, i - this._delay), this } return this._start }, e.endTime = function (i) { return this._start + (K(i) ? this.totalDuration() : this.duration()) / Math.abs(this._ts || 1) }, e.rawTime = function (i) { var n = this.parent || this._dp; return n ? i && (!this._ts || this._repeat && this._time && this.totalProgress() < 1) ? this._tTime % (this._dur + this._rDelay) : this._ts ? Ft(n.rawTime(i), this) : this._tTime : this._tTime }, e.globalTime = function (i) { for (var n = this, r = arguments.length ? i : n.rawTime(); n;)r = n._start + r / (n._ts || 1), n = n._dp; return r }, e.repeat = function (i) { return arguments.length ? (this._repeat = i === 1 / 0 ? -2 : i, hn(this)) : this._repeat === -2 ? 1 / 0 : this._repeat }, e.repeatDelay = function (i) { if (arguments.length) { var n = this._time; return this._rDelay = i, hn(this), n ? this.time(n) : this } return this._rDelay }, e.yoyo = function (i) { return arguments.length ? (this._yoyo = i, this) : this._yoyo }, e.seek = function (i, n) { return this.totalTime(ue(this, i), K(n)) }, e.restart = function (i, n) { return this.play().totalTime(i ? -this._delay : 0, K(n)) }, e.play = function (i, n) { return i != null && this.seek(i, n), this.reversed(!1).paused(!1) }, e.reverse = function (i, n) { return i != null && this.seek(i || this.totalDuration(), n), this.reversed(!0).paused(!1) }, e.pause = function (i, n) { return i != null && this.seek(i, n), this.paused(!0) }, e.resume = function () { return this.paused(!1) }, e.reversed = function (i) { return arguments.length ? (!!i !== this.reversed() && this.timeScale(-this._rts || (i ? -z : 0)), this) : this._rts < 0 }, e.invalidate = function () { return this._initted = this._act = 0, this._zTime = -z, this }, e.isActive = function () { var i = this.parent || this._dp, n = this._start, r; return !!(!i || this._ts && this._initted && i.isActive() && (r = i.rawTime(!0)) >= n && r < this.endTime(!0) - z) }, e.eventCallback = function (i, n, r) { var s = this.vars; return arguments.length > 1 ? (n ? (s[i] = n, r && (s[i + "Params"] = r), i === "onUpdate" && (this._onUpdate = n)) : delete s[i], this) : s[i] }, e.then = function (i) { var n = this; return new Promise(function (r) { var s = V(i) ? i : rn, o = function () { var l = n.then; n.then = null, V(s) && (s = s(n)) && (s.then || s === n) && (n.then = l), r(s), n.then = l }; n._initted && n.totalProgress() === 1 && n._ts >= 0 || !n._tTime && n._ts < 0 ? o() : n._prom = o }) }, e.kill = function () { yt(this) }, a }(); le(bt.prototype, { _time: 0, _start: 0, _end: 0, _tTime: 0, _tDur: 0, _dirty: 0, _repeat: 0, _yoyo: !1, parent: null, _initted: !1, _rDelay: 0, _ts: 1, _dp: 0, ratio: 0, _zTime: -z, _prom: 0, _ps: !1, _rts: 1 }); var ee = function (a) { Ui(e, a); function e(i, n) { var r; return i === void 0 && (i = {}), r = a.call(this, i) || this, r.labels = {}, r.smoothChildTiming = !!i.smoothChildTiming, r.autoRemoveChildren = !!i.autoRemoveChildren, r._sort = K(i.sortChildren), B && _e(i.parent || B, ae(r), n), i.reversed && r.reverse(), i.paused && r.paused(!0), i.scrollTrigger && ln(ae(r), i.scrollTrigger), r } var t = e.prototype; return t.to = function (n, r, s) { return mt(0, arguments, this), this }, t.from = function (n, r, s) { return mt(1, arguments, this), this }, t.fromTo = function (n, r, s, o) { return mt(2, arguments, this), this }, t.set = function (n, r, s) { return r.duration = 0, r.parent = this, pt(r).repeatDelay || (r.repeat = 0), r.immediateRender = !!r.immediateRender, new W(n, r, ue(this, s), 1), this }, t.call = function (n, r, s) { return _e(this, W.delayedCall(0, n, r), s) }, t.staggerTo = function (n, r, s, o, c, l, u) { return s.duration = r, s.stagger = s.stagger || o, s.onComplete = l, s.onCompleteParams = u, s.parent = this, new W(n, s, ue(this, c)), this }, t.staggerFrom = function (n, r, s, o, c, l, u) { return s.runBackwards = 1, pt(s).immediateRender = K(s.immediateRender), this.staggerTo(n, r, s, o, c, l, u) }, t.staggerFromTo = function (n, r, s, o, c, l, u, f) { return o.startAt = s, pt(o).immediateRender = K(o.immediateRender), this.staggerTo(n, r, o, c, l, u, f) }, t.render = function (n, r, s) { var o = this._time, c = this._dirty ? this.totalDuration() : this._tDur, l = this._dur, u = n <= 0 ? 0 : X(n), f = this._zTime < 0 != n < 0 && (this._initted || !l), d, p, m, h, g, _, y, v, x, b, w, T; if (this !== B && u > c && n >= 0 && (u = c), u !== this._tTime || s || f) { if (o !== this._time && l && (u += this._time - o, n += this._time - o), d = u, x = this._start, v = this._ts, _ = !v, f && (l || (o = this._zTime), (n || !r) && (this._zTime = n)), this._repeat) { if (w = this._yoyo, g = l + this._rDelay, this._repeat < -1 && n < 0) return this.totalTime(g * 100 + n, r, s); if (d = X(u % g), u === c ? (h = this._repeat, d = l) : (h = ~~(u / g), h && h === u / g && (d = l, h--), d > l && (d = l)), b = nt(this._tTime, g), !o && this._tTime && b !== h && (b = h), w && h & 1 && (d = l - d, T = 1), h !== b && !this._lock) { var P = w && b & 1, S = P === (w && h & 1); if (h < b && (P = !P), o = P ? 0 : l, this._lock = 1, this.render(o || (T ? 0 : X(h * g)), r, !l)._lock = 0, this._tTime = u, !r && this.parent && fe(this, "onRepeat"), this.vars.repeatRefresh && !T && (this.invalidate()._lock = 1), o && o !== this._time || _ !== !this._ts || this.vars.onRepeat && !this.parent && !this._act) return this; if (l = this._dur, c = this._tDur, S && (this._lock = 2, o = P ? l : -1e-4, this.render(o, !0), this.vars.repeatRefresh && !T && this.invalidate()), this._lock = 0, !this._ts && !_) return this; Pn(this, T) } } if (this._hasPause && !this._forcing && this._lock < 2 && (y = Or(this, X(o), X(d)), y && (u -= d - (d = y._start))), this._tTime = u, this._time = d, this._act = !v, this._initted || (this._onUpdate = this.vars.onUpdate, this._initted = 1, this._zTime = n, o = 0), !o && d && !r && (fe(this, "onStart"), this._tTime !== u)) return this; if (d >= o && n >= 0) for (p = this._first; p;) { if (m = p._next, (p._act || d >= p._start) && p._ts && y !== p) { if (p.parent !== this) return this.render(n, r, s); if (p.render(p._ts > 0 ? (d - p._start) * p._ts : (p._dirty ? p.totalDuration() : p._tDur) + (d - p._start) * p._ts, r, s), d !== this._time || !this._ts && !_) { y = 0, m && (u += this._zTime = -z); break } } p = m } else { p = this._last; for (var C = n < 0 ? n : d; p;) { if (m = p._prev, (p._act || C <= p._end) && p._ts && y !== p) { if (p.parent !== this) return this.render(n, r, s); if (p.render(p._ts > 0 ? (C - p._start) * p._ts : (p._dirty ? p.totalDuration() : p._tDur) + (C - p._start) * p._ts, r, s), d !== this._time || !this._ts && !_) { y = 0, m && (u += this._zTime = C ? -z : z); break } } p = m } } if (y && !r && (this.pause(), y.render(d >= o ? 0 : -z)._zTime = d >= o ? 1 : -1, this._ts)) return this._start = x, Ht(this), this.render(n, r, s); this._onUpdate && !r && fe(this, "onUpdate", !0), (u === c && c >= this.totalDuration() || !u && o) && (x === this._start || Math.abs(v) !== Math.abs(this._ts)) && (this._lock || ((n || !l) && (u === c && this._ts > 0 || !u && this._ts < 0) && Se(this, 1), !r && !(n < 0 && !o) && (u || o || !c) && (fe(this, u === c && n >= 0 ? "onComplete" : "onReverseComplete", !0), this._prom && !(u < c && this.timeScale() > 0) && this._prom()))) } return this }, t.add = function (n, r) { var s = this; if (we(r) || (r = ue(this, r, n)), !(n instanceof bt)) { if (G(n)) return n.forEach(function (o) { return s.add(o, r) }), this; if (U(n)) return this.addLabel(n, r); if (V(n)) n = W.delayedCall(0, n); else return this } return this !== n ? _e(this, n, r) : this }, t.getChildren = function (n, r, s, o) { n === void 0 && (n = !0), r === void 0 && (r = !0), s === void 0 && (s = !0), o === void 0 && (o = -ce); for (var c = [], l = this._first; l;)l._start >= o && (l instanceof W ? r && c.push(l) : (s && c.push(l), n && c.push.apply(c, l.getChildren(!0, r, s)))), l = l._next; return c }, t.getById = function (n) { for (var r = this.getChildren(1, 1, 1), s = r.length; s--;)if (r[s].vars.id === n) return r[s] }, t.remove = function (n) { return U(n) ? this.removeLabel(n) : V(n) ? this.killTweensOf(n) : (Nt(this, n), n === this._recent && (this._recent = this._last), He(this)) }, t.totalTime = function (n, r) { return arguments.length ? (this._forcing = 1, !this._dp && this._ts && (this._start = X(de.time - (this._ts > 0 ? n / this._ts : (this.totalDuration() - n) / -this._ts))), a.prototype.totalTime.call(this, n, r), this._forcing = 0, this) : this._tTime }, t.addLabel = function (n, r) { return this.labels[n] = ue(this, r), this }, t.removeLabel = function (n) { return delete this.labels[n], this }, t.addPause = function (n, r, s) { var o = W.delayedCall(0, r || dt, s); return o.data = "isPause", this._hasPause = 1, _e(this, o, ue(this, n)) }, t.removePause = function (n) { var r = this._first; for (n = ue(this, n); r;)r._start === n && r.data === "isPause" && Se(r), r = r._next }, t.killTweensOf = function (n, r, s) { for (var o = this.getTweensOf(n, s), c = o.length; c--;)ke !== o[c] && o[c].kill(n, r); return this }, t.getTweensOf = function (n, r) { for (var s = [], o = he(n), c = this._first, l = we(r), u; c;)c instanceof W ? xr(c._targets, o) && (l ? (!ke || c._initted && c._ts) && c.globalTime(0) <= r && c.globalTime(c.totalDuration()) > r : !r || c.isActive()) && s.push(c) : (u = c.getTweensOf(o, r)).length && s.push.apply(s, u), c = c._next; return s }, t.tweenTo = function (n, r) { r = r || {}; var s = this, o = ue(s, n), c = r, l = c.startAt, u = c.onStart, f = c.onStartParams, d = c.immediateRender, p, m = W.to(s, le({ ease: r.ease || "none", lazy: !1, immediateRender: !1, time: o, overwrite: "auto", duration: r.duration || Math.abs((o - (l && "time" in l ? l.time : s._time)) / s.timeScale()) || z, onStart: function () { if (s.pause(), !p) { var g = r.duration || Math.abs((o - (l && "time" in l ? l.time : s._time)) / s.timeScale()); m._dur !== g && rt(m, g, 0, 1).render(m._time, !0, !0), p = 1 } u && u.apply(m, f || []) } }, r)); return d ? m.render(0) : m }, t.tweenFromTo = function (n, r, s) { return this.tweenTo(r, le({ startAt: { time: ue(this, n) } }, s)) }, t.recent = function () { return this._recent }, t.nextLabel = function (n) { return n === void 0 && (n = this._time), vn(this, ue(this, n)) }, t.previousLabel = function (n) { return n === void 0 && (n = this._time), vn(this, ue(this, n), 1) }, t.currentLabel = function (n) { return arguments.length ? this.seek(n, !0) : this.previousLabel(this._time + z) }, t.shiftChildren = function (n, r, s) { s === void 0 && (s = 0); for (var o = this._first, c = this.labels, l; o;)o._start >= s && (o._start += n, o._end += n), o = o._next; if (r) for (l in c) c[l] >= s && (c[l] += n); return He(this) }, t.invalidate = function () { var n = this._first; for (this._lock = 0; n;)n.invalidate(), n = n._next; return a.prototype.invalidate.call(this) }, t.clear = function (n) { n === void 0 && (n = !0); for (var r = this._first, s; r;)s = r._next, this.remove(r), r = s; return this._dp && (this._time = this._tTime = this._pTime = 0), n && (this.labels = {}), He(this) }, t.totalDuration = function (n) { var r = 0, s = this, o = s._last, c = ce, l, u, f; if (arguments.length) return s.timeScale((s._repeat < 0 ? s.duration() : s.totalDuration()) / (s.reversed() ? -n : n)); if (s._dirty) { for (f = s.parent; o;)l = o._prev, o._dirty && o.totalDuration(), u = o._start, u > c && s._sort && o._ts && !s._lock ? (s._lock = 1, _e(s, o, u - o._delay, 1)._lock = 0) : c = u, u < 0 && o._ts && (r -= u, (!f && !s._dp || f && f.smoothChildTiming) && (s._start += u / s._ts, s._time -= u, s._tTime -= u), s.shiftChildren(-u, !1, -1 / 0), c = 0), o._end > r && o._ts && (r = o._end), o = l; rt(s, s === B && s._time > r ? s._time : r, 1, 1), s._dirty = 0 } return s._tDur }, e.updateRoot = function (n) { if (B._ts && (tn(B, Ft(n, B)), Zi = de.frame), de.frame >= Ji) { Ji += ne.autoSleep || 120; var r = B._first; if ((!r || !r._ts) && ne.autoSleep && de._listeners.length < 2) { for (; r && !r._ts;)r = r._next; r || de.sleep() } } }, e }(bt); le(ee.prototype, { _lock: 0, _hasPause: 0, _forcing: 0 }); var Xr = function (e, t, i, n, r, s, o) { var c = new te(this._pt, e, t, 0, 1, Rn, null, r), l = 0, u = 0, f, d, p, m, h, g, _, y; for (c.b = i, c.e = n, i += "", n += "", (_ = ~n.indexOf("random(")) && (n = gt(n)), s && (y = [i, n], s(y, e, t), i = y[0], n = y[1]), d = i.match(ni) || []; f = ni.exec(n);)m = f[0], h = n.substring(l, f.index), p ? p = (p + 1) % 5 : h.substr(-5) === "rgba(" && (p = 1), m !== d[u++] && (g = parseFloat(d[u - 1]) || 0, c._pt = { _next: c._pt, p: h || u === 1 ? h : ",", s: g, c: m.charAt(1) === "=" ? parseFloat(m.substr(2)) * (m.charAt(0) === "-" ? -1 : 1) : parseFloat(m) - g, m: p && p < 4 ? Math.round : 0 }, l = ni.lastIndex); return c.c = l < n.length ? n.substring(l, n.length) : "", c.fp = o, (Gi.test(n) || _) && (c.e = 0), this._pt = c, c }, yi = function (e, t, i, n, r, s, o, c, l) { V(n) && (n = n(r || 0, e, s)); var u = e[t], f = i !== "get" ? i : V(u) ? l ? e[t.indexOf("set") || !V(e["get" + t.substr(3)]) ? t : "get" + t.substr(3)](l) : e[t]() : u, d = V(u) ? l ? Jr : Ln : vi, p; if (U(n) && (~n.indexOf("random(") && (n = gt(n)), n.charAt(1) === "=" && (p = parseFloat(f) + parseFloat(n.substr(2)) * (n.charAt(0) === "-" ? -1 : 1) + (J(f) || 0), (p || p === 0) && (n = p))), f !== n) return !isNaN(f * n) && n !== "" ? (p = new te(this._pt, e, t, +f || 0, n - (f || 0), typeof u == "boolean" ? ts : An, 0, d), l && (p.fp = l), o && p.modifier(o, this, e), this._pt = p) : (!u && !(t in e) && oi(t, n), Xr.call(this, e, t, f, n, d, c || ne.stringFilter, l)) }, Yr = function (e, t, i, n, r) { if (V(e) && (e = wt(e, r, t, i, n)), !xe(e) || e.style && e.nodeType || G(e) || $i(e)) return U(e) ? wt(e, r, t, i, n) : e; var s = {}, o; for (o in e) s[o] = wt(e[o], r, t, i, n); return s }, kn = function (e, t, i, n, r, s) { var o, c, l, u; if (se[e] && (o = new se[e]).init(r, o.rawVars ? t[e] : Yr(t[e], n, r, s, i), i, n, s) !== !1 && (i._pt = c = new te(i._pt, r, e, 0, 1, o.render, o, 0, o.priority), i !== st)) for (l = i._ptLookup[i._targets.indexOf(r)], u = o._props.length; u--;)l[o._props[u]] = c; return o }, ke, Qr = function a(e, t) { var i = e.vars, n = i.ease, r = i.startAt, s = i.immediateRender, o = i.lazy, c = i.onUpdate, l = i.onUpdateParams, u = i.callbackScope, f = i.runBackwards, d = i.yoyoEase, p = i.keyframes, m = i.autoRevert, h = e._dur, g = e._startAt, _ = e._targets, y = e.parent, v = y && y.data === "nested" ? y.parent._targets : _, x = e._overwrite === "auto" && !Jt, b = e.timeline, w, T, P, S, C, M, E, O, k, L, A, q, Y; if (b && (!p || !n) && (n = "none"), e._ease = Ue(n, et.ease), e._yEase = d ? Tn(Ue(d === !0 ? n : d, et.ease)) : 0, d && e._yoyo && !e._repeat && (d = e._yEase, e._yEase = e._ease, e._ease = d), e._from = !b && !!i.runBackwards, !b || p && !i.stagger) { if (O = _[0] ? Fe(_[0]).harness : 0, q = O && i[O.prop], w = Bt(i, ai), g && Se(g.render(-1, !0)), r) if (Se(e._startAt = W.set(_, le({ data: "isStart", overwrite: !1, parent: y, immediateRender: !0, lazy: K(o), startAt: null, delay: 0, onUpdate: c, onUpdateParams: l, callbackScope: u, stagger: 0 }, r))), t < 0 && !s && !m && e._startAt.render(-1, !0), s) { if (t > 0 && !m && (e._startAt = 0), h && t <= 0) { t && (e._zTime = t); return } } else m === !1 && (e._startAt = 0); else if (f && h) { if (g) !m && (e._startAt = 0); else if (t && (s = !1), P = le({ overwrite: !1, data: "isFromStart", lazy: s && K(o), immediateRender: s, stagger: 0, parent: y }, w), q && (P[O.prop] = q), Se(e._startAt = W.set(_, P)), t < 0 && e._startAt.render(-1, !0), e._zTime = t, !s) a(e._startAt, z); else if (!t) return } for (e._pt = 0, o = h && K(o) || o && !h, T = 0; T < _.length; T++) { if (C = _[T], E = C._gsap || hi(_)[T]._gsap, e._ptLookup[T] = L = {}, ci[E.id] && Pe.length && qt(), A = v === _ ? T : v.indexOf(C), O && (k = new O).init(C, q || w, e, A, v) !== !1 && (e._pt = S = new te(e._pt, C, k.name, 0, 1, k.render, k, 0, k.priority), k._props.forEach(function (D) { L[D] = S }), k.priority && (M = 1)), !O || q) for (P in w) se[P] && (k = kn(P, w, e, A, C, v)) ? k.priority && (M = 1) : L[P] = S = yi.call(e, C, P, "get", w[P], A, v, 0, i.stringFilter); e._op && e._op[T] && e.kill(C, e._op[T]), x && e._pt && (ke = e, B.killTweensOf(C, L, e.globalTime(t)), Y = !e.parent, ke = 0), e._pt && o && (ci[E.id] = 1) } M && Dn(e), e._onInit && e._onInit(e) } e._onUpdate = c, e._initted = (!e._op || e._pt) && !Y, p && t <= 0 && b.render(ce, !0, !0) }, Kr = function (e, t) { var i = e[0] ? Fe(e[0]).harness : 0, n = i && i.aliases, r, s, o, c; if (!n) return t; r = it({}, t); for (s in n) if (s in r) for (c = n[s].split(","), o = c.length; o--;)r[c[o]] = r[s]; return r }, Zr = function (e, t, i, n) { var r = t.ease || n || "power1.inOut", s, o; if (G(t)) o = i[e] || (i[e] = []), t.forEach(function (c, l) { return o.push({ t: l / (t.length - 1) * 100, v: c, e: r }) }); else for (s in t) o = i[s] || (i[s] = []), s === "ease" || o.push({ t: parseFloat(e), v: t[s], e: r }) }, wt = function (e, t, i, n, r) { return V(e) ? e.call(t, i, n, r) : U(e) && ~e.indexOf("random(") ? gt(e) : e }, Mn = ui + "repeat,repeatDelay,yoyo,repeatRefresh,yoyoEase", On = {}; Z(Mn + ",id,stagger,delay,duration,paused,scrollTrigger", function (a) { return On[a] = 1 }); var W = function (a) { Ui(e, a); function e(i, n, r, s) { var o; typeof n == "number" && (r.duration = n, n = r, r = null), o = a.call(this, s ? n : pt(n)) || this; var c = o.vars, l = c.duration, u = c.delay, f = c.immediateRender, d = c.stagger, p = c.overwrite, m = c.keyframes, h = c.defaults, g = c.scrollTrigger, _ = c.yoyoEase, y = n.parent || B, v = (G(i) || $i(i) ? we(i[0]) : "length" in n) ? [i] : he(i), x, b, w, T, P, S, C, M; if (o._targets = v.length ? hi(v) : zt("GSAP target " + i + " not found. https://greensock.com", !ne.nullTargetWarn) || [], o._ptLookup = [], o._overwrite = p, m || d || Rt(l) || Rt(u)) { if (n = o.vars, x = o.timeline = new ee({ data: "nested", defaults: h || {} }), x.kill(), x.parent = x._dp = ae(o), x._start = 0, d || Rt(l) || Rt(u)) { if (T = v.length, C = d && pn(d), xe(d)) for (P in d) ~Mn.indexOf(P) && (M || (M = {}), M[P] = d[P]); for (b = 0; b < T; b++)w = Bt(n, On), w.stagger = 0, _ && (w.yoyoEase = _), M && it(w, M), S = v[b], w.duration = +wt(l, ae(o), b, S, v), w.delay = (+wt(u, ae(o), b, S, v) || 0) - o._delay, !d && T === 1 && w.delay && (o._delay = u = w.delay, o._start += u, w.delay = 0), x.to(S, w, C ? C(b, S, v) : 0), x._ease = R.none; x.duration() ? l = u = 0 : o.timeline = 0 } else if (m) { pt(le(x.vars.defaults, { ease: "none" })), x._ease = Ue(m.ease || n.ease || "none"); var E = 0, O, k, L; if (G(m)) m.forEach(function (A) { return x.to(v, A, ">") }); else { w = {}; for (P in m) P === "ease" || P === "easeEach" || Zr(P, m[P], w, m.easeEach); for (P in w) for (O = w[P].sort(function (A, q) { return A.t - q.t }), E = 0, b = 0; b < O.length; b++)k = O[b], L = { ease: k.e, duration: (k.t - (b ? O[b - 1].t : 0)) / 100 * l }, L[P] = k.v, x.to(v, L, E), E += L.duration; x.duration() < l && x.to({}, { duration: l - x.duration() }) } } l || o.duration(l = x.duration()) } else o.timeline = 0; return p === !0 && !Jt && (ke = ae(o), B.killTweensOf(v), ke = 0), _e(y, ae(o), r), n.reversed && o.reverse(), n.paused && o.paused(!0), (f || !l && !m && o._start === X(y._time) && K(f) && Er(ae(o)) && y.data !== "nested") && (o._tTime = -z, o.render(Math.max(0, -u))), g && ln(ae(o), g), o } var t = e.prototype; return t.render = function (n, r, s) { var o = this._time, c = this._tDur, l = this._dur, u = n > c - z && n >= 0 ? c : n < z ? 0 : n, f, d, p, m, h, g, _, y, v; if (!l) Mr(this, n, r, s); else if (u !== this._tTime || !n || s || !this._initted && this._tTime || this._startAt && this._zTime < 0 != n < 0) { if (f = u, y = this.timeline, this._repeat) { if (m = l + this._rDelay, this._repeat < -1 && n < 0) return this.totalTime(m * 100 + n, r, s); if (f = X(u % m), u === c ? (p = this._repeat, f = l) : (p = ~~(u / m), p && p === u / m && (f = l, p--), f > l && (f = l)), g = this._yoyo && p & 1, g && (v = this._yEase, f = l - f), h = nt(this._tTime, m), f === o && !s && this._initted) return this; p !== h && (y && this._yEase && Pn(y, g), this.vars.repeatRefresh && !g && !this._lock && (this._lock = s = 1, this.render(X(m * p), !0).invalidate()._lock = 0)) } if (!this._initted) { if (un(this, n < 0 ? n : f, s, r)) return this._tTime = 0, this; if (l !== this._dur) return this.render(n, r, s) } if (this._tTime = u, this._time = f, !this._act && this._ts && (this._act = 1, this._lazy = 0), this.ratio = _ = (v || this._ease)(f / l), this._from && (this.ratio = _ = 1 - _), f && !o && !r && (fe(this, "onStart"), this._tTime !== u)) return this; for (d = this._pt; d;)d.r(_, d.d), d = d._next; y && y.render(n < 0 ? n : !f && g ? -z : y._dur * y._ease(f / this._dur), r, s) || this._startAt && (this._zTime = n), this._onUpdate && !r && (n < 0 && this._startAt && this._startAt.render(n, !0, s), fe(this, "onUpdate")), this._repeat && p !== h && this.vars.onRepeat && !r && this.parent && fe(this, "onRepeat"), (u === this._tDur || !u) && this._tTime === u && (n < 0 && this._startAt && !this._onUpdate && this._startAt.render(n, !0, !0), (n || !l) && (u === this._tDur && this._ts > 0 || !u && this._ts < 0) && Se(this, 1), !r && !(n < 0 && !o) && (u || o) && (fe(this, u === c ? "onComplete" : "onReverseComplete", !0), this._prom && !(u < c && this.timeScale() > 0) && this._prom())) } return this }, t.targets = function () { return this._targets }, t.invalidate = function () { return this._pt = this._op = this._startAt = this._onUpdate = this._lazy = this.ratio = 0, this._ptLookup = [], this.timeline && this.timeline.invalidate(), a.prototype.invalidate.call(this) }, t.kill = function (n, r) { if (r === void 0 && (r = "all"), !n && (!r || r === "all")) return this._lazy = this._pt = 0, this.parent ? yt(this) : this; if (this.timeline) { var s = this.timeline.totalDuration(); return this.timeline.killTweensOf(n, r, ke && ke.vars.overwrite !== !0)._first || yt(this), this.parent && s !== this.timeline.totalDuration() && rt(this, this._dur * this.timeline._tDur / s, 0, 1), this } var o = this._targets, c = n ? he(n) : o, l = this._ptLookup, u = this._pt, f, d, p, m, h, g, _; if ((!r || r === "all") && Tr(o, c)) return r === "all" && (this._pt = 0), yt(this); for (f = this._op = this._op || [], r !== "all" && (U(r) && (h = {}, Z(r, function (y) { return h[y] = 1 }), r = h), r = Kr(o, r)), _ = o.length; _--;)if (~c.indexOf(o[_])) { d = l[_], r === "all" ? (f[_] = r, m = d, p = {}) : (p = f[_] = f[_] || {}, m = r); for (h in m) g = d && d[h], g && ((!("kill" in g.d) || g.d.kill(h) === !0) && Nt(this, g, "_pt"), delete d[h]), p !== "all" && (p[h] = 1) } return this._initted && !this._pt && u && yt(this), this }, e.to = function (n, r) { return new e(n, r, arguments[2]) }, e.from = function (n, r) { return mt(1, arguments) }, e.delayedCall = function (n, r, s, o) { return new e(r, 0, { immediateRender: !1, lazy: !1, overwrite: !1, delay: n, onComplete: r, onReverseComplete: r, onCompleteParams: s, onReverseCompleteParams: s, callbackScope: o }) }, e.fromTo = function (n, r, s) { return mt(2, arguments) }, e.set = function (n, r) { return r.duration = 0, r.repeatDelay || (r.repeat = 0), new e(n, r) }, e.killTweensOf = function (n, r, s) { return B.killTweensOf(n, r, s) }, e }(bt); le(W.prototype, { _targets: [], _lazy: 0, _startAt: 0, _op: 0, _onInit: 0 }), Z("staggerTo,staggerFrom,staggerFromTo", function (a) { W[a] = function () { var e = new ee, t = di.call(arguments, 0); return t.splice(a === "staggerFromTo" ? 5 : 4, 0, 0), e[a].apply(e, t) } }); var vi = function (e, t, i) { return e[t] = i }, Ln = function (e, t, i) { return e[t](i) }, Jr = function (e, t, i, n) { return e[t](n.fp, i) }, es = function (e, t, i) { return e.setAttribute(t, i) }, bi = function (e, t) { return V(e[t]) ? Ln : ti(e[t]) && e.setAttribute ? es : vi }, An = function (e, t) { return t.set(t.t, t.p, Math.round((t.s + t.c * e) * 1e6) / 1e6, t) }, ts = function (e, t) { return t.set(t.t, t.p, !!(t.s + t.c * e), t) }, Rn = function (e, t) { var i = t._pt, n = ""; if (!e && t.b) n = t.b; else if (e === 1 && t.e) n = t.e; else { for (; i;)n = i.p + (i.m ? i.m(i.s + i.c * e) : Math.round((i.s + i.c * e) * 1e4) / 1e4) + n, i = i._next; n += t.c } t.set(t.t, t.p, n, t) }, wi = function (e, t) { for (var i = t._pt; i;)i.r(e, i.d), i = i._next }, is = function (e, t, i, n) { for (var r = this._pt, s; r;)s = r._next, r.p === n && r.modifier(e, t, i), r = s }, ns = function (e) { for (var t = this._pt, i, n; t;)n = t._next, t.p === e && !t.op || t.op === e ? Nt(this, t, "_pt") : t.dep || (i = 1), t = n; return !i }, rs = function (e, t, i, n) { n.mSet(e, t, n.m.call(n.tween, i, n.mt), n) }, Dn = function (e) { for (var t = e._pt, i, n, r, s; t;) { for (i = t._next, n = r; n && n.pr > t.pr;)n = n._next; (t._prev = n ? n._prev : s) ? t._prev._next = t : r = t, (t._next = n) ? n._prev = t : s = t, t = i } e._pt = r }, te = function () { function a(t, i, n, r, s, o, c, l, u) { this.t = i, this.s = r, this.c = s, this.p = n, this.r = o || An, this.d = c || this, this.set = l || vi, this.pr = u || 0, this._next = t, t && (t._prev = this) } var e = a.prototype; return e.modifier = function (i, n, r) { this.mSet = this.mSet || this.set, this.set = rs, this.m = i, this.mt = r, this.tween = n }, a }(); Z(ui + "parent,duration,ease,delay,overwrite,runBackwards,startAt,yoyo,immediateRender,repeat,repeatDelay,data,paused,reversed,lazy,callbackScope,stringFilter,id,yoyoEase,stagger,inherit,repeatRefresh,keyframes,autoRevert,scrollTrigger", function (a) { return ai[a] = 1 }), re.TweenMax = re.TweenLite = W, re.TimelineLite = re.TimelineMax = ee, B = new ee({ sortChildren: !1, defaults: et, autoRemoveChildren: !0, id: "root", smoothChildTiming: !0 }), ne.stringFilter = Sn; var Vt = { registerPlugin: function () { for (var e = arguments.length, t = new Array(e), i = 0; i < e; i++)t[i] = arguments[i]; t.forEach(function (n) { return Hr(n) }) }, timeline: function (e) { return new ee(e) }, getTweensOf: function (e, t) { return B.getTweensOf(e, t) }, getProperty: function (e, t, i, n) { U(e) && (e = he(e)[0]); var r = Fe(e || {}).get, s = i ? rn : nn; return i === "native" && (i = ""), e && (t ? s((se[t] && se[t].get || r)(e, t, i, n)) : function (o, c, l) { return s((se[o] && se[o].get || r)(e, o, c, l)) }) }, quickSetter: function (e, t, i) { if (e = he(e), e.length > 1) { var n = e.map(function (u) { return ge.quickSetter(u, t, i) }), r = n.length; return function (u) { for (var f = r; f--;)n[f](u) } } e = e[0] || {}; var s = se[t], o = Fe(e), c = o.harness && (o.harness.aliases || {})[t] || t, l = s ? function (u) { var f = new s; st._pt = 0, f.init(e, i ? u + i : u, st, 0, [e]), f.render(1, f), st._pt && wi(1, st) } : o.set(e, c); return s ? l : function (u) { return l(e, c, i ? u + i : u, o, 1) } }, isTweening: function (e) { return B.getTweensOf(e, !0).length > 0 }, defaults: function (e) { return e && e.ease && (e.ease = Ue(e.ease, et.ease)), sn(et, e || {}) }, config: function (e) { return sn(ne, e || {}) }, registerEffect: function (e) { var t = e.name, i = e.effect, n = e.plugins, r = e.defaults, s = e.extendTimeline; (n || "").split(",").forEach(function (o) { return o && !se[o] && !re[o] && zt(t + " effect requires " + o + " plugin.") }), li[t] = function (o, c, l) { return i(he(o), le(c || {}, r), l) }, s && (ee.prototype[t] = function (o, c, l) { return this.add(li[t](o, xe(c) ? c : (l = c) && {}, this), l) }) }, registerEase: function (e, t) { R[e] = Ue(t) }, parseEase: function (e, t) { return arguments.length ? Ue(e, t) : R }, getById: function (e) { return B.getById(e) }, exportRoot: function (e, t) { e === void 0 && (e = {}); var i = new ee(e), n, r; for (i.smoothChildTiming = K(e.smoothChildTiming), B.remove(i), i._dp = 0, i._time = i._tTime = B._time, n = B._first; n;)r = n._next, (t || !(!n._dur && n instanceof W && n.vars.onComplete === n._targets[0])) && _e(i, n, n._start - n._delay), n = r; return _e(B, i, 0), i }, utils: { wrap: Br, wrapYoyo: Nr, distribute: pn, random: _n, snap: mn, normalize: qr, getUnit: J, clamp: Ar, splitColor: bn, toArray: he, selector: Dr, mapRange: yn, pipe: zr, unitize: Ir, interpolate: Fr, shuffle: dn }, install: Qi, effects: li, ticker: de, updateRoot: ee.updateRoot, plugins: se, globalTimeline: B, core: { PropTween: te, globals: Ki, Tween: W, Timeline: ee, Animation: bt, getCache: Fe, _removeLinkedListItem: Nt, suppressOverwrites: function (e) { return Jt = e } } }; Z("to,from,fromTo,delayedCall,set,killTweensOf", function (a) { return Vt[a] = W[a] }), de.add(ee.updateRoot), st = Vt.to({}, { duration: 0 }); var ss = function (e, t) { for (var i = e._pt; i && i.p !== t && i.op !== t && i.fp !== t;)i = i._next; return i }, os = function (e, t) { var i = e._targets, n, r, s; for (n in t) for (r = i.length; r--;)s = e._ptLookup[r][n], s && (s = s.d) && (s._pt && (s = ss(s, n)), s && s.modifier && s.modifier(t[n], e, i[r], n)) }, xi = function (e, t) { return { name: e, rawVars: 1, init: function (n, r, s) { s._onInit = function (o) { var c, l; if (U(r) && (c = {}, Z(r, function (u) { return c[u] = 1 }), r = c), t) { c = {}; for (l in r) c[l] = t(r[l]); r = c } os(o, r) } } } }, ge = Vt.registerPlugin({ name: "attr", init: function (e, t, i, n, r) { var s, o; for (s in t) o = this.add(e, "setAttribute", (e.getAttribute(s) || 0) + "", t[s], n, r, 0, 0, s), o && (o.op = s), this._props.push(s) } }, { name: "endArray", init: function (e, t) { for (var i = t.length; i--;)this.add(e, i, e[i] || 0, t[i]) } }, xi("roundProps", pi), xi("modifiers"), xi("snap", mn)) || Vt; W.version = ee.version = ge.version = "3.9.1", Yi = 1, Wi() && ot(), R.Power0, R.Power1, R.Power2, R.Power3, R.Power4, R.Linear, R.Quad, R.Cubic, R.Quart, R.Quint, R.Strong, R.Elastic, R.Back, R.SteppedEase, R.Bounce, R.Sine, R.Expo, R.Circ;/*!
 * CSSPlugin 3.9.1
 * https://greensock.com
 *
 * Copyright 2008-2021, GreenSock. All rights reserved.
 * Subject to the terms at https://greensock.com/standard-license or for
 * Club GreenSock members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
*/var zn, Me, at, Si, We, In, as = function () { return typeof window != "undefined" }, Oe = {}, $e = 180 / Math.PI, ct = Math.PI / 180, lt = Math.atan2, qn = 1e8, Bn = /([A-Z])/g, cs = /(?:left|right|width|margin|padding|x)/i, ls = /[\s,\(]\S/, Le = { autoAlpha: "opacity,visibility", scale: "scaleX,scaleY", alpha: "opacity" }, Nn = function (e, t) { return t.set(t.t, t.p, Math.round((t.s + t.c * e) * 1e4) / 1e4 + t.u, t) }, us = function (e, t) { return t.set(t.t, t.p, e === 1 ? t.e : Math.round((t.s + t.c * e) * 1e4) / 1e4 + t.u, t) }, hs = function (e, t) { return t.set(t.t, t.p, e ? Math.round((t.s + t.c * e) * 1e4) / 1e4 + t.u : t.b, t) }, fs = function (e, t) { var i = t.s + t.c * e; t.set(t.t, t.p, ~~(i + (i < 0 ? -.5 : .5)) + t.u, t) }, Fn = function (e, t) { return t.set(t.t, t.p, e ? t.e : t.b, t) }, Hn = function (e, t) { return t.set(t.t, t.p, e !== 1 ? t.b : t.e, t) }, ds = function (e, t, i) { return e.style[t] = i }, ps = function (e, t, i) { return e.style.setProperty(t, i) }, ms = function (e, t, i) { return e._gsap[t] = i }, _s = function (e, t, i) { return e._gsap.scaleX = e._gsap.scaleY = i }, gs = function (e, t, i, n, r) { var s = e._gsap; s.scaleX = s.scaleY = i, s.renderTransform(r, s) }, ys = function (e, t, i, n, r) { var s = e._gsap; s[t] = i, s.renderTransform(r, s) }, $ = "transform", Ae = $ + "Origin", Un, Ti = function (e, t) { var i = Me.createElementNS ? Me.createElementNS((t || "http://www.w3.org/1999/xhtml").replace(/^https/, "http"), e) : Me.createElement(e); return i.style ? i : Me.createElement(e) }, Te = function a(e, t, i) { var n = getComputedStyle(e); return n[t] || n.getPropertyValue(t.replace(Bn, "-$1").toLowerCase()) || n.getPropertyValue(t) || !i && a(e, ut(t) || t, 1) || "" }, Vn = "O,Moz,ms,Ms,Webkit".split(","), ut = function (e, t, i) { var n = t || We, r = n.style, s = 5; if (e in r && !i) return e; for (e = e.charAt(0).toUpperCase() + e.substr(1); s-- && !(Vn[s] + e in r);); return s < 0 ? null : (s === 3 ? "ms" : s >= 0 ? Vn[s] : "") + e }, Pi = function () { as() && window.document && (zn = window, Me = zn.document, at = Me.documentElement, We = Ti("div") || { style: {} }, Ti("div"), $ = ut($), Ae = $ + "Origin", We.style.cssText = "border-width:0;line-height:0;position:absolute;padding:0", Un = !!ut("perspective"), Si = 1) }, Ci = function a(e) { var t = Ti("svg", this.ownerSVGElement && this.ownerSVGElement.getAttribute("xmlns") || "http://www.w3.org/2000/svg"), i = this.parentNode, n = this.nextSibling, r = this.style.cssText, s; if (at.appendChild(t), t.appendChild(this), this.style.display = "block", e) try { s = this.getBBox(), this._gsapBBox = this.getBBox, this.getBBox = a } catch { } else this._gsapBBox && (s = this._gsapBBox()); return i && (n ? i.insertBefore(this, n) : i.appendChild(this)), at.removeChild(t), this.style.cssText = r, s }, Wn = function (e, t) { for (var i = t.length; i--;)if (e.hasAttribute(t[i])) return e.getAttribute(t[i]) }, $n = function (e) { var t; try { t = e.getBBox() } catch { t = Ci.call(e, !0) } return t && (t.width || t.height) || e.getBBox === Ci || (t = Ci.call(e, !0)), t && !t.width && !t.x && !t.y ? { x: +Wn(e, ["x", "cx", "x1"]) || 0, y: +Wn(e, ["y", "cy", "y1"]) || 0, width: 0, height: 0 } : t }, jn = function (e) { return !!(e.getCTM && (!e.parentNode || e.ownerSVGElement) && $n(e)) }, xt = function (e, t) { if (t) { var i = e.style; t in Oe && t !== Ae && (t = $), i.removeProperty ? ((t.substr(0, 2) === "ms" || t.substr(0, 6) === "webkit") && (t = "-" + t), i.removeProperty(t.replace(Bn, "-$1").toLowerCase())) : i.removeAttribute(t) } }, Re = function (e, t, i, n, r, s) { var o = new te(e._pt, t, i, 0, 1, s ? Hn : Fn); return e._pt = o, o.b = n, o.e = r, e._props.push(i), o }, Gn = { deg: 1, rad: 1, turn: 1 }, De = function a(e, t, i, n) { var r = parseFloat(i) || 0, s = (i + "").trim().substr((r + "").length) || "px", o = We.style, c = cs.test(t), l = e.tagName.toLowerCase() === "svg", u = (l ? "client" : "offset") + (c ? "Width" : "Height"), f = 100, d = n === "px", p = n === "%", m, h, g, _; return n === s || !r || Gn[n] || Gn[s] ? r : (s !== "px" && !d && (r = a(e, t, i, "px")), _ = e.getCTM && jn(e), (p || s === "%") && (Oe[t] || ~t.indexOf("adius")) ? (m = _ ? e.getBBox()[c ? "width" : "height"] : e[u], N(p ? r / m * f : r / 100 * m)) : (o[c ? "width" : "height"] = f + (d ? s : n), h = ~t.indexOf("adius") || n === "em" && e.appendChild && !l ? e : e.parentNode, _ && (h = (e.ownerSVGElement || {}).parentNode), (!h || h === Me || !h.appendChild) && (h = Me.body), g = h._gsap, g && p && g.width && c && g.time === de.time ? N(r / g.width * f) : ((p || s === "%") && (o.position = Te(e, "position")), h === e && (o.position = "static"), h.appendChild(We), m = We[u], h.removeChild(We), o.position = "absolute", c && p && (g = Fe(h), g.time = de.time, g.width = h[u]), N(d ? m * r / f : m && r ? f / m * r : 0)))) }, je = function (e, t, i, n) { var r; return Si || Pi(), t in Le && t !== "transform" && (t = Le[t], ~t.indexOf(",") && (t = t.split(",")[0])), Oe[t] && t !== "transform" ? (r = Tt(e, n), r = t !== "transformOrigin" ? r[t] : r.svg ? r.origin : $t(Te(e, Ae)) + " " + r.zOrigin + "px") : (r = e.style[t], (!r || r === "auto" || n || ~(r + "").indexOf("calc(")) && (r = Wt[t] && Wt[t](e, t, i) || Te(e, t) || en(e, t) || (t === "opacity" ? 1 : 0))), i && !~(r + "").trim().indexOf(" ") ? De(e, t, r, i) + i : r }, vs = function (e, t, i, n) { if (!i || i === "none") { var r = ut(t, e, 1), s = r && Te(e, r, 1); s && s !== i ? (t = r, i = s) : t === "borderColor" && (i = Te(e, "borderTopColor")) } var o = new te(this._pt, e.style, t, 0, 1, Rn), c = 0, l = 0, u, f, d, p, m, h, g, _, y, v, x, b, w; if (o.b = i, o.e = n, i += "", n += "", n === "auto" && (e.style[t] = n, n = Te(e, t) || n, e.style[t] = i), u = [i, n], Sn(u), i = u[0], n = u[1], d = i.match(tt) || [], w = n.match(tt) || [], w.length) { for (; f = tt.exec(n);)g = f[0], y = n.substring(c, f.index), m ? m = (m + 1) % 5 : (y.substr(-5) === "rgba(" || y.substr(-5) === "hsla(") && (m = 1), g !== (h = d[l++] || "") && (p = parseFloat(h) || 0, x = h.substr((p + "").length), b = g.charAt(1) === "=" ? +(g.charAt(0) + "1") : 0, b && (g = g.substr(2)), _ = parseFloat(g), v = g.substr((_ + "").length), c = tt.lastIndex - v.length, v || (v = v || ne.units[t] || x, c === n.length && (n += v, o.e += v)), x !== v && (p = De(e, t, h, v) || 0), o._pt = { _next: o._pt, p: y || l === 1 ? y : ",", s: p, c: b ? b * _ : _ - p, m: m && m < 4 || t === "zIndex" ? Math.round : 0 }); o.c = c < n.length ? n.substring(c, n.length) : "" } else o.r = t === "display" && n === "none" ? Hn : Fn; return Gi.test(n) && (o.e = 0), this._pt = o, o }, Xn = { top: "0%", bottom: "100%", left: "0%", right: "100%", center: "50%" }, bs = function (e) { var t = e.split(" "), i = t[0], n = t[1] || "50%"; return (i === "top" || i === "bottom" || n === "left" || n === "right") && (e = i, i = n, n = e), t[0] = Xn[i] || i, t[1] = Xn[n] || n, t.join(" ") }, ws = function (e, t) { if (t.tween && t.tween._time === t.tween._dur) { var i = t.t, n = i.style, r = t.u, s = i._gsap, o, c, l; if (r === "all" || r === !0) n.cssText = "", c = 1; else for (r = r.split(","), l = r.length; --l > -1;)o = r[l], Oe[o] && (c = 1, o = o === "transformOrigin" ? Ae : $), xt(i, o); c && (xt(i, $), s && (s.svg && i.removeAttribute("transform"), Tt(i, 1), s.uncache = 1)) } }, Wt = { clearProps: function (e, t, i, n, r) { if (r.data !== "isFromStart") { var s = e._pt = new te(e._pt, t, i, 0, 0, ws); return s.u = n, s.pr = -10, s.tween = r, e._props.push(i), 1 } } }, St = [1, 0, 0, 1, 0, 0], Yn = {}, Qn = function (e) { return e === "matrix(1, 0, 0, 1, 0, 0)" || e === "none" || !e }, Kn = function (e) { var t = Te(e, $); return Qn(t) ? St : t.substr(7).match(ji).map(N) }, Ei = function (e, t) { var i = e._gsap || Fe(e), n = e.style, r = Kn(e), s, o, c, l; return i.svg && e.getAttribute("transform") ? (c = e.transform.baseVal.consolidate().matrix, r = [c.a, c.b, c.c, c.d, c.e, c.f], r.join(",") === "1,0,0,1,0,0" ? St : r) : (r === St && !e.offsetParent && e !== at && !i.svg && (c = n.display, n.display = "block", s = e.parentNode, (!s || !e.offsetParent) && (l = 1, o = e.nextSibling, at.appendChild(e)), r = Kn(e), c ? n.display = c : xt(e, "display"), l && (o ? s.insertBefore(e, o) : s ? s.appendChild(e) : at.removeChild(e))), t && r.length > 6 ? [r[0], r[1], r[4], r[5], r[12], r[13]] : r) }, ki = function (e, t, i, n, r, s) { var o = e._gsap, c = r || Ei(e, !0), l = o.xOrigin || 0, u = o.yOrigin || 0, f = o.xOffset || 0, d = o.yOffset || 0, p = c[0], m = c[1], h = c[2], g = c[3], _ = c[4], y = c[5], v = t.split(" "), x = parseFloat(v[0]) || 0, b = parseFloat(v[1]) || 0, w, T, P, S; i ? c !== St && (T = p * g - m * h) && (P = x * (g / T) + b * (-h / T) + (h * y - g * _) / T, S = x * (-m / T) + b * (p / T) - (p * y - m * _) / T, x = P, b = S) : (w = $n(e), x = w.x + (~v[0].indexOf("%") ? x / 100 * w.width : x), b = w.y + (~(v[1] || v[0]).indexOf("%") ? b / 100 * w.height : b)), n || n !== !1 && o.smooth ? (_ = x - l, y = b - u, o.xOffset = f + (_ * p + y * h) - _, o.yOffset = d + (_ * m + y * g) - y) : o.xOffset = o.yOffset = 0, o.xOrigin = x, o.yOrigin = b, o.smooth = !!n, o.origin = t, o.originIsAbsolute = !!i, e.style[Ae] = "0px 0px", s && (Re(s, o, "xOrigin", l, x), Re(s, o, "yOrigin", u, b), Re(s, o, "xOffset", f, o.xOffset), Re(s, o, "yOffset", d, o.yOffset)), e.setAttribute("data-svg-origin", x + " " + b) }, Tt = function (e, t) { var i = e._gsap || new En(e); if ("x" in i && !t && !i.uncache) return i; var n = e.style, r = i.scaleX < 0, s = "px", o = "deg", c = Te(e, Ae) || "0", l, u, f, d, p, m, h, g, _, y, v, x, b, w, T, P, S, C, M, E, O, k, L, A, q, Y, D, Q, j, At, H, pe; return l = u = f = m = h = g = _ = y = v = 0, d = p = 1, i.svg = !!(e.getCTM && jn(e)), w = Ei(e, i.svg), i.svg && (A = (!i.uncache || c === "0px 0px") && !t && e.getAttribute("data-svg-origin"), ki(e, A || c, !!A || i.originIsAbsolute, i.smooth !== !1, w)), x = i.xOrigin || 0, b = i.yOrigin || 0, w !== St && (C = w[0], M = w[1], E = w[2], O = w[3], l = k = w[4], u = L = w[5], w.length === 6 ? (d = Math.sqrt(C * C + M * M), p = Math.sqrt(O * O + E * E), m = C || M ? lt(M, C) * $e : 0, _ = E || O ? lt(E, O) * $e + m : 0, _ && (p *= Math.abs(Math.cos(_ * ct))), i.svg && (l -= x - (x * C + b * E), u -= b - (x * M + b * O))) : (pe = w[6], At = w[7], D = w[8], Q = w[9], j = w[10], H = w[11], l = w[12], u = w[13], f = w[14], T = lt(pe, j), h = T * $e, T && (P = Math.cos(-T), S = Math.sin(-T), A = k * P + D * S, q = L * P + Q * S, Y = pe * P + j * S, D = k * -S + D * P, Q = L * -S + Q * P, j = pe * -S + j * P, H = At * -S + H * P, k = A, L = q, pe = Y), T = lt(-E, j), g = T * $e, T && (P = Math.cos(-T), S = Math.sin(-T), A = C * P - D * S, q = M * P - Q * S, Y = E * P - j * S, H = O * S + H * P, C = A, M = q, E = Y), T = lt(M, C), m = T * $e, T && (P = Math.cos(T), S = Math.sin(T), A = C * P + M * S, q = k * P + L * S, M = M * P - C * S, L = L * P - k * S, C = A, k = q), h && Math.abs(h) + Math.abs(m) > 359.9 && (h = m = 0, g = 180 - g), d = N(Math.sqrt(C * C + M * M + E * E)), p = N(Math.sqrt(L * L + pe * pe)), T = lt(k, L), _ = Math.abs(T) > 2e-4 ? T * $e : 0, v = H ? 1 / (H < 0 ? -H : H) : 0), i.svg && (A = e.getAttribute("transform"), i.forceCSS = e.setAttribute("transform", "") || !Qn(Te(e, $)), A && e.setAttribute("transform", A))), Math.abs(_) > 90 && Math.abs(_) < 270 && (r ? (d *= -1, _ += m <= 0 ? 180 : -180, m += m <= 0 ? 180 : -180) : (p *= -1, _ += _ <= 0 ? 180 : -180)), i.x = l - ((i.xPercent = l && (i.xPercent || (Math.round(e.offsetWidth / 2) === Math.round(-l) ? -50 : 0))) ? e.offsetWidth * i.xPercent / 100 : 0) + s, i.y = u - ((i.yPercent = u && (i.yPercent || (Math.round(e.offsetHeight / 2) === Math.round(-u) ? -50 : 0))) ? e.offsetHeight * i.yPercent / 100 : 0) + s, i.z = f + s, i.scaleX = N(d), i.scaleY = N(p), i.rotation = N(m) + o, i.rotationX = N(h) + o, i.rotationY = N(g) + o, i.skewX = _ + o, i.skewY = y + o, i.transformPerspective = v + s, (i.zOrigin = parseFloat(c.split(" ")[2]) || 0) && (n[Ae] = $t(c)), i.xOffset = i.yOffset = 0, i.force3D = ne.force3D, i.renderTransform = i.svg ? Ss : Un ? Zn : xs, i.uncache = 0, i }, $t = function (e) { return (e = e.split(" "))[0] + " " + e[1] }, Mi = function (e, t, i) { var n = J(t); return N(parseFloat(t) + parseFloat(De(e, "x", i + "px", n))) + n }, xs = function (e, t) { t.z = "0px", t.rotationY = t.rotationX = "0deg", t.force3D = 0, Zn(e, t) }, Ge = "0deg", Pt = "0px", Xe = ") ", Zn = function (e, t) { var i = t || this, n = i.xPercent, r = i.yPercent, s = i.x, o = i.y, c = i.z, l = i.rotation, u = i.rotationY, f = i.rotationX, d = i.skewX, p = i.skewY, m = i.scaleX, h = i.scaleY, g = i.transformPerspective, _ = i.force3D, y = i.target, v = i.zOrigin, x = "", b = _ === "auto" && e && e !== 1 || _ === !0; if (v && (f !== Ge || u !== Ge)) { var w = parseFloat(u) * ct, T = Math.sin(w), P = Math.cos(w), S; w = parseFloat(f) * ct, S = Math.cos(w), s = Mi(y, s, T * S * -v), o = Mi(y, o, -Math.sin(w) * -v), c = Mi(y, c, P * S * -v + v) } g !== Pt && (x += "perspective(" + g + Xe), (n || r) && (x += "translate(" + n + "%, " + r + "%) "), (b || s !== Pt || o !== Pt || c !== Pt) && (x += c !== Pt || b ? "translate3d(" + s + ", " + o + ", " + c + ") " : "translate(" + s + ", " + o + Xe), l !== Ge && (x += "rotate(" + l + Xe), u !== Ge && (x += "rotateY(" + u + Xe), f !== Ge && (x += "rotateX(" + f + Xe), (d !== Ge || p !== Ge) && (x += "skew(" + d + ", " + p + Xe), (m !== 1 || h !== 1) && (x += "scale(" + m + ", " + h + Xe), y.style[$] = x || "translate(0, 0)" }, Ss = function (e, t) { var i = t || this, n = i.xPercent, r = i.yPercent, s = i.x, o = i.y, c = i.rotation, l = i.skewX, u = i.skewY, f = i.scaleX, d = i.scaleY, p = i.target, m = i.xOrigin, h = i.yOrigin, g = i.xOffset, _ = i.yOffset, y = i.forceCSS, v = parseFloat(s), x = parseFloat(o), b, w, T, P, S; c = parseFloat(c), l = parseFloat(l), u = parseFloat(u), u && (u = parseFloat(u), l += u, c += u), c || l ? (c *= ct, l *= ct, b = Math.cos(c) * f, w = Math.sin(c) * f, T = Math.sin(c - l) * -d, P = Math.cos(c - l) * d, l && (u *= ct, S = Math.tan(l - u), S = Math.sqrt(1 + S * S), T *= S, P *= S, u && (S = Math.tan(u), S = Math.sqrt(1 + S * S), b *= S, w *= S)), b = N(b), w = N(w), T = N(T), P = N(P)) : (b = f, P = d, w = T = 0), (v && !~(s + "").indexOf("px") || x && !~(o + "").indexOf("px")) && (v = De(p, "x", s, "px"), x = De(p, "y", o, "px")), (m || h || g || _) && (v = N(v + m - (m * b + h * T) + g), x = N(x + h - (m * w + h * P) + _)), (n || r) && (S = p.getBBox(), v = N(v + n / 100 * S.width), x = N(x + r / 100 * S.height)), S = "matrix(" + b + "," + w + "," + T + "," + P + "," + v + "," + x + ")", p.setAttribute("transform", S), y && (p.style[$] = S) }, Ts = function (e, t, i, n, r, s) { var o = 360, c = U(r), l = parseFloat(r) * (c && ~r.indexOf("rad") ? $e : 1), u = s ? l * s : l - n, f = n + u + "deg", d, p; return c && (d = r.split("_")[1], d === "short" && (u %= o, u !== u % (o / 2) && (u += u < 0 ? o : -o)), d === "cw" && u < 0 ? u = (u + o * qn) % o - ~~(u / o) * o : d === "ccw" && u > 0 && (u = (u - o * qn) % o - ~~(u / o) * o)), e._pt = p = new te(e._pt, t, i, n, u, us), p.e = f, p.u = "deg", e._props.push(i), p }, Jn = function (e, t) { for (var i in t) e[i] = t[i]; return e }, Ps = function (e, t, i) { var n = Jn({}, i._gsap), r = "perspective,force3D,transformOrigin,svgOrigin", s = i.style, o, c, l, u, f, d, p, m; n.svg ? (l = i.getAttribute("transform"), i.setAttribute("transform", ""), s[$] = t, o = Tt(i, 1), xt(i, $), i.setAttribute("transform", l)) : (l = getComputedStyle(i)[$], s[$] = t, o = Tt(i, 1), s[$] = l); for (c in Oe) l = n[c], u = o[c], l !== u && r.indexOf(c) < 0 && (p = J(l), m = J(u), f = p !== m ? De(i, c, l, m) : parseFloat(l), d = parseFloat(u), e._pt = new te(e._pt, o, c, f, d - f, Nn), e._pt.u = m || 0, e._props.push(c)); Jn(o, n) }; Z("padding,margin,Width,Radius", function (a, e) { var t = "Top", i = "Right", n = "Bottom", r = "Left", s = (e < 3 ? [t, i, n, r] : [t + r, t + i, n + i, n + r]).map(function (o) { return e < 2 ? a + o : "border" + o + a }); Wt[e > 1 ? "border" + a : a] = function (o, c, l, u, f) { var d, p; if (arguments.length < 4) return d = s.map(function (m) { return je(o, m, l) }), p = d.join(" "), p.split(d[0]).length === 5 ? d[0] : p; d = (u + "").split(" "), p = {}, s.forEach(function (m, h) { return p[m] = d[h] = d[h] || d[(h - 1) / 2 | 0] }), o.init(c, p, f) } }); var er = { name: "css", register: Pi, targetTest: function (e) { return e.style && e.nodeType }, init: function (e, t, i, n, r) { var s = this._props, o = e.style, c = i.vars.startAt, l, u, f, d, p, m, h, g, _, y, v, x, b, w, T; Si || Pi(); for (h in t) if (h !== "autoRound" && (u = t[h], !(se[h] && kn(h, t, i, n, e, r)))) { if (p = typeof u, m = Wt[h], p === "function" && (u = u.call(i, n, e, r), p = typeof u), p === "string" && ~u.indexOf("random(") && (u = gt(u)), m) m(this, e, h, u, i) && (T = 1); else if (h.substr(0, 2) === "--") l = (getComputedStyle(e).getPropertyValue(h) + "").trim(), u += "", Ee.lastIndex = 0, Ee.test(l) || (g = J(l), _ = J(u)), _ ? g !== _ && (l = De(e, h, l, _) + _) : g && (u += g), this.add(o, "setProperty", l, u, n, r, 0, 0, h), s.push(h); else if (p !== "undefined") { if (c && h in c ? (l = typeof c[h] == "function" ? c[h].call(i, n, e, r) : c[h], U(l) && ~l.indexOf("random(") && (l = gt(l)), J(l + "") || (l += ne.units[h] || J(je(e, h)) || ""), (l + "").charAt(1) === "=" && (l = je(e, h))) : l = je(e, h), d = parseFloat(l), y = p === "string" && u.charAt(1) === "=" ? +(u.charAt(0) + "1") : 0, y && (u = u.substr(2)), f = parseFloat(u), h in Le && (h === "autoAlpha" && (d === 1 && je(e, "visibility") === "hidden" && f && (d = 0), Re(this, o, "visibility", d ? "inherit" : "hidden", f ? "inherit" : "hidden", !f)), h !== "scale" && h !== "transform" && (h = Le[h], ~h.indexOf(",") && (h = h.split(",")[0]))), v = h in Oe, v) { if (x || (b = e._gsap, b.renderTransform && !t.parseTransform || Tt(e, t.parseTransform), w = t.smoothOrigin !== !1 && b.smooth, x = this._pt = new te(this._pt, o, $, 0, 1, b.renderTransform, b, 0, -1), x.dep = 1), h === "scale") this._pt = new te(this._pt, b, "scaleY", b.scaleY, (y ? y * f : f - b.scaleY) || 0), s.push("scaleY", h), h += "X"; else if (h === "transformOrigin") { u = bs(u), b.svg ? ki(e, u, 0, w, 0, this) : (_ = parseFloat(u.split(" ")[2]) || 0, _ !== b.zOrigin && Re(this, b, "zOrigin", b.zOrigin, _), Re(this, o, h, $t(l), $t(u))); continue } else if (h === "svgOrigin") { ki(e, u, 1, w, 0, this); continue } else if (h in Yn) { Ts(this, b, h, d, u, y); continue } else if (h === "smoothOrigin") { Re(this, b, "smooth", b.smooth, u); continue } else if (h === "force3D") { b[h] = u; continue } else if (h === "transform") { Ps(this, u, e); continue } } else h in o || (h = ut(h) || h); if (v || (f || f === 0) && (d || d === 0) && !ls.test(u) && h in o) g = (l + "").substr((d + "").length), f || (f = 0), _ = J(u) || (h in ne.units ? ne.units[h] : g), g !== _ && (d = De(e, h, l, _)), this._pt = new te(this._pt, v ? b : o, h, d, y ? y * f : f - d, !v && (_ === "px" || h === "zIndex") && t.autoRound !== !1 ? fs : Nn), this._pt.u = _ || 0, g !== _ && _ !== "%" && (this._pt.b = l, this._pt.r = hs); else if (h in o) vs.call(this, e, h, l, u); else if (h in e) this.add(e, h, l || e[h], u, n, r); else { oi(h, u); continue } s.push(h) } } T && Dn(this) }, get: je, aliases: Le, getSetter: function (e, t, i) { var n = Le[t]; return n && n.indexOf(",") < 0 && (t = n), t in Oe && t !== Ae && (e._gsap.x || je(e, "x")) ? i && In === i ? t === "scale" ? _s : ms : (In = i || {}) && (t === "scale" ? gs : ys) : e.style && !ti(e.style[t]) ? ds : ~t.indexOf("-") ? ps : bi(e, t) }, core: { _removeProperty: xt, _getMatrix: Ei } }; ge.utils.checkPrefix = ut, function (a, e, t, i) { var n = Z(a + "," + e + "," + t, function (r) { Oe[r] = 1 }); Z(e, function (r) { ne.units[r] = "deg", Yn[r] = 1 }), Le[n[13]] = a + "," + e, Z(i, function (r) { var s = r.split(":"); Le[s[1]] = n[s[0]] }) }("x,y,z,scale,scaleX,scaleY,xPercent,yPercent", "rotation,rotationX,rotationY,skewX,skewY", "transform,transformOrigin,svgOrigin,force3D,smoothOrigin,transformPerspective", "0:translateX,1:translateY,2:translateZ,8:rotate,8:rotationZ,8:rotateZ,9:rotateX,10:rotateY"), Z("x,y,z,top,right,bottom,left,width,height,fontSize,padding,margin,perspective", function (a) { ne.units[a] = "px" }), ge.registerPlugin(er); var F = ge.registerPlugin(er) || ge; F.core.Tween;/*!
 * paths 3.9.1
 * https://greensock.com
 *
 * Copyright 2008-2021, GreenSock. All rights reserved.
 * Subject to the terms at https://greensock.com/standard-license or for
 * Club GreenSock members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
*/var Cs = /[achlmqstvz]|(-?\d*\.?\d*(?:e[\-+]?\d+)?)[0-9]/ig, Es = /[\+\-]?\d*\.?\d+e[\+\-]?\d+/ig, ks = Math.PI / 180, jt = Math.sin, Gt = Math.cos, Ct = Math.abs, Et = Math.sqrt, Ms = function (e) { return typeof e == "number" }, tr = 1e5, ze = function (e) { return Math.round(e * tr) / tr || 0 }; function Os(a, e, t, i, n, r, s) { for (var o = a.length, c, l, u, f, d; --o > -1;)for (c = a[o], l = c.length, u = 0; u < l; u += 2)f = c[u], d = c[u + 1], c[u] = f * e + d * i + r, c[u + 1] = f * t + d * n + s; return a._dirty = 1, a } function Ls(a, e, t, i, n, r, s, o, c) { if (!(a === o && e === c)) { t = Ct(t), i = Ct(i); var l = n % 360 * ks, u = Gt(l), f = jt(l), d = Math.PI, p = d * 2, m = (a - o) / 2, h = (e - c) / 2, g = u * m + f * h, _ = -f * m + u * h, y = g * g, v = _ * _, x = y / (t * t) + v / (i * i); x > 1 && (t = Et(x) * t, i = Et(x) * i); var b = t * t, w = i * i, T = (b * w - b * v - w * y) / (b * v + w * y); T < 0 && (T = 0); var P = (r === s ? -1 : 1) * Et(T), S = P * (t * _ / i), C = P * -(i * g / t), M = (a + o) / 2, E = (e + c) / 2, O = M + (u * S - f * C), k = E + (f * S + u * C), L = (g - S) / t, A = (_ - C) / i, q = (-g - S) / t, Y = (-_ - C) / i, D = L * L + A * A, Q = (A < 0 ? -1 : 1) * Math.acos(L / Et(D)), j = (L * Y - A * q < 0 ? -1 : 1) * Math.acos((L * q + A * Y) / Et(D * (q * q + Y * Y))); isNaN(j) && (j = d), !s && j > 0 ? j -= p : s && j < 0 && (j += p), Q %= p, j %= p; var At = Math.ceil(Ct(j) / (p / 4)), H = [], pe = j / At, Zt = 4 / 3 * jt(pe / 2) / (1 + Gt(pe / 2)), To = u * t, Po = f * t, Co = f * -i, Eo = u * i, oe; for (oe = 0; oe < At; oe++)n = Q + oe * pe, g = Gt(n), _ = jt(n), L = Gt(n += pe), A = jt(n), H.push(g - Zt * _, _ + Zt * g, L + Zt * A, A - Zt * L, L, A); for (oe = 0; oe < H.length; oe += 2)g = H[oe], _ = H[oe + 1], H[oe] = g * To + _ * Co + O, H[oe + 1] = g * Po + _ * Eo + k; return H[oe - 2] = o, H[oe - 1] = c, H } } function As(a) { var e = (a + "").replace(Es, function (S) { var C = +S; return C < 1e-4 && C > -1e-4 ? 0 : C }).match(Cs) || [], t = [], i = 0, n = 0, r = 2 / 3, s = e.length, o = 0, c = "ERROR: malformed path: " + a, l, u, f, d, p, m, h, g, _, y, v, x, b, w, T, P = function (C, M, E, O) { y = (E - C) / 3, v = (O - M) / 3, h.push(C + y, M + v, E - y, O - v, E, O) }; if (!a || !isNaN(e[0]) || isNaN(e[1])) return console.log(c), t; for (l = 0; l < s; l++)if (b = p, isNaN(e[l]) ? (p = e[l].toUpperCase(), m = p !== e[l]) : l--, f = +e[l + 1], d = +e[l + 2], m && (f += i, d += n), l || (g = f, _ = d), p === "M") h && (h.length < 8 ? t.length -= 1 : o += h.length), i = g = f, n = _ = d, h = [f, d], t.push(h), l += 2, p = "L"; else if (p === "C") h || (h = [0, 0]), m || (i = n = 0), h.push(f, d, i + e[l + 3] * 1, n + e[l + 4] * 1, i += e[l + 5] * 1, n += e[l + 6] * 1), l += 6; else if (p === "S") y = i, v = n, (b === "C" || b === "S") && (y += i - h[h.length - 4], v += n - h[h.length - 3]), m || (i = n = 0), h.push(y, v, f, d, i += e[l + 3] * 1, n += e[l + 4] * 1), l += 4; else if (p === "Q") y = i + (f - i) * r, v = n + (d - n) * r, m || (i = n = 0), i += e[l + 3] * 1, n += e[l + 4] * 1, h.push(y, v, i + (f - i) * r, n + (d - n) * r, i, n), l += 4; else if (p === "T") y = i - h[h.length - 4], v = n - h[h.length - 3], h.push(i + y, n + v, f + (i + y * 1.5 - f) * r, d + (n + v * 1.5 - d) * r, i = f, n = d), l += 2; else if (p === "H") P(i, n, i = f, n), l += 1; else if (p === "V") P(i, n, i, n = f + (m ? n - i : 0)), l += 1; else if (p === "L" || p === "Z") p === "Z" && (f = g, d = _, h.closed = !0), (p === "L" || Ct(i - f) > .5 || Ct(n - d) > .5) && (P(i, n, f, d), p === "L" && (l += 2)), i = f, n = d; else if (p === "A") { if (w = e[l + 4], T = e[l + 5], y = e[l + 6], v = e[l + 7], u = 7, w.length > 1 && (w.length < 3 ? (v = y, y = T, u--) : (v = T, y = w.substr(2), u -= 2), T = w.charAt(1), w = w.charAt(0)), x = Ls(i, n, +e[l + 1], +e[l + 2], +e[l + 3], +w, +T, (m ? i : 0) + y * 1, (m ? n : 0) + v * 1), l += u, x) for (u = 0; u < x.length; u++)h.push(x[u]); i = h[h.length - 2], n = h[h.length - 1] } else console.log(c); return l = h.length, l < 6 ? (t.pop(), l = 0) : h[0] === h[l - 2] && h[1] === h[l - 1] && (h.closed = !0), t.totalPoints = o + l, t } function Rs(a) { Ms(a[0]) && (a = [a]); var e = "", t = a.length, i, n, r, s; for (n = 0; n < t; n++) { for (s = a[n], e += "M" + ze(s[0]) + "," + ze(s[1]) + " C", i = s.length, r = 2; r < i; r++)e += ze(s[r++]) + "," + ze(s[r++]) + " " + ze(s[r++]) + "," + ze(s[r++]) + " " + ze(s[r++]) + "," + ze(s[r]) + " "; s.closed && (e += "z") } return e }/*!
 * CustomEase 3.9.1
 * https://greensock.com
 *
 * @license Copyright 2008-2021, GreenSock. All rights reserved.
 * Subject to the terms at https://greensock.com/standard-license or for
 * Club GreenSock members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
*/var ie, ir, nr = function () { return ie || typeof window != "undefined" && (ie = window.gsap) && ie.registerPlugin && ie }, rr = function () { ie = nr(), ie ? (ie.registerEase("_CE", Ye.create), ir = 1) : console.warn("Please gsap.registerPlugin(CustomEase)") }, Ds = 1e20, Xt = function (e) { return ~~(e * 1e3 + (e < 0 ? -.5 : .5)) / 1e3 }, zs = /[-+=\.]*\d+[\.e\-\+]*\d*[e\-\+]*\d*/gi, Is = /[cLlsSaAhHvVtTqQ]/g, qs = function (e) { var t = e.length, i = Ds, n; for (n = 1; n < t; n += 6)+e[n] < i && (i = +e[n]); return i }, Bs = function (e, t, i) { !i && i !== 0 && (i = Math.max(+e[e.length - 1], +e[1])); var n = +e[0] * -1, r = -i, s = e.length, o = 1 / (+e[s - 2] + n), c = -t || (Math.abs(+e[s - 1] - +e[1]) < .01 * (+e[s - 2] - +e[0]) ? qs(e) + r : +e[s - 1] + r), l; for (c ? c = 1 / c : c = -o, l = 0; l < s; l += 2)e[l] = (+e[l] + n) * o, e[l + 1] = (+e[l + 1] + r) * c }, Ns = function a(e, t, i, n, r, s, o, c, l, u, f) { var d = (e + i) / 2, p = (t + n) / 2, m = (i + r) / 2, h = (n + s) / 2, g = (r + o) / 2, _ = (s + c) / 2, y = (d + m) / 2, v = (p + h) / 2, x = (m + g) / 2, b = (h + _) / 2, w = (y + x) / 2, T = (v + b) / 2, P = o - e, S = c - t, C = Math.abs((i - o) * S - (n - c) * P), M = Math.abs((r - o) * S - (s - c) * P), E; return u || (u = [{ x: e, y: t }, { x: o, y: c }], f = 1), u.splice(f || u.length - 1, 0, { x: w, y: T }), (C + M) * (C + M) > l * (P * P + S * S) && (E = u.length, a(e, t, d, p, y, v, w, T, l, u, f), a(w, T, x, b, g, _, o, c, l, u, f + 1 + (u.length - E))), u }, Ye = function () { function a(t, i, n) { ir || rr(), this.id = t, this.setData(i, n) } var e = a.prototype; return e.setData = function (i, n) { n = n || {}, i = i || "0,0,1,1"; var r = i.match(zs), s = 1, o = [], c = [], l = n.precision || 1, u = l <= 1, f, d, p, m, h, g, _, y, v; if (this.data = i, (Is.test(i) || ~i.indexOf("M") && i.indexOf("C") < 0) && (r = As(i)[0]), f = r.length, f === 4) r.unshift(0, 0), r.push(1, 1), f = 8; else if ((f - 2) % 6) throw "Invalid CustomEase"; for ((+r[0] != 0 || +r[f - 2] != 1) && Bs(r, n.height, n.originY), this.segment = r, m = 2; m < f; m += 6)d = { x: +r[m - 2], y: +r[m - 1] }, p = { x: +r[m + 4], y: +r[m + 5] }, o.push(d, p), Ns(d.x, d.y, +r[m], +r[m + 1], +r[m + 2], +r[m + 3], p.x, p.y, 1 / (l * 2e5), o, o.length - 1); for (f = o.length, m = 0; m < f; m++)_ = o[m], y = o[m - 1] || _, (_.x > y.x || y.y !== _.y && y.x === _.x || _ === y) && _.x <= 1 ? (y.cx = _.x - y.x, y.cy = _.y - y.y, y.n = _, y.nx = _.x, u && m > 1 && Math.abs(y.cy / y.cx - o[m - 2].cy / o[m - 2].cx) > 2 && (u = 0), y.cx < s && (y.cx ? s = y.cx : (y.cx = .001, m === f - 1 && (y.x -= .001, s = Math.min(s, .001), u = 0)))) : (o.splice(m--, 1), f--); if (f = 1 / s + 1 | 0, h = 1 / f, g = 0, _ = o[0], u) { for (m = 0; m < f; m++)v = m * h, _.nx < v && (_ = o[++g]), d = _.y + (v - _.x) / _.cx * _.cy, c[m] = { x: v, cx: h, y: d, cy: 0, nx: 9 }, m && (c[m - 1].cy = d - c[m - 1].y); c[f - 1].cy = o[o.length - 1].y - d } else { for (m = 0; m < f; m++)_.nx < m * h && (_ = o[++g]), c[m] = _; g < o.length - 1 && (c[m - 1] = o[o.length - 2]) } return this.ease = function (x) { var b = c[x * f | 0] || c[f - 1]; return b.nx < x && (b = b.n), b.y + (x - b.x) / b.cx * b.cy }, this.ease.custom = this, this.id && ie && ie.registerEase(this.id, this.ease), this }, e.getSVGData = function (i) { return a.getSVGData(this, i) }, a.create = function (i, n, r) { return new a(i, n, r).ease }, a.register = function (i) { ie = i, rr() }, a.get = function (i) { return ie.parseEase(i) }, a.getSVGData = function (i, n) { n = n || {}; var r = n.width || 100, s = n.height || 100, o = n.x || 0, c = (n.y || 0) + s, l = ie.utils.toArray(n.path)[0], u, f, d, p, m, h, g, _, y, v; if (n.invert && (s = -s, c = 0), typeof i == "string" && (i = ie.parseEase(i)), i.custom && (i = i.custom), i instanceof a) u = Rs(Os([i.segment], r, 0, 0, -s, o, c)); else { for (u = [o, c], g = Math.max(5, (n.precision || 1) * 200), p = 1 / g, g += 2, _ = 5 / g, y = Xt(o + p * r), v = Xt(c + i(p) * -s), f = (v - c) / (y - o), d = 2; d < g; d++)m = Xt(o + d * p * r), h = Xt(c + i(d * p) * -s), (Math.abs((h - v) / (m - y) - f) > _ || d === g - 1) && (u.push(y, v), f = (h - v) / (m - y)), y = m, v = h; u = "M" + u.join(",") } return l && l.setAttribute("d", u), u }, a }(); nr() && ie.registerPlugin(Ye), Ye.version = "3.9.1", F.registerPlugin(Ye), Ye.create("serpeasing", "M0,0 C0.37,0.01 0.01,0.99 1,1"); function Fs() { const a = document.querySelector(".loader"), e = document.querySelector(".loader-wrap"), t = document.querySelector(".scan.is-loader-1"), i = document.querySelector(".progress-amount"), n = document.querySelectorAll(".loader_log"), r = [".loader_logos", ".loader_logs", ".loader_progress"], s = [".logo-2", ".logo-3", ".logo-4", ".logo-5", ".logo-6"]; if (!a) return; const o = 1.5, c = o / s.length, l = o / n.length, u = F.timeline(); return u.set(a, { display: "flex", height: "120svh" }, 0), u.set(r, { display: "block", opacity: 1 }, 0), s.forEach((f, d) => { u.set(f, { display: "block" }, d * c) }), n.forEach((f, d) => { u.set(f, { display: "block" }, d * l) }), u.to(i, { innerText: 100, duration: o, roundProps: "innerText", onUpdate: function () { const f = this.targets()[0].innerText; this.targets()[0].innerText = `[ ${f}% ]` }, ease: "none" }, 0), t && F.to(t, { y: "120svh", duration: 2.2, ease: "serpeasing" }), u.to(e, { height: 0, duration: 1.8, ease: "serpeasing", onComplete: () => { document.body.style.overflow = "", a && a.remove() } }), u } let Ie = null; class Oi { constructor(e) { if (Ie) return console.warn("Game instance already exists, use SnakeGame.initialize() instead"), Ie; this.container = e, this.canvas = null, this.ctx = null, this.snake = null, this.direction = null, this.food = null, this.interval = null, this.animationFrameId = null, this.resizeObserver = null, this.resizeTimeout = null, this.score = 0, this.bestScore = this.loadBestScore(), this.directionQueue = [], this.snakeHeadImg = null, this.snakeTailImg = null, this.cellMinSize = 20, this.gridSize = 0, this.cellWidth = 0, this.cellHeight = 0, this.totalRows = 0, this.gameSpeed = 100, this.lostScreen = document.querySelector(".game_lost"), this.restartBtn = document.getElementById("restart"), this.scoreElement = document.getElementById("score"), this.bestScoreElement = document.getElementById("best-score"), this.gameControls = document.querySelector(".game-controls"); const t = getComputedStyle(document.documentElement); this.serpRed = t.getPropertyValue("--base-colors--serp-red").trim(), this.black = t.getPropertyValue("--base-colors--black").trim(), setTimeout(() => { this.initialize(), this.updateScore(), this.updateBestScore() }, 2e3) } static initialize() { var i; if (((i = document.querySelector('[data-barba="container"]')) == null ? void 0 : i.dataset.barbaNamespace) !== "home") return console.log("Not on home page, skipping game initialization"), null; const t = document.querySelector(".game_inner"); return t ? (Ie && (Ie.cleanup(), Ie = null), Ie = new Oi(t), Ie) : (console.log("Game container not found"), null) } initialize() { console.log("Initializing game"); const e = this.container.querySelector(".score-display"); e && e.remove(); const t = document.createElement("div"); t.className = "score-display", t.style.position = "absolute", t.style.top = "10px", t.style.right = "10px", t.style.color = "var(--base-colors--serp-red)", t.style.fontFamily = "ABC Monument Grotesk Mono", t.style.fontSize = "0.75rem", t.style.textTransform = "uppercase", t.style.zIndex = "1", this.container.appendChild(t); const i = this.container.querySelector(".game-canvas"); i && i.remove(), this.canvas = document.createElement("canvas"), this.canvas.className = "game-canvas", this.canvas.id = "game-canvas", this.canvas.style.display = "block", this.canvas.style.width = "100%", this.canvas.style.height = "100%", this.container.appendChild(this.canvas), this.ctx = this.canvas.getContext("2d"), this.initializeAssets(), this.setupEventListeners(), this.bestScoreElement = document.getElementById("best-score"), console.log("Best score element found:", !!this.bestScoreElement), this.bestScoreElement ? (console.log("Current best score:", this.bestScore), this.updateBestScore()) : console.warn("Best score element not found during initialization"), this.resizeCanvas(), this.startGame() } initializeAssets() { const e = document.querySelector(".snake-head"); if (e) { e.style.display = "none"; const i = e.cloneNode(!0); i.removeAttribute("style"), i.setAttribute("width", "100%"), i.setAttribute("height", "100%"), i.setAttribute("viewBox", "0 0 7 7"), i.style.width = "100%", i.style.height = "100%"; const n = i.getElementsByTagName("*"); for (let c of n) c.setAttribute("fill", this.serpRed); i.setAttribute("fill", this.serpRed); const r = new XMLSerializer().serializeToString(i), o = `data:image/svg+xml;charset=utf-8,${encodeURIComponent(r)}`; this.snakeHeadImg = new Image, this.snakeHeadImg.src = o } const t = document.querySelector(".snake-tail"); if (t) { t.style.display = "none"; const i = t.cloneNode(!0); i.removeAttribute("style"), i.setAttribute("width", "100%"), i.setAttribute("height", "100%"), i.setAttribute("viewBox", "0 0 7 7"), i.style.width = "100%", i.style.height = "100%"; const n = i.getElementsByTagName("*"); for (let c of n) c.setAttribute("fill", this.serpRed); i.setAttribute("fill", this.serpRed); const r = new XMLSerializer().serializeToString(i), o = `data:image/svg+xml;charset=utf-8,${encodeURIComponent(r)}`; this.snakeTailImg = new Image, this.snakeTailImg.src = o } } setupEventListeners() { this.resizeObserver = new ResizeObserver(() => { clearTimeout(this.resizeTimeout), this.resizeTimeout = setTimeout(() => this.resizeCanvas(), 100) }), this.resizeObserver.observe(this.container), window.addEventListener("resize", () => { clearTimeout(this.resizeTimeout), this.resizeTimeout = setTimeout(() => this.resizeCanvas(), 100) }); const e = { "is--up": -this.gridSize, "is--down": this.gridSize, "is--left": -1, "is--right": 1 }; document.querySelectorAll(".game-controls_arrow").forEach(t => { t.addEventListener("click", () => { for (const i of t.classList) if (e[i] !== void 0) { const n = e[i], r = this.directionQueue.length > 0 ? this.directionQueue[this.directionQueue.length - 1] : this.direction; n !== r && (this.directionQueue.push(n), this.directionQueue.length > 2 && (this.directionQueue = this.directionQueue.slice(-2))); break } }) }), document.addEventListener("keydown", t => { let i; switch (t.key) { case "ArrowUp": i = -this.gridSize; break; case "ArrowDown": i = this.gridSize; break; case "ArrowLeft": i = -1; break; case "ArrowRight": i = 1; break; default: return }const n = this.directionQueue.length > 0 ? this.directionQueue[this.directionQueue.length - 1] : this.direction; i !== n && (this.directionQueue.push(i), this.directionQueue.length > 2 && (this.directionQueue = this.directionQueue.slice(-2))) }), this.restartBtn && this.restartBtn.addEventListener("click", () => { this.isMobileOrTablet() && (this.restartBtn && (this.restartBtn.style.display = "none"), this.gameControls && (this.gameControls.style.display = "flex")), this.startGame() }) } resizeCanvas() { const e = this.container.getBoundingClientRect(); this.canvas.width = e.width, this.canvas.height = e.height; const t = { cols: Math.floor(e.width / this.cellMinSize) }; t.cellWidth = e.width / t.cols, t.rows = Math.floor(e.height / t.cellWidth), t.cellHeight = e.height / t.rows, t.ratio = Math.abs(t.cellWidth - t.cellHeight); const i = { rows: Math.floor(e.height / this.cellMinSize) }; i.cellHeight = e.height / i.rows, i.cols = Math.floor(e.width / i.cellHeight), i.cellWidth = e.width / i.cols, i.ratio = Math.abs(i.cellWidth - i.cellHeight); const n = t.ratio < i.ratio ? t : i; if (this.gridSize = n.cols, this.totalRows = n.rows, this.cellWidth = n.cellWidth, this.cellHeight = n.cellHeight, this.food !== null) { const r = this.food % this.gridSize, s = Math.floor(this.food / this.gridSize); (r < 0 || r >= this.gridSize || s < 0 || s >= this.totalRows) && this.placeFood() } if (this.snake) { clearInterval(this.interval); const s = this.snake.map(o => ({ x: o % this.gridSize, y: Math.floor(o / this.gridSize) })).filter(o => o.y < this.totalRows); s.length < this.snake.length ? this.startGame() : (this.snake = s.map(o => o.y * this.gridSize + o.x), this.draw(), this.interval = setInterval(() => this.move(), this.gameSpeed)) } } startGame() { console.log("Starting game, current best score:", this.bestScore), this.animationFrameId && cancelAnimationFrame(this.animationFrameId), this.interval && clearInterval(this.interval), this.snake = [42, 41, 40], this.direction = 1, this.directionQueue = [], this.score = 0, this.updateScore(), this.updateBestScore(), this.placeFood(), (isNaN(this.food) || this.food < 0 || this.food >= this.gridSize * this.totalRows) && this.placeFood(), this.lostScreen && (this.lostScreen.style.display = "none"), this.draw(), this.interval = setInterval(() => this.move(), this.gameSpeed) } draw() { if (this.ctx.fillStyle = this.black, this.ctx.fillRect(0, 0, this.canvas.width, this.canvas.height), this.snake.forEach((e, t) => { const i = e % this.gridSize * this.cellWidth, n = Math.floor(e / this.gridSize) * this.cellHeight; if (t === 0 && this.snakeHeadImg) { this.ctx.save(); const r = i + this.cellWidth / 2, s = n + this.cellHeight / 2; this.ctx.translate(r, s); let o = 0; switch (this.direction) { case 1: o = 90; break; case -1: o = -90; break; case this.gridSize: o = 180; break; case -this.gridSize: o = 0; break }this.ctx.rotate(o * Math.PI / 180); const c = Math.min(this.cellWidth, this.cellHeight), l = this.direction === 1 || this.direction === -1 ? c : this.cellWidth, u = this.direction === 1 || this.direction === -1 ? this.cellHeight : c; this.ctx.drawImage(this.snakeHeadImg, -l / 2, -u / 2, l, u), this.ctx.restore() } else if (t === this.snake.length - 1 && this.snakeTailImg) { this.ctx.save(); let r = 0; if (this.snake.length > 1) { const c = this.snake[this.snake.length - 1], l = this.snake[this.snake.length - 2]; l === c + 1 ? r = 90 : l === c - 1 ? r = -90 : l === c + this.gridSize ? r = 180 : l === c - this.gridSize && (r = 0) } const s = i + this.cellWidth / 2, o = n + this.cellHeight / 2; this.ctx.translate(s, o), this.ctx.rotate(r * Math.PI / 180), this.ctx.drawImage(this.snakeTailImg, -this.cellWidth / 2, -this.cellHeight / 2, this.cellWidth, this.cellHeight), this.ctx.restore() } else this.ctx.fillStyle = this.serpRed, this.ctx.fillRect(i, n, this.cellWidth, this.cellHeight) }), this.food !== null) { const e = this.food % this.gridSize, t = Math.floor(this.food / this.gridSize), i = e * this.cellWidth, n = t * this.cellHeight; let r = Math.min(this.cellWidth, this.cellHeight) * .8; r < 12 && (r = 12), this.ctx.font = `${r}px "Press Start 2P", Impact, sans-serif`, this.ctx.fillStyle = this.serpRed, this.ctx.textAlign = "center", this.ctx.textBaseline = "middle", e >= 0 && e < this.gridSize && t >= 0 && t < this.totalRows && this.ctx.fillText("$", i + this.cellWidth / 2, n + this.cellHeight / 2) } } move() { if (this.directionQueue.length > 0) { const i = this.directionQueue.shift(); (i === 1 && this.direction !== -1 || i === -1 && this.direction !== 1 || i === this.gridSize && this.direction !== -this.gridSize || i === -this.gridSize && this.direction !== this.gridSize) && (this.direction = i) } let e = this.snake[0], t; if (this.direction === 1 && e % this.gridSize == this.gridSize - 1 ? t = e - (this.gridSize - 1) : this.direction === -1 && e % this.gridSize == 0 ? t = e + (this.gridSize - 1) : this.direction === -this.gridSize && e < this.gridSize ? t = e + this.gridSize * (this.totalRows - 1) : this.direction === this.gridSize && e >= this.gridSize * (this.totalRows - 1) ? t = e - this.gridSize * (this.totalRows - 1) : t = e + this.direction, this.snake.includes(t)) { this.endGame(); return } this.snake.unshift(t), t === this.food ? (this.score++, this.updateScore(), this.placeFood()) : this.snake.pop(), this.draw() } placeFood() { if (this.gridSize <= 0 || this.totalRows <= 0) return; let e, t = 0; const i = 100; do { const n = Math.floor(Math.random() * this.totalRows), r = Math.floor(Math.random() * this.gridSize); if (e = n * this.gridSize + r, t++, t >= i) return } while (this.snake.includes(e)); this.food = e } endGame() { clearInterval(this.interval), cancelAnimationFrame(this.animationFrameId), this.lostScreen && (this.lostScreen.style.display = "flex"), this.isMobileOrTablet() && (this.restartBtn && (this.restartBtn.style.display = "flex"), this.gameControls && (this.gameControls.style.display = "none")) } updateScore() { this.scoreElement && (this.scoreElement.textContent = this.score), this.score > this.bestScore && (this.bestScore = this.score, this.saveBestScore(this.score), this.updateBestScore()) } updateBestScore() { if (this.bestScoreElement) { this.bestScoreElement.textContent = this.bestScore, F.set(this.bestScoreElement, { display: "inline-block", opacity: 1, visibility: "visible" }); const e = this.bestScoreElement.parentElement; e && F.set(e, { display: "flex", opacity: 1, visibility: "visible" }) } } loadBestScore() { const e = localStorage.getItem("snakeBestScore"); if (!e) return 0; try { const t = parseInt(e); if (!isNaN(t)) return this.saveBestScore(t), t; const { score: i, timestamp: n } = JSON.parse(e); return (Date.now() - n) / (1e3 * 60 * 60) > 24 ? (localStorage.removeItem("snakeBestScore"), 0) : i } catch { return localStorage.removeItem("snakeBestScore"), 0 } } saveBestScore(e) { const t = { score: e, timestamp: Date.now() }; localStorage.setItem("snakeBestScore", JSON.stringify(t)) } isMobileOrTablet() { return window.innerWidth < 992 } cleanup() { this.interval && clearInterval(this.interval), this.animationFrameId && cancelAnimationFrame(this.animationFrameId), this.resizeObserver && this.resizeObserver.disconnect(), window.removeEventListener("resize", () => this.resizeCanvas()); const e = this.container.querySelector(".score-display"); e && e.parentNode && e.remove(), Ie = null } } function Li() { return Oi.initialize() } let kt = Hs(), Ai; function Hs() { return `anon${Math.floor(1e4 + Math.random() * 9e4)}` } function sr() { const a = document.querySelector(".welcome"); a && (a.textContent = `Welcome, ${kt} !`) } function or() { document.querySelectorAll(".commands_item").forEach(i => { const n = i.getAttribute("data-command"), r = i.querySelector(".is--answer"); n && r && n.toLowerCase() !== "help" && (i.getAttribute("data-response") || i.setAttribute("data-response", r.innerHTML)) }); const e = document.querySelector(".commands_call"), t = document.querySelector(".commands_list"); e && (e.style.display = "none"), t && (t.style.display = "none") } function ar(a, e) {
    const t = document.createElement("span"); if (t.classList.add("is-answer"), t.innerHTML = `&gt; ${a}`, e.appendChild(t), a.toLowerCase() === "help") { const n = document.querySelector(".commands_list").querySelectorAll(".commands_item"); n.forEach((r, s) => { setTimeout(() => { const o = document.createElement("div"); o.classList.add("is-answer", "commands_item"), o.style.display = "flex", o.innerHTML = `&gt;&nbsp;${r.innerHTML}`, e.appendChild(o), e.scrollTop = e.scrollHeight, s === n.length - 1 && ye() }, s * 100) }); return } if (a.toLowerCase().startsWith("user ")) { const n = a.slice(5).trim(); if (n) { kt = n; const r = document.querySelector(".input"); r && (r.placeholder = ""), setTimeout(() => { const s = document.createElement("span"); s.classList.add("is-answer"), s.innerHTML = `&gt; Welcome, ${kt} !`, e.appendChild(s), e.scrollTop = e.scrollHeight, setTimeout(() => { const o = document.createElement("span"); o.classList.add("is-answer"), o.innerHTML = "&gt; Here is a list of available commands:", e.appendChild(o), e.scrollTop = e.scrollHeight; const c = document.querySelector(".commands_list").querySelectorAll(".commands_item"); c.forEach((l, u) => { setTimeout(() => { const f = document.createElement("div"); f.classList.add("is-answer", "commands_item"), f.style.display = "flex", f.innerHTML = `&gt;&nbsp;${l.innerHTML}`, e.appendChild(f), e.scrollTop = e.scrollHeight, u === c.length - 1 && ye() }, u * 100 + 100) }) }, 400) }, 100) } else { const r = document.createElement("span"); r.classList.add("is-answer"), r.innerHTML = '&gt; Veuillez entrer un nom apr\xE8s "user"', e.appendChild(r), e.scrollTop = e.scrollHeight, ye() } return } if (a.toLowerCase() === "serp") { const n = document.querySelector(".is--ascii"); if (n) { setTimeout(() => { const r = document.createElement("span"); r.classList.add("is-answer"), r.innerHTML = `&gt; ${n.innerHTML}`, e.appendChild(r), e.scrollTop = e.scrollHeight, ye() }, 100); return } } const i = document.querySelector(`.commands_item[data-command="${a}"]`); if (i) {
      const n = i.getAttribute("data-response"); if (n) {
        if (a === "26-7") { const s = n.split("---").map(l => l.trim()).filter(Boolean), o = Math.floor(Math.random() * s.length), c = s[o]; setTimeout(() => { const l = document.createElement("span"); l.classList.add("is-answer"); const u = c.replace(/\[name\]/gi, kt); l.innerHTML = `&gt; ${u}`, e.appendChild(l), e.scrollTop = e.scrollHeight, ye() }, 100); return } const r = n.split(`
`); r.forEach((s, o) => { setTimeout(() => { const c = document.createElement("span"); c.classList.add("is-answer"); const l = s.replace(/\[name\]/gi, kt); c.innerHTML = `&gt; ${l}`, e.appendChild(c), e.scrollTop = e.scrollHeight, o === r.length - 1 && ye() }, o * 100) })
      }
    } else setTimeout(() => { const n = document.createElement("span"); n.classList.add("is-answer"), n.innerHTML = `&gt; Command not found: "${a}"`, e.appendChild(n), e.scrollTop = e.scrollHeight, ye() }, 100)
  } function cr(a) { const e = a.cloneNode(!0), t = window.getComputedStyle(a), i = t.getPropertyValue("font-size"), n = t.getPropertyValue("line-height"); e.style.position = "absolute", e.style.visibility = "hidden", e.style.height = "auto", e.style.width = t.width, e.style.whiteSpace = "normal", e.style.padding = t.padding, e.style.font = t.font, e.style.letterSpacing = t.letterSpacing, e.style.wordSpacing = t.wordSpacing, e.style.lineHeight = n, e.style.maxWidth = t.maxWidth, e.style.fontSize = i, document.body.appendChild(e); const r = e.getBoundingClientRect().height, s = parseFloat(n), o = Math.round(r / s); return document.body.removeChild(e), o } function Qe() { const a = document.querySelector("#target"), e = document.querySelector(".chevrons"); if (a && e) { const t = cr(a); e.innerHTML = ""; for (let i = 0; i < t; i++) { const n = document.createElement("span"); n.classList.add("chevron"), n.innerHTML = "&gt;", e.appendChild(n) } } document.querySelectorAll(".is-manifesto-text").forEach(t => { var n; const i = (n = t.closest(".manifesto_inner")) == null ? void 0 : n.querySelector(".chevrons"); if (t && i) { const r = cr(t); i.innerHTML = ""; for (let s = 0; s < r; s++) { const o = document.createElement("span"); o.classList.add("chevron"), o.innerHTML = "&gt;", i.appendChild(o) } } }) } function ye() { document.querySelectorAll(".is-terminal-text").forEach(a => { const n = a.innerHTML.split("<br>").map(r => r.replace(/&gt;\s*/, "")).map(r => { const s = r.match(/^\s*/)[0], o = r.trim(); return `${s}&gt; ${o}` }); a.innerHTML = n.join("<br>") }), typeof Ai == "function" && Ai() } function Us() { or(), sr(); const a = document.querySelector(".input"), e = document.querySelector(".terminal_inner"); a.placeholder = 'Enter "user" + your name'; const t = document.querySelector(".button"); a && e && t && (a.addEventListener("keydown", function (s) { if (s.key === "Enter") { const o = a.value.trim().toLowerCase(); o && (ar(o, e), a.value = "") } }), t.addEventListener("click", function () { const s = a.value.trim().toLowerCase(); s && (ar(s, e), a.value = "") })), Ai = Qe, Qe(); const i = new ResizeObserver(() => { Qe() }), n = document.querySelector(".terminal_inner"); n && i.observe(n); const r = document.querySelector("#target"); r && i.observe(r), ye() } function lr(a, e) { for (var t = 0; t < e.length; t++) { var i = e[t]; i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(a, typeof (n = function (r, s) { if (typeof r != "object" || r === null) return r; var o = r[Symbol.toPrimitive]; if (o !== void 0) { var c = o.call(r, "string"); if (typeof c != "object") return c; throw new TypeError("@@toPrimitive must return a primitive value.") } return String(r) }(i.key)) == "symbol" ? n : String(n), i) } var n } function Ri(a, e, t) { return e && lr(a.prototype, e), t && lr(a, t), Object.defineProperty(a, "prototype", { writable: !1 }), a } function ve() { return ve = Object.assign ? Object.assign.bind() : function (a) { for (var e = 1; e < arguments.length; e++) { var t = arguments[e]; for (var i in t) Object.prototype.hasOwnProperty.call(t, i) && (a[i] = t[i]) } return a }, ve.apply(this, arguments) } function Yt(a, e) { a.prototype = Object.create(e.prototype), a.prototype.constructor = a, Mt(a, e) } function Di(a) { return Di = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function (e) { return e.__proto__ || Object.getPrototypeOf(e) }, Di(a) } function Mt(a, e) { return Mt = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function (t, i) { return t.__proto__ = i, t }, Mt(a, e) } function Vs() { if (typeof Reflect == "undefined" || !Reflect.construct || Reflect.construct.sham) return !1; if (typeof Proxy == "function") return !0; try { return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () { })), !0 } catch { return !1 } } function zi(a, e, t) { return zi = Vs() ? Reflect.construct.bind() : function (i, n, r) { var s = [null]; s.push.apply(s, n); var o = new (Function.bind.apply(i, s)); return r && Mt(o, r.prototype), o }, zi.apply(null, arguments) } function Ii(a) { var e = typeof Map == "function" ? new Map : void 0; return Ii = function (t) { if (t === null || Function.toString.call(t).indexOf("[native code]") === -1) return t; if (typeof t != "function") throw new TypeError("Super expression must either be null or a function"); if (e !== void 0) { if (e.has(t)) return e.get(t); e.set(t, i) } function i() { return zi(t, arguments, Di(this).constructor) } return i.prototype = Object.create(t.prototype, { constructor: { value: i, enumerable: !1, writable: !0, configurable: !0 } }), Mt(i, t) }, Ii(a) } function Ws(a) { if (a === void 0) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return a } var qe, $s = function () { this.before = void 0, this.beforeLeave = void 0, this.leave = void 0, this.afterLeave = void 0, this.beforeEnter = void 0, this.enter = void 0, this.afterEnter = void 0, this.after = void 0 }; (function (a) { a[a.off = 0] = "off", a[a.error = 1] = "error", a[a.warning = 2] = "warning", a[a.info = 3] = "info", a[a.debug = 4] = "debug" })(qe || (qe = {})); var ur = qe.off, Ke = function () { function a(t) { this.t = void 0, this.t = t } a.getLevel = function () { return ur }, a.setLevel = function (t) { return ur = qe[t] }; var e = a.prototype; return e.error = function () { this.i(console.error, qe.error, [].slice.call(arguments)) }, e.warn = function () { this.i(console.warn, qe.warning, [].slice.call(arguments)) }, e.info = function () { this.i(console.info, qe.info, [].slice.call(arguments)) }, e.debug = function () { this.i(console.log, qe.debug, [].slice.call(arguments)) }, e.i = function (t, i, n) { i <= a.getLevel() && t.apply(console, ["[" + this.t + "] "].concat(n)) }, a }(); function ht(a) { return a.replace(/([.+*?=^!:${}()[\]|/\\])/g, "\\$1") } function hr(a) { return a && a.sensitive ? "" : "i" } var be = { container: "container", history: "history", namespace: "namespace", prefix: "data-barba", prevent: "prevent", wrapper: "wrapper" }, Ze = new (function () { function a() { this.o = be, this.u = void 0, this.h = { after: null, before: null, parent: null } } var e = a.prototype; return e.toString = function (t) { return t.outerHTML }, e.toDocument = function (t) { return this.u || (this.u = new DOMParser), this.u.parseFromString(t, "text/html") }, e.toElement = function (t) { var i = document.createElement("div"); return i.innerHTML = t, i }, e.getHtml = function (t) { return t === void 0 && (t = document), this.toString(t.documentElement) }, e.getWrapper = function (t) { return t === void 0 && (t = document), t.querySelector("[" + this.o.prefix + '="' + this.o.wrapper + '"]') }, e.getContainer = function (t) { return t === void 0 && (t = document), t.querySelector("[" + this.o.prefix + '="' + this.o.container + '"]') }, e.removeContainer = function (t) { document.body.contains(t) && (this.v(t), t.parentNode.removeChild(t)) }, e.addContainer = function (t, i) { var n = this.getContainer() || this.h.before; n ? this.l(t, n) : this.h.after ? this.h.after.parentNode.insertBefore(t, this.h.after) : this.h.parent ? this.h.parent.appendChild(t) : i.appendChild(t) }, e.getSibling = function () { return this.h }, e.getNamespace = function (t) { t === void 0 && (t = document); var i = t.querySelector("[" + this.o.prefix + "-" + this.o.namespace + "]"); return i ? i.getAttribute(this.o.prefix + "-" + this.o.namespace) : null }, e.getHref = function (t) { if (t.tagName && t.tagName.toLowerCase() === "a") { if (typeof t.href == "string") return t.href; var i = t.getAttribute("href") || t.getAttribute("xlink:href"); if (i) return this.resolveUrl(i.baseVal || i) } return null }, e.resolveUrl = function () { var t = [].slice.call(arguments).length; if (t === 0) throw new Error("resolveUrl requires at least one argument; got none."); var i = document.createElement("base"); if (i.href = arguments[0], t === 1) return i.href; var n = document.getElementsByTagName("head")[0]; n.insertBefore(i, n.firstChild); for (var r, s = document.createElement("a"), o = 1; o < t; o++)s.href = arguments[o], i.href = r = s.href; return n.removeChild(i), r }, e.l = function (t, i) { i.parentNode.insertBefore(t, i.nextSibling) }, e.v = function (t) { return this.h = { after: t.nextElementSibling, before: t.previousElementSibling, parent: t.parentElement }, this.h }, a }()), js = function () { function a() { this.p = void 0, this.m = [], this.P = -1 } var e = a.prototype; return e.init = function (t, i) { this.p = "barba"; var n = { data: {}, ns: i, scroll: { x: window.scrollX, y: window.scrollY }, url: t }; this.P = 0, this.m.push(n); var r = { from: this.p, index: this.P, states: [].concat(this.m) }; window.history && window.history.replaceState(r, "", t) }, e.change = function (t, i, n) { if (n && n.state) { var r = n.state, s = r.index; i = this.g(this.P - s), this.replace(r.states), this.P = s } else this.add(t, i); return i }, e.add = function (t, i, n, r) { var s = n != null ? n : this.R(i), o = { data: r != null ? r : {}, ns: "tmp", scroll: { x: window.scrollX, y: window.scrollY }, url: t }; switch (s) { case "push": this.P = this.size, this.m.push(o); break; case "replace": this.set(this.P, o) }var c = { from: this.p, index: this.P, states: [].concat(this.m) }; switch (s) { case "push": window.history && window.history.pushState(c, "", t); break; case "replace": window.history && window.history.replaceState(c, "", t) } }, e.store = function (t, i) { var n = i || this.P, r = this.get(n); r.data = ve({}, r.data, t), this.set(n, r); var s = { from: this.p, index: this.P, states: [].concat(this.m) }; window.history.replaceState(s, "") }, e.update = function (t, i) { var n = i || this.P, r = ve({}, this.get(n), t); this.set(n, r) }, e.remove = function (t) { t ? this.m.splice(t, 1) : this.m.pop(), this.P-- }, e.clear = function () { this.m = [], this.P = -1 }, e.replace = function (t) { this.m = t }, e.get = function (t) { return this.m[t] }, e.set = function (t, i) { return this.m[t] = i }, e.R = function (t) { var i = "push", n = t, r = be.prefix + "-" + be.history; return n.hasAttribute && n.hasAttribute(r) && (i = n.getAttribute(r)), i }, e.g = function (t) { return Math.abs(t) > 1 ? t > 0 ? "forward" : "back" : t === 0 ? "popstate" : t > 0 ? "back" : "forward" }, Ri(a, [{ key: "current", get: function () { return this.m[this.P] } }, { key: "previous", get: function () { return this.P < 1 ? null : this.m[this.P - 1] } }, { key: "size", get: function () { return this.m.length } }]), a }(), fr = new js, Qt = function (a, e) { try { var t = function () { if (!e.next.html) return Promise.resolve(a).then(function (i) { var n = e.next; if (i) { var r = Ze.toElement(i.html); n.namespace = Ze.getNamespace(r), n.container = Ze.getContainer(r), n.url = i.url, n.html = i.html, fr.update({ ns: n.namespace }); var s = Ze.toDocument(i.html); document.title = s.title } }) }(); return Promise.resolve(t && t.then ? t.then(function () { }) : void 0) } catch (i) { return Promise.reject(i) } }, dr = function a(e, t, i) { return e instanceof RegExp ? function (n, r) { if (!r) return n; for (var s = /\((?:\?<(.*?)>)?(?!\?)/g, o = 0, c = s.exec(n.source); c;)r.push({ name: c[1] || o++, prefix: "", suffix: "", modifier: "", pattern: "" }), c = s.exec(n.source); return n }(e, t) : Array.isArray(e) ? function (n, r, s) { var o = n.map(function (c) { return a(c, r, s).source }); return new RegExp("(?:".concat(o.join("|"), ")"), hr(s)) }(e, t, i) : function (n, r, s) { return function (o, c, l) { l === void 0 && (l = {}); for (var u = l.strict, f = u !== void 0 && u, d = l.start, p = d === void 0 || d, m = l.end, h = m === void 0 || m, g = l.encode, _ = g === void 0 ? function (A) { return A } : g, y = l.delimiter, v = y === void 0 ? "/#?" : y, x = l.endsWith, b = "[".concat(ht(x === void 0 ? "" : x), "]|$"), w = "[".concat(ht(v), "]"), T = p ? "^" : "", P = 0, S = o; P < S.length; P++) { var C = S[P]; if (typeof C == "string") T += ht(_(C)); else { var M = ht(_(C.prefix)), E = ht(_(C.suffix)); if (C.pattern) if (c && c.push(C), M || E) if (C.modifier === "+" || C.modifier === "*") { var O = C.modifier === "*" ? "?" : ""; T += "(?:".concat(M, "((?:").concat(C.pattern, ")(?:").concat(E).concat(M, "(?:").concat(C.pattern, "))*)").concat(E, ")").concat(O) } else T += "(?:".concat(M, "(").concat(C.pattern, ")").concat(E, ")").concat(C.modifier); else T += C.modifier === "+" || C.modifier === "*" ? "((?:".concat(C.pattern, ")").concat(C.modifier, ")") : "(".concat(C.pattern, ")").concat(C.modifier); else T += "(?:".concat(M).concat(E, ")").concat(C.modifier) } } if (h) f || (T += "".concat(w, "?")), T += l.endsWith ? "(?=".concat(b, ")") : "$"; else { var k = o[o.length - 1], L = typeof k == "string" ? w.indexOf(k[k.length - 1]) > -1 : k === void 0; f || (T += "(?:".concat(w, "(?=").concat(b, "))?")), L || (T += "(?=".concat(w, "|").concat(b, ")")) } return new RegExp(T, hr(l)) }(function (o, c) { c === void 0 && (c = {}); for (var l = function (E) { for (var O = [], k = 0; k < E.length;) { var L = E[k]; if (L !== "*" && L !== "+" && L !== "?") if (L !== "\\") if (L !== "{") if (L !== "}") if (L !== ":") if (L !== "(") O.push({ type: "CHAR", index: k, value: E[k++] }); else { var A = 1, q = ""; if (E[D = k + 1] === "?") throw new TypeError('Pattern cannot start with "?" at '.concat(D)); for (; D < E.length;)if (E[D] !== "\\") { if (E[D] === ")") { if (--A == 0) { D++; break } } else if (E[D] === "(" && (A++, E[D + 1] !== "?")) throw new TypeError("Capturing groups are not allowed at ".concat(D)); q += E[D++] } else q += E[D++] + E[D++]; if (A) throw new TypeError("Unbalanced pattern at ".concat(k)); if (!q) throw new TypeError("Missing pattern at ".concat(k)); O.push({ type: "PATTERN", index: k, value: q }), k = D } else { for (var Y = "", D = k + 1; D < E.length;) { var Q = E.charCodeAt(D); if (!(Q >= 48 && Q <= 57 || Q >= 65 && Q <= 90 || Q >= 97 && Q <= 122 || Q === 95)) break; Y += E[D++] } if (!Y) throw new TypeError("Missing parameter name at ".concat(k)); O.push({ type: "NAME", index: k, value: Y }), k = D } else O.push({ type: "CLOSE", index: k, value: E[k++] }); else O.push({ type: "OPEN", index: k, value: E[k++] }); else O.push({ type: "ESCAPED_CHAR", index: k++, value: E[k++] }); else O.push({ type: "MODIFIER", index: k, value: E[k++] }) } return O.push({ type: "END", index: k, value: "" }), O }(o), u = c.prefixes, f = u === void 0 ? "./" : u, d = "[^".concat(ht(c.delimiter || "/#?"), "]+?"), p = [], m = 0, h = 0, g = "", _ = function (E) { if (h < l.length && l[h].type === E) return l[h++].value }, y = function (E) { var O = _(E); if (O !== void 0) return O; var k = l[h], L = k.index; throw new TypeError("Unexpected ".concat(k.type, " at ").concat(L, ", expected ").concat(E)) }, v = function () { for (var E, O = ""; E = _("CHAR") || _("ESCAPED_CHAR");)O += E; return O }; h < l.length;) { var x = _("CHAR"), b = _("NAME"), w = _("PATTERN"); if (b || w) f.indexOf(P = x || "") === -1 && (g += P, P = ""), g && (p.push(g), g = ""), p.push({ name: b || m++, prefix: P, suffix: "", pattern: w || d, modifier: _("MODIFIER") || "" }); else { var T = x || _("ESCAPED_CHAR"); if (T) g += T; else if (g && (p.push(g), g = ""), _("OPEN")) { var P = v(), S = _("NAME") || "", C = _("PATTERN") || "", M = v(); y("CLOSE"), p.push({ name: S || (C ? m++ : ""), pattern: S && !C ? d : C, prefix: P, suffix: M, modifier: _("MODIFIER") || "" }) } else y("END") } } return p }(n, s), r, s) }(e, t, i) }, Gs = { __proto__: null, update: Qt, nextTick: function () { return new Promise(function (a) { window.requestAnimationFrame(a) }) }, pathToRegexp: dr }, pr = function () { return window.location.origin }, Ot = function (a) { return a === void 0 && (a = window.location.href), Be(a).port }, Be = function (a) { var e, t = a.match(/:\d+/); if (t === null) /^http/.test(a) && (e = 80), /^https/.test(a) && (e = 443); else { var i = t[0].substring(1); e = parseInt(i, 10) } var n, r = a.replace(pr(), ""), s = {}, o = r.indexOf("#"); o >= 0 && (n = r.slice(o + 1), r = r.slice(0, o)); var c = r.indexOf("?"); return c >= 0 && (s = mr(r.slice(c + 1)), r = r.slice(0, c)), { hash: n, path: r, port: e, query: s } }, mr = function (a) { return a.split("&").reduce(function (e, t) { var i = t.split("="); return e[i[0]] = i[1], e }, {}) }, qi = function (a) { return a === void 0 && (a = window.location.href), a.replace(/(\/#.*|\/|#.*)$/, "") }, Xs = { __proto__: null, getHref: function () { return window.location.href }, getAbsoluteHref: function (a, e) { return e === void 0 && (e = document.baseURI), new URL(a, e).href }, getOrigin: pr, getPort: Ot, getPath: function (a) { return a === void 0 && (a = window.location.href), Be(a).path }, getQuery: function (a, e) { return e === void 0 && (e = !1), e ? JSON.stringify(Be(a).query) : Be(a).query }, getHash: function (a) { return Be(a).hash }, parse: Be, parseQuery: mr, clean: qi }; function Ys(a, e, t, i, n) { return e === void 0 && (e = 2e3), new Promise(function (r, s) { var o = new XMLHttpRequest; o.onreadystatechange = function () { if (o.readyState === XMLHttpRequest.DONE) { if (o.status === 200) { var c = o.responseURL !== "" && o.responseURL !== a ? o.responseURL : a; r({ html: o.responseText, url: ve({ href: c }, Be(c)) }), i.update(a, { status: "fulfilled", target: c }) } else if (o.status) { var l = { status: o.status, statusText: o.statusText }; t(a, l), s(l), i.update(a, { status: "rejected" }) } } }, o.ontimeout = function () { var c = new Error("Timeout error [" + e + "]"); t(a, c), s(c), i.update(a, { status: "rejected" }) }, o.onerror = function () { var c = new Error("Fetch error"); t(a, c), s(c), i.update(a, { status: "rejected" }) }, o.open("GET", a), o.timeout = e, o.setRequestHeader("Accept", "text/html,application/xhtml+xml,application/xml"), o.setRequestHeader("x-barba", "yes"), n.all().forEach(function (c, l) { o.setRequestHeader(l, c) }), o.send() }) } function Qs(a) { return !!a && (typeof a == "object" || typeof a == "function") && typeof a.then == "function" } function ft(a, e) { return e === void 0 && (e = {}), function () { var t = arguments, i = !1, n = new Promise(function (r, s) { e.async = function () { return i = !0, function (c, l) { c ? s(c) : r(l) } }; var o = a.apply(e, [].slice.call(t)); i || (Qs(o) ? o.then(r, s) : r(o)) }); return n } } var Ne = new (function (a) { function e() { var i; return (i = a.call(this) || this).logger = new Ke("@barba/core"), i.all = ["ready", "page", "reset", "currentAdded", "currentRemoved", "nextAdded", "nextRemoved", "beforeOnce", "once", "afterOnce", "before", "beforeLeave", "leave", "afterLeave", "beforeEnter", "enter", "afterEnter", "after"], i.registered = new Map, i.init(), i } Yt(e, a); var t = e.prototype; return t.init = function () { var i = this; this.registered.clear(), this.all.forEach(function (n) { i[n] || (i[n] = function (r, s) { i.registered.has(n) || i.registered.set(n, new Set), i.registered.get(n).add({ ctx: s || {}, fn: r }) }) }) }, t.do = function (i) { var n = arguments, r = this; if (this.registered.has(i)) { var s = Promise.resolve(); return this.registered.get(i).forEach(function (o) { s = s.then(function () { return ft(o.fn, o.ctx).apply(void 0, [].slice.call(n, 1)) }) }), s.catch(function (o) { r.logger.debug("Hook error [" + i + "]"), r.logger.error(o) }) } return Promise.resolve() }, t.clear = function () { var i = this; this.all.forEach(function (n) { delete i[n] }), this.init() }, t.help = function () { this.logger.info("Available hooks: " + this.all.join(",")); var i = []; this.registered.forEach(function (n, r) { return i.push(r) }), this.logger.info("Registered hooks: " + i.join(",")) }, e }($s)), _r = function () { function a(e) { if (this.k = void 0, this.O = [], typeof e == "boolean") this.k = e; else { var t = Array.isArray(e) ? e : [e]; this.O = t.map(function (i) { return dr(i) }) } } return a.prototype.checkHref = function (e) { if (typeof this.k == "boolean") return this.k; var t = Be(e).path; return this.O.some(function (i) { return i.exec(t) !== null }) }, a }(), Ks = function (a) { function e(i) { var n; return (n = a.call(this, i) || this).T = new Map, n } Yt(e, a); var t = e.prototype; return t.set = function (i, n, r, s, o) { return this.T.set(i, { action: r, request: n, status: s, target: o != null ? o : i }), { action: r, request: n, status: s, target: o } }, t.get = function (i) { return this.T.get(i) }, t.getRequest = function (i) { return this.T.get(i).request }, t.getAction = function (i) { return this.T.get(i).action }, t.getStatus = function (i) { return this.T.get(i).status }, t.getTarget = function (i) { return this.T.get(i).target }, t.has = function (i) { return !this.checkHref(i) && this.T.has(i) }, t.delete = function (i) { return this.T.delete(i) }, t.update = function (i, n) { var r = ve({}, this.T.get(i), n); return this.T.set(i, r), r }, e }(_r), Zs = function () { function a() { this.A = new Map } var e = a.prototype; return e.set = function (t, i) { return this.A.set(t, i), { name: i } }, e.get = function (t) { return this.A.get(t) }, e.all = function () { return this.A }, e.has = function (t) { return this.A.has(t) }, e.delete = function (t) { return this.A.delete(t) }, e.clear = function () { return this.A.clear() }, a }(), Js = function () { return !window.history.pushState }, eo = function (a) { return !a.el || !a.href }, to = function (a) { var e = a.event; return e.which > 1 || e.metaKey || e.ctrlKey || e.shiftKey || e.altKey }, io = function (a) { var e = a.el; return e.hasAttribute("target") && e.target === "_blank" }, no = function (a) { var e = a.el; return e.protocol !== void 0 && window.location.protocol !== e.protocol || e.hostname !== void 0 && window.location.hostname !== e.hostname }, ro = function (a) { var e = a.el; return e.port !== void 0 && Ot() !== Ot(e.href) }, so = function (a) { var e = a.el; return e.getAttribute && typeof e.getAttribute("download") == "string" }, oo = function (a) { return a.el.hasAttribute(be.prefix + "-" + be.prevent) }, ao = function (a) { return Boolean(a.el.closest("[" + be.prefix + "-" + be.prevent + '="all"]')) }, co = function (a) { var e = a.href; return qi(e) === qi() && Ot(e) === Ot() }, lo = function (a) { function e(i) { var n; return (n = a.call(this, i) || this).suite = [], n.tests = new Map, n.init(), n } Yt(e, a); var t = e.prototype; return t.init = function () { this.add("pushState", Js), this.add("exists", eo), this.add("newTab", to), this.add("blank", io), this.add("corsDomain", no), this.add("corsPort", ro), this.add("download", so), this.add("preventSelf", oo), this.add("preventAll", ao), this.add("sameUrl", co, !1) }, t.add = function (i, n, r) { r === void 0 && (r = !0), this.tests.set(i, n), r && this.suite.push(i) }, t.run = function (i, n, r, s) { return this.tests.get(i)({ el: n, event: r, href: s }) }, t.checkLink = function (i, n, r) { var s = this; return this.suite.some(function (o) { return s.run(o, i, n, r) }) }, e }(_r), Bi = function (a) { function e(t, i) { var n; return i === void 0 && (i = "Barba error"), (n = a.call.apply(a, [this].concat([].slice.call(arguments, 2))) || this).error = void 0, n.label = void 0, n.error = t, n.label = i, Error.captureStackTrace && Error.captureStackTrace(Ws(n), e), n.name = "BarbaError", n } return Yt(e, a), e }(Ii(Error)), uo = function () { function a(t) { t === void 0 && (t = []), this.logger = new Ke("@barba/core"), this.all = [], this.page = [], this.once = [], this.j = [{ name: "namespace", type: "strings" }, { name: "custom", type: "function" }], t && (this.all = this.all.concat(t)), this.update() } var e = a.prototype; return e.add = function (t, i) { t === "rule" ? this.j.splice(i.position || 0, 0, i.value) : this.all.push(i), this.update() }, e.resolve = function (t, i) { var n = this; i === void 0 && (i = {}); var r = i.once ? this.once : this.page; r = r.filter(i.self ? function (d) { return d.name && d.name === "self" } : function (d) { return !d.name || d.name !== "self" }); var s = new Map, o = r.find(function (d) { var p = !0, m = {}; return i.self && d.name === "self" ? (s.set(d, m), !0) : (n.j.reverse().forEach(function (h) { p && (p = n.M(d, h, t, m), d.from && d.to && (p = n.M(d, h, t, m, "from") && n.M(d, h, t, m, "to")), d.from && !d.to && (p = n.M(d, h, t, m, "from")), !d.from && d.to && (p = n.M(d, h, t, m, "to"))) }), s.set(d, m), p) }), c = s.get(o), l = []; if (l.push(i.once ? "once" : "page"), i.self && l.push("self"), c) { var u, f = [o]; Object.keys(c).length > 0 && f.push(c), (u = this.logger).info.apply(u, ["Transition found [" + l.join(",") + "]"].concat(f)) } else this.logger.info("No transition found [" + l.join(",") + "]"); return o }, e.update = function () { var t = this; this.all = this.all.map(function (i) { return t.N(i) }).sort(function (i, n) { return i.priority - n.priority }).reverse().map(function (i) { return delete i.priority, i }), this.page = this.all.filter(function (i) { return i.leave !== void 0 || i.enter !== void 0 }), this.once = this.all.filter(function (i) { return i.once !== void 0 }) }, e.M = function (t, i, n, r, s) { var o = !0, c = !1, l = t, u = i.name, f = u, d = u, p = u, m = s ? l[s] : l, h = s === "to" ? n.next : n.current; if (s ? m && m[u] : m[u]) { switch (i.type) { case "strings": default: var g = Array.isArray(m[f]) ? m[f] : [m[f]]; h[f] && g.indexOf(h[f]) !== -1 && (c = !0), g.indexOf(h[f]) === -1 && (o = !1); break; case "object": var _ = Array.isArray(m[d]) ? m[d] : [m[d]]; h[d] ? (h[d].name && _.indexOf(h[d].name) !== -1 && (c = !0), _.indexOf(h[d].name) === -1 && (o = !1)) : o = !1; break; case "function": m[p](n) ? c = !0 : o = !1 }c && (s ? (r[s] = r[s] || {}, r[s][u] = l[s][u]) : r[u] = l[u]) } return o }, e.S = function (t, i, n) { var r = 0; return (t[i] || t.from && t.from[i] || t.to && t.to[i]) && (r += Math.pow(10, n), t.from && t.from[i] && (r += 1), t.to && t.to[i] && (r += 2)), r }, e.N = function (t) { var i = this; t.priority = 0; var n = 0; return this.j.forEach(function (r, s) { n += i.S(t, r.name, s + 1) }), t.priority = n, t }, a }(); function Lt(a, e) { try { var t = a() } catch (i) { return e(i) } return t && t.then ? t.then(void 0, e) : t } var ho = function () { function a(t) { t === void 0 && (t = []), this.logger = new Ke("@barba/core"), this.store = void 0, this.C = !1, this.store = new uo(t) } var e = a.prototype; return e.get = function (t, i) { return this.store.resolve(t, i) }, e.doOnce = function (t) { var i = t.data, n = t.transition; try { var r = function () { s.C = !1 }, s = this, o = n || {}; s.C = !0; var c = Lt(function () { return Promise.resolve(s.L("beforeOnce", i, o)).then(function () { return Promise.resolve(s.once(i, o)).then(function () { return Promise.resolve(s.L("afterOnce", i, o)).then(function () { }) }) }) }, function (l) { s.C = !1, s.logger.debug("Transition error [before/after/once]"), s.logger.error(l) }); return Promise.resolve(c && c.then ? c.then(r) : r()) } catch (l) { return Promise.reject(l) } }, e.doPage = function (t) { var i = t.data, n = t.transition, r = t.page, s = t.wrapper; try { var o = function (d) { c.C = !1 }, c = this, l = n || {}, u = l.sync === !0 || !1; c.C = !0; var f = Lt(function () { function d() { return Promise.resolve(c.L("before", i, l)).then(function () { function m(g) { return Promise.resolve(c.remove(i)).then(function () { return Promise.resolve(c.L("after", i, l)).then(function () { }) }) } var h = function () { if (u) return Lt(function () { return Promise.resolve(c.add(i, s)).then(function () { return Promise.resolve(c.L("beforeLeave", i, l)).then(function () { return Promise.resolve(c.L("beforeEnter", i, l)).then(function () { return Promise.resolve(Promise.all([c.leave(i, l), c.enter(i, l)])).then(function () { return Promise.resolve(c.L("afterLeave", i, l)).then(function () { return Promise.resolve(c.L("afterEnter", i, l)).then(function () { }) }) }) }) }) }) }, function (v) { if (c.H(v)) throw new Bi(v, "Transition error [sync]") }); var g = function (v) { return Lt(function () { var x = function () { if (_ !== !1) return Promise.resolve(c.add(i, s)).then(function () { return Promise.resolve(c.L("beforeEnter", i, l)).then(function () { return Promise.resolve(c.enter(i, l, _)).then(function () { return Promise.resolve(c.L("afterEnter", i, l)).then(function () { }) }) }) }) }(); if (x && x.then) return x.then(function () { }) }, function (x) { if (c.H(x)) throw new Bi(x, "Transition error [before/after/enter]") }) }, _ = !1, y = Lt(function () { return Promise.resolve(c.L("beforeLeave", i, l)).then(function () { return Promise.resolve(Promise.all([c.leave(i, l), Qt(r, i)]).then(function (v) { return v[0] })).then(function (v) { return _ = v, Promise.resolve(c.L("afterLeave", i, l)).then(function () { }) }) }) }, function (v) { if (c.H(v)) throw new Bi(v, "Transition error [before/after/leave]") }); return y && y.then ? y.then(g) : g() }(); return h && h.then ? h.then(m) : m() }) } var p = function () { if (u) return Promise.resolve(Qt(r, i)).then(function () { }) }(); return p && p.then ? p.then(d) : d() }, function (d) { throw c.C = !1, d.name && d.name === "BarbaError" ? (c.logger.debug(d.label), c.logger.error(d.error), d) : (c.logger.debug("Transition error [page]"), c.logger.error(d), d) }); return Promise.resolve(f && f.then ? f.then(o) : o()) } catch (d) { return Promise.reject(d) } }, e.once = function (t, i) { try { return Promise.resolve(Ne.do("once", t, i)).then(function () { return i.once ? ft(i.once, i)(t) : Promise.resolve() }) } catch (n) { return Promise.reject(n) } }, e.leave = function (t, i) { try { return Promise.resolve(Ne.do("leave", t, i)).then(function () { return i.leave ? ft(i.leave, i)(t) : Promise.resolve() }) } catch (n) { return Promise.reject(n) } }, e.enter = function (t, i, n) { try { return Promise.resolve(Ne.do("enter", t, i)).then(function () { return i.enter ? ft(i.enter, i)(t, n) : Promise.resolve() }) } catch (r) { return Promise.reject(r) } }, e.add = function (t, i) { try { return Ze.addContainer(t.next.container, i), Ne.do("nextAdded", t), Promise.resolve() } catch (n) { return Promise.reject(n) } }, e.remove = function (t) { try { return Ze.removeContainer(t.current.container), Ne.do("currentRemoved", t), Promise.resolve() } catch (i) { return Promise.reject(i) } }, e.H = function (t) { return t.message ? !/Timeout error|Fetch error/.test(t.message) : !t.status }, e.L = function (t, i, n) { try { return Promise.resolve(Ne.do(t, i, n)).then(function () { return n[t] ? ft(n[t], n)(i) : Promise.resolve() }) } catch (r) { return Promise.reject(r) } }, Ri(a, [{ key: "isRunning", get: function () { return this.C }, set: function (t) { this.C = t } }, { key: "hasOnce", get: function () { return this.store.once.length > 0 } }, { key: "hasSelf", get: function () { return this.store.all.some(function (t) { return t.name === "self" }) } }, { key: "shouldWait", get: function () { return this.store.all.some(function (t) { return t.to && !t.to.route || t.sync }) } }]), a }(), fo = function () { function a(e) { var t = this; this.names = ["beforeLeave", "afterLeave", "beforeEnter", "afterEnter"], this.byNamespace = new Map, e.length !== 0 && (e.forEach(function (i) { t.byNamespace.set(i.namespace, i) }), this.names.forEach(function (i) { Ne[i](t._(i)) })) } return a.prototype._ = function (e) { var t = this; return function (i) { var n = e.match(/enter/i) ? i.next : i.current, r = t.byNamespace.get(n.namespace); return r && r[e] ? ft(r[e], r)(i) : Promise.resolve() } }, a }(); Element.prototype.matches || (Element.prototype.matches = Element.prototype.msMatchesSelector || Element.prototype.webkitMatchesSelector), Element.prototype.closest || (Element.prototype.closest = function (a) { var e = this; do { if (e.matches(a)) return e; e = e.parentElement || e.parentNode } while (e !== null && e.nodeType === 1); return null }); var po = { container: null, html: "", namespace: "", url: { hash: "", href: "", path: "", port: null, query: {} } }, Je = new (function () { function a() { this.version = "2.10.3", this.schemaPage = po, this.Logger = Ke, this.logger = new Ke("@barba/core"), this.plugins = [], this.timeout = void 0, this.cacheIgnore = void 0, this.cacheFirstPage = void 0, this.prefetchIgnore = void 0, this.preventRunning = void 0, this.hooks = Ne, this.cache = void 0, this.headers = void 0, this.prevent = void 0, this.transitions = void 0, this.views = void 0, this.dom = Ze, this.helpers = Gs, this.history = fr, this.request = Ys, this.url = Xs, this.D = void 0, this.B = void 0, this.q = void 0, this.F = void 0 } var e = a.prototype; return e.use = function (t, i) { var n = this.plugins; n.indexOf(t) > -1 ? this.logger.warn("Plugin [" + t.name + "] already installed.") : typeof t.install == "function" ? (t.install(this, i), n.push(t)) : this.logger.warn("Plugin [" + t.name + '] has no "install" method.') }, e.init = function (t) { var i = t === void 0 ? {} : t, n = i.transitions, r = n === void 0 ? [] : n, s = i.views, o = s === void 0 ? [] : s, c = i.schema, l = c === void 0 ? be : c, u = i.requestError, f = i.timeout, d = f === void 0 ? 2e3 : f, p = i.cacheIgnore, m = p !== void 0 && p, h = i.cacheFirstPage, g = h !== void 0 && h, _ = i.prefetchIgnore, y = _ !== void 0 && _, v = i.preventRunning, x = v !== void 0 && v, b = i.prevent, w = b === void 0 ? null : b, T = i.debug, P = i.logLevel; if (Ke.setLevel((T !== void 0 && T) === !0 ? "debug" : P === void 0 ? "off" : P), this.logger.info(this.version), Object.keys(l).forEach(function (M) { be[M] && (be[M] = l[M]) }), this.B = u, this.timeout = d, this.cacheIgnore = m, this.cacheFirstPage = g, this.prefetchIgnore = y, this.preventRunning = x, this.q = this.dom.getWrapper(), !this.q) throw new Error("[@barba/core] No Barba wrapper found"); this.I(); var S = this.data.current; if (!S.container) throw new Error("[@barba/core] No Barba container found"); if (this.cache = new Ks(m), this.headers = new Zs, this.prevent = new lo(y), this.transitions = new ho(r), this.views = new fo(o), w !== null) { if (typeof w != "function") throw new Error("[@barba/core] Prevent should be a function"); this.prevent.add("preventCustom", w) } this.history.init(S.url.href, S.namespace), g && this.cache.set(S.url.href, Promise.resolve({ html: S.html, url: S.url }), "init", "fulfilled"), this.U = this.U.bind(this), this.$ = this.$.bind(this), this.X = this.X.bind(this), this.G(), this.plugins.forEach(function (M) { return M.init() }); var C = this.data; C.trigger = "barba", C.next = C.current, C.current = ve({}, this.schemaPage), this.hooks.do("ready", C), this.once(C), this.I() }, e.destroy = function () { this.I(), this.J(), this.history.clear(), this.hooks.clear(), this.plugins = [] }, e.force = function (t) { window.location.assign(t) }, e.go = function (t, i, n) { var r; if (i === void 0 && (i = "barba"), this.F = null, this.transitions.isRunning) this.force(t); else if (!(r = i === "popstate" ? this.history.current && this.url.getPath(this.history.current.url) === this.url.getPath(t) && this.url.getQuery(this.history.current.url, !0) === this.url.getQuery(t, !0) : this.prevent.run("sameUrl", null, null, t)) || this.transitions.hasSelf) return i = this.history.change(this.cache.has(t) ? this.cache.get(t).target : t, i, n), n && (n.stopPropagation(), n.preventDefault()), this.page(t, i, n != null ? n : void 0, r) }, e.once = function (t) { try { var i = this; return Promise.resolve(i.hooks.do("beforeEnter", t)).then(function () { function n() { return Promise.resolve(i.hooks.do("afterEnter", t)).then(function () { }) } var r = function () { if (i.transitions.hasOnce) { var s = i.transitions.get(t, { once: !0 }); return Promise.resolve(i.transitions.doOnce({ transition: s, data: t })).then(function () { }) } }(); return r && r.then ? r.then(n) : n() }) } catch (n) { return Promise.reject(n) } }, e.page = function (t, i, n, r) { try { var s, o = function () { var f = c.data; return Promise.resolve(c.hooks.do("page", f)).then(function () { var d = function (p, m) { try { var h = (g = c.transitions.get(f, { once: !1, self: r }), Promise.resolve(c.transitions.doPage({ data: f, page: s, transition: g, wrapper: c.q })).then(function () { c.I() })) } catch { return m() } var g; return h && h.then ? h.then(void 0, m) : h }(0, function () { Ke.getLevel() === 0 && c.force(f.next.url.href) }); if (d && d.then) return d.then(function () { }) }) }, c = this; if (c.data.next.url = ve({ href: t }, c.url.parse(t)), c.data.trigger = i, c.data.event = n, c.cache.has(t)) s = c.cache.update(t, { action: "click" }).request; else { var l = c.request(t, c.timeout, c.onRequestError.bind(c, i), c.cache, c.headers); l.then(function (f) { f.url.href !== t && c.history.add(f.url.href, i, "replace") }), s = c.cache.set(t, l, "click", "pending").request } var u = function () { if (c.transitions.shouldWait) return Promise.resolve(Qt(s, c.data)).then(function () { }) }(); return Promise.resolve(u && u.then ? u.then(o) : o()) } catch (f) { return Promise.reject(f) } }, e.onRequestError = function (t) { this.transitions.isRunning = !1; var i = [].slice.call(arguments, 1), n = i[0], r = i[1], s = this.cache.getAction(n); return this.cache.delete(n), this.B && this.B(t, s, n, r) === !1 || s === "click" && this.force(n), !1 }, e.prefetch = function (t) { var i = this; t = this.url.getAbsoluteHref(t), this.cache.has(t) || this.cache.set(t, this.request(t, this.timeout, this.onRequestError.bind(this, "barba"), this.cache, this.headers).catch(function (n) { i.logger.error(n) }), "prefetch", "pending") }, e.G = function () { this.prefetchIgnore !== !0 && (document.addEventListener("mouseover", this.U), document.addEventListener("touchstart", this.U)), document.addEventListener("click", this.$), window.addEventListener("popstate", this.X) }, e.J = function () { this.prefetchIgnore !== !0 && (document.removeEventListener("mouseover", this.U), document.removeEventListener("touchstart", this.U)), document.removeEventListener("click", this.$), window.removeEventListener("popstate", this.X) }, e.U = function (t) { var i = this, n = this.W(t); if (n) { var r = this.url.getAbsoluteHref(this.dom.getHref(n)); this.prevent.checkHref(r) || this.cache.has(r) || this.cache.set(r, this.request(r, this.timeout, this.onRequestError.bind(this, n), this.cache, this.headers).catch(function (s) { i.logger.error(s) }), "enter", "pending") } }, e.$ = function (t) { var i = this.W(t); if (i) { if (this.transitions.isRunning && this.preventRunning) return t.preventDefault(), void t.stopPropagation(); this.F = t, this.go(this.dom.getHref(i), i, t) } }, e.X = function (t) { this.go(this.url.getHref(), "popstate", t) }, e.W = function (t) { for (var i = t.target; i && !this.dom.getHref(i);)i = i.parentNode; if (i && !this.prevent.checkLink(i, t, this.dom.getHref(i))) return i }, e.I = function () { var t = this.url.getHref(), i = { container: this.dom.getContainer(), html: this.dom.getHtml(), namespace: this.dom.getNamespace(), url: ve({ href: t }, this.url.parse(t)) }; this.D = { current: i, event: void 0, next: ve({}, this.schemaPage), trigger: void 0 }, this.hooks.do("reset", this.data) }, Ri(a, [{ key: "data", get: function () { return this.D } }, { key: "wrapper", get: function () { return this.q } }]), a }()); function Ni(a) { const e = a.querySelector(".is-manifesto-text"), t = a.querySelector(".chevrons"); e && F.to(e, { opacity: 0, duration: .4, ease: "power2.inOut" }), t && F.to(t, { opacity: 0, duration: .4, ease: "power2.inOut" }) } function Fi(a) { const e = a.querySelector(".is-manifesto-text"), t = a.querySelector(".chevrons"), i = F.timeline(); e && i.set(e, { opacity: 0 }).to(e, { opacity: 1, duration: .2, ease: "none" }).to(e, { opacity: 0, duration: .2, ease: "none" }).to(e, { opacity: 1, duration: .2, ease: "none" }), t && i.set(t, { opacity: 0 }, 0).to(t, { opacity: 1, duration: .2, ease: "none" }, 0).to(t, { opacity: 0, duration: .2, ease: "none" }, ">").to(t, { opacity: 1, duration: .2, ease: "none" }, ">") } function mo() { const a = document.querySelector(".viewport_right"), e = document.querySelector(".viewport_left"), t = document.querySelectorAll(".toggle_button:not(.is-active)"), i = document.querySelector(".toggle_button.is-active"), n = document.querySelectorAll(".toggle_arrow"), r = document.querySelector(".is--label"); if (window.innerWidth < 992) return e.style.display = "none", Promise.resolve(); const s = F.timeline(); return r && F.set(r, { display: "none" }), s.to(t, { flex: "0 1 0%", opacity: 0, duration: .6, ease: "power2.inOut" }).to(n, { opacity: 0, duration: .3, onComplete: () => { t.forEach(o => o.style.display = "none"), n.forEach(o => o.style.display = "none") } }, "<").to(i, { flex: "1 1 100%", duration: .8, ease: "power2.inOut" }, "<"), s.to(a, { width: "100vw", duration: 1, ease: "serpeasing", onComplete: function () { e.style.display = "none", i && (i.style.display = "none", i.classList.remove("is-active")) } }, 0), s } function Kt(a, e, t = 500) { const i = "ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789%.-"; let n = 0; const r = Math.max(e.length, a.textContent.length), s = setInterval(() => { const o = e.split("").map((c, l) => l < n ? e[l] : i[Math.floor(Math.random() * i.length)]).join(""); a.textContent = o, n++, n >= r && (clearInterval(s), a.textContent = e) }, t / r) } function _o() { "scrollRestoration" in history && (history.scrollRestoration = "manual"), Je.hooks.before(t => { t.next.namespace !== "home" && (document.body.classList.add("barba-transition"), document.body.style.animation = "hide-scrollbars 1.5s forwards", document.documentElement.style.overflow = "hidden", document.body.style.overflow = "hidden") }), Je.hooks.after(() => { window.scrollTo(0, 0), typeof Qe == "function" && F.delayedCall(.1, Qe), F.delayedCall(.3, () => { document.body.classList.remove("barba-transition"), document.body.style.animation = "", document.documentElement.style.overflow = "", document.body.style.overflow = "" }) }); const a = { name: "default-transition", leave: ({ current: t }) => new Promise(i => { Ni(t.container), F.delayedCall(.4, i) }), enter({ next: t, current: i }) { Fi(t.container); const n = i == null ? void 0 : i.container.querySelector(".toggle_button.is-active"), r = t.container.querySelector(".is--label"); if (n && r) { const u = n.getBoundingClientRect(); F.set(r, { position: "absolute", top: u.top, left: u.left, width: u.width, height: u.height, display: "flex" }), F.to(r, { position: "static", clearProps: "all", duration: .3, ease: "power2.inOut" }), Ni(r), Fi(r) } const s = t.container.querySelector("#manifesto > .label"), o = i == null ? void 0 : i.container.querySelector("#manifesto > .label"), c = t.container.querySelector(".is--scramble"), l = i == null ? void 0 : i.container.querySelector(".is--scramble"); return s && o && Kt(s, s.textContent), c && l && Kt(c, c.textContent), Promise.resolve() }, after() { Hi() } }, e = { name: "leave-home-transition", from: { namespace: "home" }, leave: t => new Promise(i => { Ni(t.current.container), F.delayedCall(.4, () => { mo().then(i) }) }), enter({ next: t, current: i }) { Fi(t.container); const n = t.container.querySelector("#manifesto > .label"), r = i == null ? void 0 : i.container.querySelector("#manifesto > .label"); return n && r && Kt(n, n.textContent), Promise.resolve() }, after() { Hi() } }; Je.init({ prevent: ({ el: t }) => { const i = t.href.replace(window.location.origin, ""); return i === "/" || i === "/index.html" || i.startsWith("/?") || i.startsWith("/index.html?") }, debug: !0, preventRunning: !0, prefetch: !0, transitions: [e, a] }), Je.hooks.enter(t => { t.next.namespace !== "home" && F.delayedCall(1, () => { t.next.container.style.opacity === "0" && F.to(t.next.container, { opacity: 1, duration: .3 }) }) }), window.addEventListener("error", t => { if (t.error && t.error.message && t.error.message.includes("barba")) { console.error("Barba transition error:", t.error), document.body.classList.remove("barba-transition"), document.body.style.animation = "", document.documentElement.style.overflow = "", document.body.style.overflow = ""; const i = document.querySelector('[data-barba="container"]'); i && (i.style.opacity = "1") } }), window.addEventListener("popstate", () => { const t = window.location.pathname; if (t === "/" || t === "/index.html") { window.location.reload(); return } Je.history && Je.history.current && (Je.history.current.trigger = "back") }) } F.registerPlugin(Ye), Ye.create("serpeasing", "M0,0 C0.37,0.01 0.01,0.99 1,1"); const go = { ".is-rate": { type: "number", min: 40, max: 50, suffix: "%" }, ".is-souls": { type: "number", min: 91, max: 97, range: !0, decimalPlaces: 3, suffix: "" }, ".is-entropy": { type: "number", range: !0, min: -.017, max: .115, suffix: "\u0394", decimalPlaces: 3 }, ".is-trust": { type: "text", options: ["\u2588\u2588\u2588%", "\u2588\u2588\u2588%", "\u2588\u2588%", "--"] }, ".is-initiation": { type: "number", min: 5, max: 12, suffix: "await." }, ".is-neural": { type: "text", options: ["High", "Med.", "Null", "Max.", "Lost", "--", "\u221E"] }, ".is-origin": { type: "text", options: ["@serp", "@v0id", "--", "@\u03A9421", "@\u03A9314"] }, ".is-pulse": { type: "number", min: 10.8, max: 17.7, suffix: "HZ" }, ".is-memory": { type: "number", min: 18, max: 71, suffix: "% Mem" }, ".is-cpu": { type: "number", min: 21, max: 82, suffix: "% CPU" } }; function yo(a) { if (a.type === "number") { if (a.range) { const t = Math.random() * (a.max - a.min) + a.min, i = t.toFixed(a.decimalPlaces || 3); return `${t >= 0 ? `+${i}` : i}${a.suffix || ""}` } return `${Math.floor(Math.random() * (a.max - a.min + 1)) + a.min}${a.suffix || ""}` } else if (a.type === "text") return a.options[Math.floor(Math.random() * a.options.length)]; return "" } function vo() { Object.entries(go).forEach(([a, e]) => { document.querySelectorAll(a).forEach(i => { const n = yo(e); Kt(i, n) }) }) } function bo() { setInterval(vo, 4e3), Fs() } function Hi() { var n; Us(), or(), sr(); const a = document.querySelector(".dropdown"), e = document.querySelector(".dropdown-inner"); a && e && a.addEventListener("click", () => { e.style.display = e.style.display === "flex" ? "none" : "flex" }), xo("[data-scramble]", { target: ".label" }), So(), wo(); const t = document.getElementById("game"), i = document.getElementById("manifesto"); t && i && (((n = document.querySelector('[data-barba="container"]')) == null ? void 0 : n.dataset.barbaNamespace) === "home" && (t.classList.add("is-active"), i.classList.remove("is-active")), t.addEventListener("click", () => { var s; t.classList.contains("is-active") || (t.classList.add("is-active"), i.classList.remove("is-active"), ((s = document.querySelector('[data-barba="container"]')) == null ? void 0 : s.dataset.barbaNamespace) === "home" && setTimeout(() => { Li() }, 100)) }), i.addEventListener("click", () => { i.classList.contains("is-active") || (i.classList.add("is-active"), t.classList.remove("is-active")) })) } function wo() {
    const a = document.getElementById("manifesto"), e = document.getElementById("game"), t = document.getElementById("manifesto-view"), i = document.getElementById("game-view"), n = document.getElementById("left-arrow"), r = document.getElementById("right-arrow"), s = document.querySelector(".viewport_right"), o = document.querySelector(".viewport_right-inner"), c = document.querySelector(".content-wrapper"), l = document.querySelector(".view-container"), u = document.querySelector(".game_inner"); if (!a || !e || !t || !i || !n || !r || !s || !o || !c || !l || !u) return; function f(p) {
      var g; const h = ((g = document.querySelector('[data-barba="container"]')) == null ? void 0 : g.dataset.barbaNamespace) === "home"; t.classList.toggle("is-visible", p), i.classList.toggle("is-visible", !p), a.classList.toggle("is-active", p), e.classList.toggle("is-active", !p), n.classList.toggle("is-active", p), r.classList.toggle("is-active", !p), n.style.opacity = p ? "1" : "0.5", r.style.opacity = p ? "0.5" : "1", p ? (s.style.cssText = "", o.style.cssText = "", c.style.cssText = "", l.style.cssText = "", u.style.cssText = "", setTimeout(() => { ye() }, 0)) : (s.style.cssText = `
        height: 100vh;
        min-height: 100vh;
        display: flex;
        flex-direction: column;
        overflow: hidden;
      `, o.style.cssText = `
        height: 100%;
        min-height: 0;
        display: flex;
        flex-direction: column;
        overflow: hidden;
      `, c.style.cssText = `
        height: 100%;
        min-height: 0;
        display: flex;
        flex-direction: column;
        overflow: hidden;
      `, l.style.cssText = `
        flex: 1;
        min-height: 0;
        display: flex;
        flex-direction: column;
        overflow: hidden;
      `, u.style.cssText = `
        flex: 1;
        min-height: 0;
        display: flex;
        position: relative;
        overflow: hidden;
      `, h && (u._cleanup && u._cleanup(), Li()))
    } a.addEventListener("click", () => { f(!0) }), e.addEventListener("click", () => { f(!1) }); function d(p, m) { p.addEventListener("mouseenter", () => { p.classList.contains("is-active") || (m.style.opacity = "1", m.classList.remove("animate"), m.offsetWidth, m.classList.add("animate")) }), p.addEventListener("mouseleave", () => { p.classList.contains("is-active") || (m.style.opacity = "0.5") }), m.addEventListener("animationend", () => { m.classList.remove("animate") }) } d(a, n), d(e, r), i.classList.contains("is-visible") ? (s.style.cssText = `
      height: 100vh;
      min-height: 100vh;
      display: flex;
      flex-direction: column;
      overflow: hidden;
    `, o.style.cssText = `
      height: 100%;
      min-height: 0;
      display: flex;
      flex-direction: column;
      overflow: hidden;
    `, c.style.cssText = `
      height: 100%;
      min-height: 0;
      display: flex;
      flex-direction: column;
      overflow: hidden;
    `, l.style.cssText = `
      flex: 1;
      min-height: 0;
      display: flex;
      flex-direction: column;
      overflow: hidden;
    `, u.style.cssText = `
      flex: 1;
      min-height: 0;
      display: flex;
      position: relative;
      overflow: hidden;
    `) : setTimeout(() => { ye() }, 0)
  } function xo(a, e = {}) { const { speed: t = 150, target: i = null } = e, n = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789!@#$%^&*()_-+=<>?/[]{}"; document.querySelectorAll(a).forEach(r => { const s = i ? r.querySelector(i) : r; if (!s) return; const o = s.textContent; r.addEventListener("mouseenter", () => { let c = "", l = 0; const u = setInterval(() => { c = ""; for (let f = 0; f < o.length; f++)f < l ? c += o[f] : c += n.charAt(Math.floor(Math.random() * n.length)); s.textContent = c, l < o.length ? l++ : (clearInterval(u), s.textContent = o) }, t) }) }) } function So() { const a = document.querySelector(".home"), e = document.querySelector(".nav-wrapper"), t = document.querySelector(".header"); if (!a || !e || !t) return; const i = window.matchMedia("(max-width: 991px)"); function n(r) { r.matches ? a.parentElement !== e && e.insertBefore(a, e.firstChild) : a.parentElement !== t && t.insertBefore(a, e) } n(i), i.addEventListener("change", n) } document.addEventListener("DOMContentLoaded", () => { var e; if (bo(), _o(), Hi(), ((e = document.querySelector('[data-barba="container"]')) == null ? void 0 : e.dataset.barbaNamespace) === "home") { const t = document.getElementById("game"), i = document.getElementById("manifesto"); t && i && (t.classList.add("is-active"), i.classList.remove("is-active")), Li() } }), window.addEventListener("resize", () => { var e; if (((e = document.querySelector('[data-barba="container"]')) == null ? void 0 : e.dataset.barbaNamespace) === "home") { const t = document.querySelector(".viewport_right"); t && (window.innerWidth >= 992 ? t.style.width = window.innerWidth >= 1440 ? "60vw" : "70vw" : t.style.removeProperty("width")) } typeof Qe == "function" && Qe() })
});
